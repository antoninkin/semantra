{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/types.ts","../../node_modules/svelte-inview/dist/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/explainQueue.ts","../../src/components/SearchResultText.svelte","../../src/components/SearchResult.svelte","../../src/components/SearchResults.svelte","../../node_modules/ace-builds/src-noconflict/ace.js","../../src/components/TextView.svelte","../../src/components/SearchBar.svelte","../../src/components/PdfPageImage.svelte","../../node_modules/rbush/rbush.min.js","../../src/layoutEngine.ts","../../src/components/PdfChars.svelte","../../src/components/PdfPage.svelte","../../src/components/PdfView.svelte","../../src/components/TabBar.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value === null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.58.0' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n",null,"function run(fn) {\n    return fn();\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\n\nconst dirty_components = [];\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (flushidx < dirty_components.length) {\n            const component = dirty_components[flushidx];\n            flushidx++;\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nconst defaultOptions = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0,\r\n    unobserveOnEnter: false,\r\n};\r\nconst createEvent = (name, detail) => new CustomEvent(name, { detail });\r\nfunction inview(node, options = {}) {\r\n    const { root, rootMargin, threshold, unobserveOnEnter } = Object.assign(Object.assign({}, defaultOptions), options);\r\n    let prevPos = {\r\n        x: undefined,\r\n        y: undefined,\r\n    };\r\n    let scrollDirection = {\r\n        vertical: undefined,\r\n        horizontal: undefined,\r\n    };\r\n    if (typeof IntersectionObserver !== 'undefined' && node) {\r\n        const observer = new IntersectionObserver((entries, _observer) => {\r\n            entries.forEach((singleEntry) => {\r\n                if (prevPos.y > singleEntry.boundingClientRect.y) {\r\n                    scrollDirection.vertical = 'up';\r\n                }\r\n                else {\r\n                    scrollDirection.vertical = 'down';\r\n                }\r\n                if (prevPos.x > singleEntry.boundingClientRect.x) {\r\n                    scrollDirection.horizontal = 'left';\r\n                }\r\n                else {\r\n                    scrollDirection.horizontal = 'right';\r\n                }\r\n                prevPos = {\r\n                    y: singleEntry.boundingClientRect.y,\r\n                    x: singleEntry.boundingClientRect.x,\r\n                };\r\n                const detail = {\r\n                    inView: singleEntry.isIntersecting,\r\n                    entry: singleEntry,\r\n                    scrollDirection,\r\n                    node,\r\n                    observer: _observer,\r\n                };\r\n                node.dispatchEvent(createEvent('inview_change', detail));\r\n                //@ts-expect-error only for backward compatibility\r\n                node.dispatchEvent(createEvent('change', detail));\r\n                if (singleEntry.isIntersecting) {\r\n                    node.dispatchEvent(createEvent('inview_enter', detail));\r\n                    //@ts-expect-error only for backward compatibility\r\n                    node.dispatchEvent(createEvent('enter', detail));\r\n                    unobserveOnEnter && _observer.unobserve(node);\r\n                }\r\n                else {\r\n                    node.dispatchEvent(createEvent('inview_leave', detail));\r\n                    //@ts-expect-error only for backward compatibility\r\n                    node.dispatchEvent(createEvent('leave', detail));\r\n                }\r\n            });\r\n        }, {\r\n            root,\r\n            rootMargin,\r\n            threshold,\r\n        });\r\n        tick().then(() => {\r\n            node.dispatchEvent(createEvent('inview_init', { observer, node }));\r\n            node.dispatchEvent(\r\n            //@ts-expect-error only for backward compatibility\r\n            createEvent('init', { observer, node }));\r\n        });\r\n        observer.observe(node);\r\n        return {\r\n            destroy() {\r\n                observer.unobserve(node);\r\n            },\r\n        };\r\n    }\r\n}\n\nexport { inview };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0 && stop) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let started = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (started) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        started = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n            // We need to set this to false because callbacks can still happen despite having unsubscribed:\n            // Callbacks might already be placed in the queue which doesn't know it should no longer\n            // invoke this derived store.\n            started = false;\n        };\n    });\n}\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @param store - store to make readonly\n */\nfunction readonly(store) {\n    return {\n        subscribe: store.subscribe.bind(store)\n    };\n}\n\nexport { derived, readable, readonly, writable };\n",null,"<script lang=\"ts\">\n  import { inview, type Options } from \"svelte-inview\";\n  import type { Highlight, SearchResult } from \"../types\";\n  import { explainDictionary, requestExplanation } from \"../explainQueue\";\n\n  let element: HTMLSpanElement;\n\n  const options: Options = {\n    rootMargin: \"50px\",\n  };\n\n  export let text: string;\n  export let searchResult: SearchResult;\n  let highlights: Highlight[] | null = null;\n\n  $: params = {\n    filename: searchResult.filename,\n    offset: searchResult.offset,\n    queries: searchResult.queries,\n    preferences: searchResult.preferences,\n    text: text,\n  };\n\n  $: highlights = $explainDictionary[JSON.stringify(params)];\n\n  let isInView = false;\n  let inViewTimeout: number | null = null;\n  let isInViewForEnoughTime = false;\n\n  $: {\n    if (isInView) {\n      inViewTimeout = setTimeout(() => {\n        isInViewForEnoughTime = true;\n        requestExplanation(element, params);\n      }, 100);\n    } else {\n      isInViewForEnoughTime = false;\n      if (inViewTimeout !== null) {\n        clearTimeout(inViewTimeout);\n        inViewTimeout = null;\n      }\n    }\n  }\n</script>\n\n<span\n  use:inview={options}\n  on:inview_change={(e) => (isInView = e.detail.inView)}\n  bind:this={element}\n>\n  {#if highlights == null}\n    <span>{text}</span>\n  {:else}\n    {#each highlights as highlight}\n      {#if highlight.type === \"highlight\"}\n        <span class=\"explain-highlight\">{highlight.text}</span>\n      {:else}\n        <span>{highlight.text}</span>\n      {/if}\n    {/each}\n  {/if}\n</span>\n\n<style>\n  .explain-highlight {\n    background-color: rgb(154 134 0 / 18%);\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\";\n  import {\n    preferenceKey,\n    type File,\n    type SearchResult,\n    type Preference,\n  } from \"../types\";\n  import SearchResultText from \"./SearchResultText.svelte\";\n\n  export let file: File;\n  export let searchResult: SearchResult;\n  export let preferences: { [key: string]: Preference };\n  export let showFilename = false;\n\n  const dispatch = createEventDispatcher();\n\n  $: prefKey = preferenceKey(file, searchResult);\n  $: preference = preferences[prefKey] || {\n    file,\n    searchResult,\n    weight: 0,\n  };\n\n  function jumpToResult(file: File, searchResult: SearchResult) {\n    dispatch(\"navigate\", { file, searchResult });\n  }\n\n  function setPreference(\n    e: Event,\n    file: File,\n    searchResult: SearchResult,\n    weight: number\n  ) {\n    dispatch(\"setPreference\", {\n      file,\n      searchResult,\n      weight,\n    });\n    e.stopPropagation();\n  }\n</script>\n\n<!-- svelte-ignore a11y-click-events-have-key-events -->\n<li\n  on:click={() => jumpToResult(file, searchResult)}\n  class=\"font-mono text-sm border-b last:border-0 py-4 px-4 border-black pointer\"\n>\n  <div\n    class=\"border-l-4 border-transparent pl-2 -ml-2\"\n    class:!border-blue-600={preference.weight > 0}\n    class:!border-orange-500={preference.weight < 0}\n  >\n    {#if showFilename}\n      <div class=\"font-bold text-base my-2\">\n        {file.basename}\n        <span class=\"highlight px-1 rounded text-xs\"\n          >{searchResult.distance.toFixed(2)}</span\n        >\n      </div>\n    {:else}\n      <span class=\"text-xs highlight px-1 rounded\"\n        >{searchResult.distance.toFixed(2)}</span\n      >\n    {/if}\n    <button\n      class=\"bg-gray-300 rounded px-2\"\n      class:bg-blue-200={preference.weight > 0}\n      class:text-blue-600={preference.weight > 0}\n      class:font-bold={preference.weight > 0}\n      on:click={(e) =>\n        setPreference(e, file, searchResult, preference.weight > 0 ? 0 : 1)}\n      >+</button\n    >\n    <button\n      class=\"bg-gray-300 rounded px-2\"\n      class:bg-orange-200={preference.weight < 0}\n      class:text-orange-500={preference.weight < 0}\n      class:font-bold={preference.weight < 0}\n      on:click={(e) =>\n        setPreference(e, file, searchResult, preference.weight < 0 ? 0 : -1)}\n      >-</button\n    >\n    {#key JSON.stringify( { filename: searchResult.filename, offset: searchResult.offset, queries: searchResult.queries, preferences: searchResult.preferences, text: searchResult.text } )}\n      <SearchResultText {searchResult} text={searchResult.text} />\n    {/key}\n  </div>\n</li>\n\n<style>\n  .highlight {\n    background: rgb(255 222 0 / 39%);\n  }\n</style>\n","<script lang=\"ts\">\r\n  import type {\r\n    File,\r\n    Preference,\r\n    SearchResult,\r\n    SearchResultSet,\r\n    ScoredSearchResult,\r\n  } from \"../types\";\r\n  import SearchResultComponent from \"./SearchResult.svelte\";\r\n\r\n  export let searchResultSet: SearchResultSet;\r\n  export let filesByPath: { [path: string]: File };\r\n  export let preferences: { [key: string]: Preference };\r\n  export let activeFile: File | null;\r\n  export let unsearched: boolean;\r\n  export let sidebarExpanded = false;\r\n\r\n  type QueryWeight = {\r\n    query: string;\r\n    weight: number;\r\n  };\r\n\r\n  type MatchResult = {\r\n    text: string;\r\n    score: number;\r\n    offset: [number, number];\r\n    queryWeights: QueryWeight[];\r\n  };\r\n\r\n  type DocumentResult = {\r\n    document: string;\r\n    matches: MatchResult[];\r\n  };\r\n\r\n  function exportJSON() {\r\n    // Create sanitized versions of all objects\r\n    const sanitizedResults = searchResultSet.results.map(\r\n      ([filename, results]) => [\r\n        filename,\r\n        results.map((result) => ({\r\n          text: result.text,\r\n          distance: result.distance,\r\n          offset: [...result.offset],\r\n          index: result.index,\r\n          filename: result.filename,\r\n          queries: result.queries.map((q) => ({\r\n            query: q.query,\r\n            weight: q.weight,\r\n          })),\r\n          // Omit any properties that might contain PDF references\r\n        })),\r\n      ],\r\n    );\r\n\r\n    const exportData = {\r\n      searchTerms: getSearchTerms(), // Assuming this exists in your component\r\n      results: sanitizedResults,\r\n      sort: searchResultSet.sort,\r\n    };\r\n\r\n    // Generate and download the JSON file\r\n    const json = JSON.stringify(exportData, null, 2);\r\n    const blob = new Blob([json], { type: \"application/json\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = generateFileName(\"json\"); // Assuming this exists in your component\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(link.href);\r\n  }\r\n\r\n  function exportCSV(): void {\r\n    const searchTerms = getSearchTerms();\r\n    const rows: string[][] = [];\r\n\r\n    // Add search terms at the top\r\n    if (searchTerms.length > 0) {\r\n      rows.push([\"Search Terms\"]);\r\n      rows.push([searchTerms.join(\", \")]);\r\n      rows.push([]); // spacer row\r\n    }\r\n\r\n    // Header row\r\n    rows.push([\r\n      \"Document\",\r\n      \"Index\",\r\n      \"Passage\",\r\n      \"Score\",\r\n      \"Offset Start\",\r\n      \"Offset End\",\r\n      \"Queries (with weights)\",\r\n    ]);\r\n\r\n    scoredSearchResultSet.forEach(([filename, results]) => {\r\n      const file = filesByPath[filename];\r\n\r\n      results.forEach((result) => {\r\n        const queries = result.queries\r\n          .map((q) => `${q.query} (${q.weight.toFixed(3)})`)\r\n          .join(\"; \");\r\n\r\n        const preferences = result.preferences?.join(\"; \") ?? \"\";\r\n\r\n        rows.push([\r\n          file?.basename ?? filename,\r\n          result.index.toString(),\r\n          result.text.trim().replace(/[\\n\\r]+/g, \" \"),\r\n          result.distance.toFixed(3),\r\n          result.offset?.[0]?.toString() ?? \"\",\r\n          result.offset?.[1]?.toString() ?? \"\",\r\n          result.preferences?.length\r\n            ? result.preferences\r\n                .map((p) => `${p.query} (${p.weight})`)\r\n                .join(\"; \")\r\n            : queries,\r\n        ]);\r\n      });\r\n    });\r\n\r\n    const csv = rows\r\n      .map((row) =>\r\n        row.map((cell) => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(\",\"),\r\n      )\r\n      .join(\"\\n\");\r\n\r\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = generateFileName(\"csv\");\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(link.href);\r\n  }\r\n\r\n  let filterViewed = false;\r\n  let excerptView = false;\r\n\r\n  let filenameFilter = \"\";\r\n\r\n  let searchContainer: HTMLDivElement;\r\n\r\n  let detailReverse = false;\r\n  let filenameDetailClosed: { [filename: string]: boolean } = {};\r\n\r\n  export function scrollToTop() {\r\n    if (searchContainer) searchContainer.scrollTop = 0;\r\n  }\r\n\r\n  function filterFilename(filenameFilter: string, filename: string): boolean {\r\n    return filename.toLowerCase().includes(filenameFilter.toLowerCase());\r\n  }\r\n\r\n  function getScore(searchResults: SearchResult[]): number {\r\n    let total = 0;\r\n    for (const searchResult of searchResults) {\r\n      total += searchResult.distance;\r\n    }\r\n    return total / searchResults.length;\r\n  }\r\n\r\n  $: scoredSearchResultSet = searchResultSet.results\r\n    .map<ScoredSearchResult>(([filename, searchResults]) => [\r\n      filename,\r\n      searchResults,\r\n      getScore(searchResults),\r\n    ])\r\n    .sort((a, b) =>\r\n      searchResultSet.sort === \"asc\" ? a[2] - b[2] : b[2] - a[2],\r\n    )\r\n    .filter(([filename]) => {\r\n      if (filterViewed && activeFile != null) {\r\n        return filename === activeFile.filename;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n  $: sortedSearchResults = searchResultSet.results\r\n    .map((x) => x[1])\r\n    .flat()\r\n    .sort((a, b) =>\r\n      searchResultSet.sort === \"asc\"\r\n        ? a.distance - b.distance\r\n        : b.distance - a.distance,\r\n    )\r\n    .filter((searchResult) => {\r\n      if (filterViewed && activeFile != null) {\r\n        return searchResult.filename === activeFile.filename;\r\n      } else {\r\n        return true;\r\n      }\r\n    });\r\n\r\n  function handleToggle(e: Event, filename: string) {\r\n    const open = (e.target as HTMLDetailsElement).open;\r\n    filenameDetailClosed[filename] = detailReverse ? open : !open;\r\n  }\r\n\r\n  let showExportMenu = false;\r\n\r\n  function getSearchTerms(): string[] {\r\n    // Get unique search terms from queries\r\n    return [\r\n      ...new Set(\r\n        searchResultSet.results.flatMap(([_, results]) =>\r\n          results.flatMap((r) => r.queries.map((q) => q.query)),\r\n        ),\r\n      ),\r\n    ];\r\n  }\r\n\r\n  function generateFileName(extension: string): string {\r\n    const searchTerms = getSearchTerms();\r\n    const baseFileName =\r\n      searchTerms.length > 0\r\n        ? searchTerms[0]\r\n            .slice(0, 30)\r\n            .replace(/[^a-z0-9]/gi, \"_\")\r\n            .toLowerCase()\r\n        : `semantra-export-${new Date().toISOString().split(\"T\")[0]}`;\r\n\r\n    return `${baseFileName}.${extension}`;\r\n  }\r\n</script>\r\n\r\n<div\r\n  class=\"absolute top-11 z-10 hidden max-sm:block\"\r\n  class:hide={sidebarExpanded}\r\n>\r\n  <button\r\n    class=\"button hamburger-icon\"\r\n    title=\"Toggle sidebar expanded\"\r\n    on:click={() => (sidebarExpanded = !sidebarExpanded)}\r\n    >Toggle sidebar expanded</button\r\n  >\r\n</div>\r\n<div\r\n  class=\"w-1/3 max-lg:w-64 bg-slate-100 max-sm:absolute max-sm:left-0 max-sm:right-8 max-sm:bottom-0 max-sm:top-0 max-sm:w-[calc(100%-8rem)] border-r-4 z-10 border-black flex flex-col items-stretch flex-shrink-0\"\r\n  class:hide={!sidebarExpanded}\r\n>\r\n  <div class=\"flex items-center mb-2 pr-2 max-lg:flex-wrap\">\r\n    <div class=\"mt-2 hidden max-sm:block\">\r\n      <button\r\n        class=\"button hamburger-icon\"\r\n        title=\"Toggle sidebar expanded\"\r\n        on:click={() => (sidebarExpanded = !sidebarExpanded)}\r\n        >Toggle sidebar expanded</button\r\n      >\r\n    </div>\r\n    <div class=\"flex-1 flex items-center relative px-2 mt-2\" class:unsearched>\r\n      <input\r\n        class=\"border border-black bg-white py-1 pl-8 font-mono rounded flex-1 w-40\"\r\n        placeholder=\"Filter files\"\r\n        bind:value={filenameFilter}\r\n      />\r\n      <div class=\"filter-icon\">Filter</div>\r\n    </div>\r\n    <div class=\"mt-2\" class:unsearched>\r\n      {#if !excerptView}\r\n        <button\r\n          class=\"button toggle-detail-icon\"\r\n          title=\"Toggle search results expanded/collapsed\"\r\n          on:click={() => {\r\n            if (detailReverse) {\r\n              detailReverse = false;\r\n              filenameDetailClosed = {};\r\n            } else {\r\n              detailReverse = true;\r\n              filenameDetailClosed = {};\r\n            }\r\n          }}\r\n          >{#if detailReverse}Collapse all{:else}Expand all{/if}</button\r\n        >\r\n      {/if}\r\n      <button\r\n        class=\"button solo-icon\"\r\n        class:button-active={filterViewed}\r\n        disabled={activeFile == null}\r\n        on:click={() => (filterViewed = !filterViewed)}\r\n        title={filterViewed ? \"Show all files\" : \"Filter to only viewed file\"}\r\n      >\r\n        {#if filterViewed}\r\n          Show all files\r\n        {:else}Filter to only viewed file\r\n        {/if}</button\r\n      >\r\n      <button\r\n        class=\"button toggle-view-icon\"\r\n        title=\"Toggle search results view\"\r\n        on:click={() => (excerptView = !excerptView)}\r\n      >\r\n        {#if excerptView}\r\n          Show file view\r\n        {:else}Show exercept view{/if}</button\r\n      >\r\n      <div class=\"relative inline-block\" id=\"export-dropdown\">\r\n        <button\r\n          class=\"button save-icon\"\r\n          title=\"Export results\"\r\n          on:click|stopPropagation={() => (showExportMenu = !showExportMenu)}\r\n          >Export results</button\r\n        >\r\n        {#if showExportMenu}\r\n          <div\r\n            class=\"absolute right-0 top-full mt-1 py-2 w-48 bg-white rounded-md shadow-xl z-20 border border-black\"\r\n          >\r\n            <button\r\n              class=\"block px-4 py-2 text-sm w-full text-left hover:bg-gray-100\"\r\n              title=\"Save results to json\"\r\n              on:click={() => {\r\n                exportJSON();\r\n                showExportMenu = false;\r\n              }}\r\n            >\r\n              Export as JSON\r\n            </button>\r\n            <button\r\n              class=\"block px-4 py-2 text-sm w-full text-left hover:bg-gray-100\"\r\n              on:click={() => {\r\n                exportCSV();\r\n                showExportMenu = false;\r\n              }}\r\n            >\r\n              Export as CSV\r\n            </button>\r\n          </div>\r\n        {/if}\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"flex-1 relative\">\r\n    <div\r\n      class=\"absolute left-0 top-0 right-0 bottom-0 break-words overflow-y-auto pb-2\"\r\n      bind:this={searchContainer}\r\n    >\r\n      {#if excerptView}\r\n        <!-- Excerpt view -->\r\n        <ul class=\"-mt-2\">\r\n          {#each sortedSearchResults as searchResult}\r\n            {@const file = filesByPath[searchResult.filename]}\r\n            {#if file && filterFilename(filenameFilter, file.basename)}\r\n              {#key searchResult}\r\n                <SearchResultComponent\r\n                  on:navigate\r\n                  on:setPreference\r\n                  {file}\r\n                  {searchResult}\r\n                  {preferences}\r\n                  showFilename={true}\r\n                />\r\n              {/key}\r\n            {/if}\r\n          {/each}\r\n        </ul>\r\n      {:else}\r\n        <!-- File view -->\r\n        {#each scoredSearchResultSet as [filename, searchResults, score]}\r\n          {@const file = filesByPath[filename]}\r\n          {#if file && filterFilename(filenameFilter, file.basename)}\r\n            {#key [filename, searchResults, score]}\r\n              <details\r\n                open={detailReverse\r\n                  ? filenameDetailClosed[filename]\r\n                  : !filenameDetailClosed[filename]}\r\n                on:toggle={(e) => handleToggle(e, filename)}\r\n              >\r\n                <summary\r\n                  class=\"font-mono font-bold cursor-pointer select-none px-2 pt-2 top-0 sticky bg-slate-100\"\r\n                >\r\n                  {file ? file.basename : \"Unknown file\"}\r\n                  <span class=\"text-xs highlight px-1 rounded\"\r\n                    >{score.toFixed(2)}</span\r\n                  >\r\n                </summary>\r\n                <ul class=\"-mt-2\">\r\n                  {#each searchResults as searchResult}\r\n                    {#key searchResult}\r\n                      <SearchResultComponent\r\n                        on:navigate\r\n                        on:setPreference\r\n                        {file}\r\n                        {searchResult}\r\n                        {preferences}\r\n                        showFilename={false}\r\n                      />\r\n                    {/key}\r\n                  {/each}\r\n                </ul>\r\n              </details>\r\n            {/key}\r\n          {/if}\r\n        {/each}\r\n      {/if}\r\n      {#if unsearched}\r\n        <div class=\"m-2 font-mono\">\r\n          Enter a search query above and click the search icon or type Enter.\r\n        </div>\r\n      {/if}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .highlight {\r\n    background: rgb(255 222 0 / 39%);\r\n  }\r\n\r\n  .filter-icon {\r\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik04LjYyNSAxMy44MzNoMS4yMk0uMjgyIDEuNTQyaDE3LjkwN002Ljk1NiA5LjczNmg0LjU1OE0zLjY2IDUuNjM5aDExLjE1Ii8+PC9zdmc+\");\r\n    background-repeat: no-repeat;\r\n    text-indent: -9999px;\r\n    width: 20px;\r\n    position: absolute;\r\n    left: 16px;\r\n    top: 8px;\r\n  }\r\n\r\n  .button {\r\n    @apply border border-black rounded bg-white p-1;\r\n    text-indent: -9999px;\r\n    width: 42px;\r\n    margin: 0 0 0 4px;\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n  }\r\n\r\n  .button-active {\r\n    @apply bg-gray-200;\r\n  }\r\n\r\n  .solo-icon {\r\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIxMyIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBkPSJNMTAuMTMzIDEuNDhjLTMuNTg1IDAtNC44MzQgMS40NzMtOC45MDggNS4yMDcgNC4wNzQgMy43MzQgNS4zMjMgNS4yMDggOC45MDggNS4yMDggMy41ODUgMCA0LjgzNC0xLjQ3NCA4LjkwOC01LjIwOC00LjA3NC0zLjczNC01LjMyMy01LjIwNy04LjkwOC01LjIwN1oiLz48Y2lyY2xlIGN4PSIxMC4xMzMiIGN5PSI2LjY4NyIgcj0iMi4zMDUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMC4xMzMiIGN5PSI2LjY4NyIgcj0iMy42OTQiIHN0cm9rZT0iIzAwMCIvPjwvc3ZnPg==\");\r\n    background-size: 80%;\r\n  }\r\n\r\n  .toggle-view-icon {\r\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjIgMWgxMHYxSC4zVjFabTEwLjMgOC45aDguNlYxMWgtOC42VjkuOVptLS4yLTdIMi44VjRoNy41VjNabS4yIDguOWg4LjZ2MWgtOC42di0xWm0tLjItN0gyLjhWNmg3LjVWNVptLjIgOC45aDguNnYxaC04LjZ2LTFabS0uMi03SDIuOHYxLjFoNy41di0xWk0xNCA0LjZsLjkgMS0xIC45LTItMi4zLS4zLS41LjUtLjRMMTQgMS42bC44IDEtLjguN0E1IDUgMCAwIDEgMTcgNC42YzEgMSAxLjMgMi4zIDEuMyAzLjhoLTEuM2MwLTEuMy0uMy0yLjItMS0yLjktLjQtLjQtMS0uOC0xLjgtMVptLTggNy4yIDEgMWMtLjktLjItMS41LS41LTEuOS0xLS42LS42LTEtMS42LTEtMi44SDNjMCAxLjQuMyAyLjggMS4zIDMuOEE1IDUgMCAwIDAgNyAxNGwtLjguNy45IDFMOSAxNGwuNC0uNC0uNC0uNS0yLTIuMy0xIC45WiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+\");\r\n    background-size: 70%;\r\n  }\r\n\r\n  .save-icon {\r\n    background-image: url(\"../download.png\");\r\n    background-size: 70%;\r\n  }\r\n\r\n  .toggle-detail-icon {\r\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxNSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik01LjIuNHY5LjdNLjQgNS4zSDEwTTkuMiAxMy43aDguOSIvPjwvc3ZnPg==\");\r\n    background-size: 60%;\r\n  }\r\n\r\n  .hamburger-icon {\r\n    width: 32px;\r\n    background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMSIgZmlsbD0ibm9uZSI+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik0uMyAxLjZoMTcuOU0uMyA5LjhoMTcuOU0uMyA1LjdoMTcuOSIvPjwvc3ZnPg==\");\r\n    background-size: 80%;\r\n  }\r\n\r\n  .hide {\r\n    display: none;\r\n  }\r\n\r\n  @media (max-width: 640px) {\r\n    .hide {\r\n      display: block !important;\r\n    }\r\n  }\r\n\r\n  .unsearched {\r\n    @apply pointer-events-none opacity-20 select-none;\r\n  }\r\n</style>\r\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/es6-shim\",[\"require\",\"exports\",\"module\"], function(require, exports, module){function defineProp(obj, name, val) {\n    Object.defineProperty(obj, name, {\n        value: val,\n        enumerable: false,\n        writable: true,\n        configurable: true\n    });\n}\nif (!String.prototype.startsWith) {\n    defineProp(String.prototype, \"startsWith\", function (searchString, position) {\n        position = position || 0;\n        return this.lastIndexOf(searchString, position) === position;\n    });\n}\nif (!String.prototype.endsWith) {\n    defineProp(String.prototype, \"endsWith\", function (searchString, position) {\n        var subjectString = this;\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    });\n}\nif (!String.prototype.repeat) {\n    defineProp(String.prototype, \"repeat\", function (count) {\n        var result = \"\";\n        var string = this;\n        while (count > 0) {\n            if (count & 1)\n                result += string;\n            if ((count >>= 1))\n                string += string;\n        }\n        return result;\n    });\n}\nif (!String.prototype.includes) {\n    defineProp(String.prototype, \"includes\", function (str, position) {\n        return this.indexOf(str, position) != -1;\n    });\n}\nif (!Object.assign) {\n    Object.assign = function (target) {\n        if (target === undefined || target === null) {\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                Object.keys(source).forEach(function (key) {\n                    output[key] = source[key];\n                });\n            }\n        }\n        return output;\n    };\n}\nif (!Object.values) {\n    Object.values = function (o) {\n        return Object.keys(o).map(function (k) {\n            return o[k];\n        });\n    };\n}\nif (!Array.prototype.find) {\n    defineProp(Array.prototype, \"find\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return kValue;\n            }\n        }\n    });\n}\nif (!Array.prototype.findIndex) {\n    defineProp(Array.prototype, \"findIndex\", function (predicate) {\n        var len = this.length;\n        var thisArg = arguments[1];\n        for (var k = 0; k < len; k++) {\n            var kValue = this[k];\n            if (predicate.call(thisArg, kValue, k, this)) {\n                return k;\n            }\n        }\n    });\n}\nif (!Array.prototype.includes) {\n    defineProp(Array.prototype, \"includes\", function (item, position) {\n        return this.indexOf(item, position) != -1;\n    });\n}\nif (!Array.prototype.fill) {\n    defineProp(Array.prototype, \"fill\", function (value) {\n        var O = this;\n        var len = O.length >>> 0;\n        var start = arguments[1];\n        var relativeStart = start >> 0;\n        var k = relativeStart < 0\n            ? Math.max(len + relativeStart, 0)\n            : Math.min(relativeStart, len);\n        var end = arguments[2];\n        var relativeEnd = end === undefined ? len : end >> 0;\n        var final = relativeEnd < 0\n            ? Math.max(len + relativeEnd, 0)\n            : Math.min(relativeEnd, len);\n        while (k < final) {\n            O[k] = value;\n            k++;\n        }\n        return O;\n    });\n}\nif (!Array.of) {\n    defineProp(Array, \"of\", function () {\n        return Array.prototype.slice.call(arguments);\n    });\n}\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/es6-shim\"], function(require, exports, module){// vim:set ts=4 sts=4 sw=4 st:\n\"use strict\";\nrequire(\"./es6-shim\");\n\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.last = function (a) {\n    return a[a.length - 1];\n};\nexports.stringReverse = function (string) {\n    return string.split(\"\").reverse().join(\"\");\n};\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\nexports.copyObject = function (obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\nexports.copyArray = function (array) {\n    var copy = [];\n    for (var i = 0, l = array.length; i < l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n};\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\nexports.arrayToMap = function (arr) {\n    var map = {};\n    for (var i = 0; i < arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n};\nexports.createMap = function (props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function (array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n};\nexports.escapeRegExp = function (str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\nexports.escapeHTML = function (str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\nexports.getMatchOffsets = function (string, regExp) {\n    var matches = [];\n    string.replace(regExp, function (str) {\n        matches.push({\n            offset: arguments[arguments.length - 2],\n            length: str.length\n        });\n    });\n    return matches;\n};\nexports.deferredCall = function (fcn) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var deferred = function (timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n    deferred.schedule = deferred;\n    deferred.call = function () {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n    deferred.cancel = function () {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    deferred.isPending = function () {\n        return timer;\n    };\n    return deferred;\n};\nexports.delayedCall = function (fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function () {\n        timer = null;\n        fcn();\n    };\n    var _self = function (timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.delay = function (timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n    _self.call = function () {\n        this.cancel();\n        fcn();\n    };\n    _self.cancel = function () {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n    _self.isPending = function () {\n        return timer;\n    };\n    return _self;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.inherits = function (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\nexports.mixin = function (obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\nexports.implement = function (proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function () {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    }\n    else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    }\n    else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE =\n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n        ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1])\n        : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\nif (exports.isIOS)\n    exports.isMac = true;\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"./useragent\");\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function (n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            }\n            else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            }\n            else if (n === \"ref\") {\n                if (refs)\n                    refs[val] = el;\n            }\n            else if (n === \"style\") {\n                if (typeof val == \"string\")\n                    el.style.cssText = val;\n            }\n            else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\nexports.getDocumentHead = function (doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\nexports.createElement = function (tag, ns) {\n    return document.createElementNS ?\n        document.createElementNS(ns || XHTML_NS, tag) :\n        document.createElement(tag);\n};\nexports.removeChildren = function (element) {\n    element.innerHTML = \"\";\n};\nexports.createTextNode = function (textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\nexports.createFragment = function (element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\nexports.hasCssClass = function (el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function (el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\nexports.toggleCssClass = function (el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function (node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    }\n    else {\n        exports.removeCssClass(node, className);\n    }\n};\nexports.hasCssString = function (id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length) {\n            if (sheets[index++].id === id) {\n                return true;\n            }\n        }\n    }\n};\nexports.removeElementById = function (id, doc) {\n    doc = doc || document;\n    if (doc.getElementById(id)) {\n        doc.getElementById(id).remove();\n    }\n};\nvar strictCSP;\nvar cssCache = [];\nexports.useStrictCSP = function (value) {\n    strictCSP = value;\n    if (value == false)\n        insertPendingStyles();\n    else if (!cssCache)\n        cssCache = [];\n};\nfunction insertPendingStyles() {\n    var cache = cssCache;\n    cssCache = null;\n    cache && cache.forEach(function (item) {\n        importCssString(item[0], item[1]);\n    });\n}\nfunction importCssString(cssText, id, target) {\n    if (typeof document == \"undefined\")\n        return;\n    if (cssCache) {\n        if (target) {\n            insertPendingStyles();\n        }\n        else if (target === false) {\n            return cssCache.push([cssText, id]);\n        }\n    }\n    if (strictCSP)\n        return;\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    }\n    else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n}\nexports.importCssString = importCssString;\nexports.importCssStylsheet = function (uri, doc) {\n    exports.buildDom([\"link\", { rel: \"stylesheet\", href: uri }], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function (doc) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n    outer.appendChild(inner);\n    var body = (doc && doc.documentElement) || (document && document.documentElement);\n    if (!body)\n        return 0;\n    body.appendChild(outer);\n    var noScrollbar = inner.offsetWidth;\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n    if (noScrollbar === withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n    body.removeChild(outer);\n    return noScrollbar - withScrollbar;\n};\nexports.computedStyle = function (element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\nexports.setStyle = function (styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\nif (useragent.isChromeOS)\n    exports.HI_DPI = false;\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function (element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) + \"px)\";\n    };\n}\nelse {\n    exports.translate = function (element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){/*\n * based on code from:\n *\n * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n\"use strict\";\nvar dom = require(\"./dom\");\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\nexports.loadScript = function (path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n    s.src = path;\n    head.appendChild(s);\n    s.onload = s.onreadystatechange = function (_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function (url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar EventEmitter = {};\nvar stopPropagation = function () { this.propagationStopped = true; };\nvar preventDefault = function () { this.defaultPrevented = true; };\nEventEmitter._emit =\n    EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n        if (typeof e != \"object\" || !e)\n            e = {};\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    };\nEventEmitter._signal = function (eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i = 0; i < listeners.length; i++)\n        listeners[i](e, this);\n};\nEventEmitter.once = function (eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function (resolve) {\n            callback = resolve;\n        });\n    }\n};\nEventEmitter.setDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = { _disabled_: {} };\n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function (eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    }\n    else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\nEventEmitter.on =\n    EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n        if (listeners.indexOf(callback) == -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\nEventEmitter.off =\n    EventEmitter.removeListener =\n        EventEmitter.removeEventListener = function (eventName, callback) {\n            this._eventRegistry = this._eventRegistry || {};\n            var listeners = this._eventRegistry[eventName];\n            if (!listeners)\n                return;\n            var index = listeners.indexOf(callback);\n            if (index !== -1)\n                listeners.splice(index, 1);\n        };\nEventEmitter.removeAllListeners = function (eventName) {\n    if (!eventName)\n        this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry)\n        this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers)\n        this._defaultHandlers[eventName] = undefined;\n};\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"no use strict\";\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\nvar optionsProvider = {\n    setOptions: function (optList) {\n        Object.keys(optList).forEach(function (key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function (optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function (key) {\n                return !options[key].hidden;\n            });\n        }\n        else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function (key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function (name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function (name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function () { throw e; });\n}\nvar AppConfig = function () {\n    this.$defaultOptions = {};\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function (obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n        Object.keys(options).forEach(function (key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = { forwardTo: opt };\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n        return this;\n    };\n    this.resetOptions = function (obj) {\n        Object.keys(obj.$options).forEach(function (key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n    this.setDefaultValue = function (path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n    this.setDefaultValues = function (path, optionHash) {\n        Object.keys(optionHash).forEach(function (key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    this.warn = warn;\n    this.reportError = reportError;\n}).call(AppConfig.prototype);\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/theme/textmate.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){module.exports = \".ace-tm .ace_gutter {\\n  background: #f0f0f0;\\n  color: #333;\\n}\\n\\n.ace-tm .ace_print-margin {\\n  width: 1px;\\n  background: #e8e8e8;\\n}\\n\\n.ace-tm .ace_fold {\\n    background-color: #6B72E6;\\n}\\n\\n.ace-tm {\\n  background-color: #FFFFFF;\\n  color: black;\\n}\\n\\n.ace-tm .ace_cursor {\\n  color: black;\\n}\\n        \\n.ace-tm .ace_invisible {\\n  color: rgb(191, 191, 191);\\n}\\n\\n.ace-tm .ace_storage,\\n.ace-tm .ace_keyword {\\n  color: blue;\\n}\\n\\n.ace-tm .ace_constant {\\n  color: rgb(197, 6, 11);\\n}\\n\\n.ace-tm .ace_constant.ace_buildin {\\n  color: rgb(88, 72, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_language {\\n  color: rgb(88, 92, 246);\\n}\\n\\n.ace-tm .ace_constant.ace_library {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_invalid {\\n  background-color: rgba(255, 0, 0, 0.1);\\n  color: red;\\n}\\n\\n.ace-tm .ace_support.ace_function {\\n  color: rgb(60, 76, 114);\\n}\\n\\n.ace-tm .ace_support.ace_constant {\\n  color: rgb(6, 150, 14);\\n}\\n\\n.ace-tm .ace_support.ace_type,\\n.ace-tm .ace_support.ace_class {\\n  color: rgb(109, 121, 222);\\n}\\n\\n.ace-tm .ace_keyword.ace_operator {\\n  color: rgb(104, 118, 135);\\n}\\n\\n.ace-tm .ace_string {\\n  color: rgb(3, 106, 7);\\n}\\n\\n.ace-tm .ace_comment {\\n  color: rgb(76, 136, 107);\\n}\\n\\n.ace-tm .ace_comment.ace_doc {\\n  color: rgb(0, 102, 255);\\n}\\n\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\n  color: rgb(128, 159, 191);\\n}\\n\\n.ace-tm .ace_constant.ace_numeric {\\n  color: rgb(0, 0, 205);\\n}\\n\\n.ace-tm .ace_variable {\\n  color: rgb(49, 132, 149);\\n}\\n\\n.ace-tm .ace_xml-pe {\\n  color: rgb(104, 104, 91);\\n}\\n\\n.ace-tm .ace_entity.ace_name.ace_function {\\n  color: #0000A2;\\n}\\n\\n\\n.ace-tm .ace_heading {\\n  color: rgb(12, 7, 255);\\n}\\n\\n.ace-tm .ace_list {\\n  color:rgb(185, 6, 144);\\n}\\n\\n.ace-tm .ace_meta.ace_tag {\\n  color:rgb(0, 22, 142);\\n}\\n\\n.ace-tm .ace_string.ace_regex {\\n  color: rgb(255, 0, 0)\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selection {\\n  background: rgb(181, 213, 255);\\n}\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\n  box-shadow: 0 0 3px 0px white;\\n}\\n.ace-tm .ace_marker-layer .ace_step {\\n  background: rgb(252, 255, 0);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_stack {\\n  background: rgb(164, 229, 101);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_bracket {\\n  margin: -1px 0 0 -1px;\\n  border: 1px solid rgb(192, 192, 192);\\n}\\n\\n.ace-tm .ace_marker-layer .ace_active-line {\\n  background: rgba(0, 0, 0, 0.07);\\n}\\n\\n.ace-tm .ace_gutter-active-line {\\n    background-color : #dcdcdc;\\n}\\n\\n.ace-tm .ace_marker-layer .ace_selected-word {\\n  background: rgb(250, 250, 255);\\n  border: 1px solid rgb(200, 200, 250);\\n}\\n\\n.ace-tm .ace_indent-guide {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\n}\\n\\n.ace-tm .ace_indent-guide-active {\\n  background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC\\\") right repeat-y;\\n}\\n\";\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/theme/textmate.css\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = require(\"./textmate.css\");\nexports.$id = \"ace/theme/textmate\";\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass, false);\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/dom\",\"ace/lib/app_config\",\"ace/theme/textmate\"], function(require, exports, module){\"no use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar dom = require(\"./lib/dom\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\nmodule.exports = exports = new AppConfig();\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false,\n    useStrictCSP: null\n};\nexports.get = function (key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n    return options[key];\n};\nexports.set = function (key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n    if (key == \"useStrictCSP\")\n        dom.useStrictCSP(value);\n};\nexports.all = function () {\n    return lang.copyObject(options);\n};\nexports.$modes = {};\nexports.moduleUrl = function (name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    }\n    else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\nexports.setModuleUrl = function (name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\nvar loader = function (moduleName, cb) {\n    if (moduleName === \"ace/theme/textmate\" || moduleName === \"./theme/textmate\")\n        return cb(null, require(\"./theme/textmate\"));\n    return console.error(\"loader is not configured\");\n};\nexports.setLoader = function (cb) {\n    loader = cb;\n};\nexports.dynamicModules = Object.create(null);\nexports.$loading = {};\nexports.loadModule = function (moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n    var load = function (module) {\n        if (module && !exports.$loading[moduleName])\n            return onLoad && onLoad(module);\n        if (!exports.$loading[moduleName])\n            exports.$loading[moduleName] = [];\n        exports.$loading[moduleName].push(onLoad);\n        if (exports.$loading[moduleName].length > 1)\n            return;\n        var afterLoad = function () {\n            loader(moduleName, function (err, module) {\n                exports._emit(\"load.module\", { name: moduleName, module: module });\n                var listeners = exports.$loading[moduleName];\n                exports.$loading[moduleName] = null;\n                listeners.forEach(function (onLoad) {\n                    onLoad && onLoad(module);\n                });\n            });\n        };\n        if (!exports.get(\"packaged\"))\n            return afterLoad();\n        net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n        reportErrorIfPathIsNotConfigured();\n    };\n    if (exports.dynamicModules[moduleName]) {\n        exports.dynamicModules[moduleName]().then(function (module) {\n            if (module.default) {\n                load(module.default);\n            }\n            else {\n                load(module);\n            }\n        });\n    }\n    else {\n        try {\n            module = require(moduleName);\n        }\n        catch (e) { }\n        load(module);\n    }\n};\nexports.setModuleLoader = function (moduleName, onLoad) {\n    exports.dynamicModules[moduleName] = onLoad;\n};\nvar reportErrorIfPathIsNotConfigured = function () {\n    if (!options.basePath && !options.workerPath\n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length) {\n        console.error(\"Unable to infer path to ace from script src,\", \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\", \"or with webpack use ace/webpack-resolver\");\n        reportErrorIfPathIsNotConfigured = function () { };\n    }\n};\nexports.version = \"1.16.0\";\n\n});\n\nace.define(\"ace/loader_build\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\nvar config = require(\"./config\");\nconfig.setLoader(function(moduleName, cb) {\n    require([moduleName], function(module) {\n        cb(null, module);\n    });\n});\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nmodule.exports = function(ace) {\n    config.init = init;\n    ace.require = require;\n\n    if (typeof define === \"function\")\n        ace.define = define;\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    config.set(\"packaged\", packaged || require.packaged || module.packaged || (global.define && define.packaged));\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    if (currentScript && currentScript.src) {\n        scriptUrl = currentScript.src.split(/[?#]/)[0].split(\"/\").slice(0, -1).join(\"/\") || \"\";\n    }\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace([\\-.]\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            config.set(key, scriptOptions[key]);\n}\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module){/*! @license\n==========================================================================\nSproutCore -- JavaScript Application Framework\ncopyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the \"Software\"),\nto deal in the Software without restriction, including without limitation\nthe rights to use, copy, modify, merge, publish, distribute, sublicense,\nand/or sell copies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\nDEALINGS IN THE SOFTWARE.\n\nSproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.\n\nFor more information about SproutCore, visit http://www.sproutcore.com\n\n\n==========================================================================\n@license */\n\"use strict\";\nvar oop = require(\"./oop\");\nvar Keys = (function () {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8,\n            \"control\": 1\n        },\n        FUNCTION_KEYS: {\n            8: \"Backspace\",\n            9: \"Tab\",\n            13: \"Return\",\n            19: \"Pause\",\n            27: \"Esc\",\n            32: \"Space\",\n            33: \"PageUp\",\n            34: \"PageDown\",\n            35: \"End\",\n            36: \"Home\",\n            37: \"Left\",\n            38: \"Up\",\n            39: \"Right\",\n            40: \"Down\",\n            44: \"Print\",\n            45: \"Insert\",\n            46: \"Delete\",\n            96: \"Numpad0\",\n            97: \"Numpad1\",\n            98: \"Numpad2\",\n            99: \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n        PRINTABLE_KEYS: {\n            32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',\n            54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',\n            66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',\n            73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',\n            80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',\n            87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',\n            186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n            219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    ret.PRINTABLE_KEYS[173] = '-';\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    (function () {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {\n            ret.KEY_MODS[i] = mods.filter(function (x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n    return ret;\n})();\noop.mixin(exports, Keys);\nexports.keyCodeToString = function (keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\nvar pressedKeys = null;\nvar ts = 0;\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function () { }, {\n            get passive() {\n                activeListenerOptions = { passive: false };\n            }\n        });\n    }\n    catch (e) { }\n}\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function () {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\nvar addListener = exports.addListener = function (elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\nvar removeListener = exports.removeListener = function (elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function (e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\nexports.stopPropagation = function (e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\nexports.preventDefault = function (e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function (e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\nexports.capture = function (el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    return onMouseUp;\n};\nexports.addMouseWheelListener = function (el, callback, destroyer) {\n    addListener(el, \"wheel\", function (e) {\n        var factor = 0.15;\n        var deltaX = e.deltaX || 0;\n        var deltaY = e.deltaY || 0;\n        switch (e.deltaMode) {\n            case e.DOM_DELTA_PIXEL:\n                e.wheelX = deltaX * factor;\n                e.wheelY = deltaY * factor;\n                break;\n            case e.DOM_DELTA_LINE:\n                var linePixels = 15;\n                e.wheelX = deltaX * linePixels;\n                e.wheelY = deltaY * linePixels;\n                break;\n            case e.DOM_DELTA_PAGE:\n                var pagePixels = 150;\n                e.wheelX = deltaX * pagePixels;\n                e.wheelY = deltaY * pagePixels;\n                break;\n        }\n        callback(e);\n    }, destroyer);\n};\nexports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer;\n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        }\n        else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        }\n        else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function () { timer = null; }, timeouts[clicks - 1] || 600);\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        e._clicks = clicks;\n        eventHandler[callbackName](\"mousedown\", e);\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\nvar getModifierHash = function (e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\nexports.getModifierString = function (e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            }\n            else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    return callback(e, hashId, keyCode);\n}\nexports.addCommandKeyListener = function (el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function (e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    }\n    else {\n        var lastDefaultPrevented = null;\n        addListener(el, \"keydown\", function (e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n        addListener(el, \"keypress\", function (e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n        addListener(el, \"keyup\", function (e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function (callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        var listener = function (e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\nexports.$idleBlocked = false;\nexports.onIdle = function (cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        }\n        else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\nexports.$idleBlockId = null;\nexports.blockIdle = function (delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function () {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function (startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n(function () {\n    this.isEqual = function (range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function () {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n    this.contains = function (row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function (range) {\n        var cmp, end = range.end, start = range.start;\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            }\n            else if (cmp == 0) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        }\n        else if (cmp == -1) {\n            return -2;\n        }\n        else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            }\n            else if (cmp == 1) {\n                return 42;\n            }\n            else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function (p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function (range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function (range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function (row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function (row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function (row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        }\n        else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function (row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        }\n        else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function (row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function (row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n        if (row < this.start.row)\n            return -1;\n        if (row > this.end.row)\n            return 1;\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n        return 0;\n    };\n    this.compareStart = function (row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function (row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        }\n        else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        }\n        else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function (firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = { row: lastRow + 1, column: 0 };\n        else if (this.end.row < firstRow)\n            var end = { row: firstRow, column: 0 };\n        if (this.start.row > lastRow)\n            var start = { row: lastRow + 1, column: 0 };\n        else if (this.start.row < firstRow)\n            var start = { row: firstRow, column: 0 };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function (row, column) {\n        var cmp = this.compare(row, column);\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = { row: row, column: column };\n        else\n            var end = { row: row, column: column };\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.isEmpty = function () {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function () {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function () {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function () {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function (session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n        return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n    };\n    this.moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n}).call(Range.prototype);\nRange.fromPoints = function (start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\nRange.comparePoints = function (p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nexports.Range = Range;\n\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar $cancelT;\nmodule.exports = {\n    lineMode: false,\n    pasteCancelled: function () {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function () {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE = useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\nvar TextInput = function (parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try {\n        var isFocused = document.activeElement === text;\n    }\n    catch (e) { }\n    this.setAriaOptions = function (options) {\n        if (options.activeDescendant) {\n            text.setAttribute(\"aria-haspopup\", \"true\");\n            text.setAttribute(\"aria-autocomplete\", options.inline ? \"both\" : \"list\");\n            text.setAttribute(\"aria-activedescendant\", options.activeDescendant);\n        }\n        else {\n            text.setAttribute(\"aria-haspopup\", \"false\");\n            text.setAttribute(\"aria-autocomplete\", \"both\");\n            text.removeAttribute(\"aria-activedescendant\");\n        }\n        if (options.role) {\n            text.setAttribute(\"role\", options.role);\n        }\n    };\n    this.setAriaOptions({ role: \"textbox\" });\n    event.addListener(text, \"blur\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function (e) {\n        if (ignoreFocusEvents)\n            return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            }\n            catch (e) { }\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function () {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        }\n        catch (e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function (p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function () {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function () {\n        text.blur();\n    };\n    this.isFocused = function () {\n        return isFocused;\n    };\n    host.on(\"beforeEndOperation\", function () {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    var resetSelection = isIOS\n        ? function (value) {\n            if (!isFocused || (copied && !value) || sendingText)\n                return;\n            if (!value)\n                value = \"\";\n            var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n            if (newValue != text.value)\n                text.value = lastValue = newValue;\n            var selectionStart = 4;\n            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            }\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n        }\n        : function () {\n            if (inComposition || sendingText)\n                return;\n            if (!isFocused && !afterContextMenu)\n                return;\n            inComposition = true;\n            var selectionStart = 0;\n            var selectionEnd = 0;\n            var line = \"\";\n            if (host.session) {\n                var selection = host.selection;\n                var range = selection.getRange();\n                var row = selection.cursor.row;\n                selectionStart = range.start.column;\n                selectionEnd = range.end.column;\n                line = host.session.getLine(row);\n                if (range.start.row != row) {\n                    var prevLine = host.session.getLine(row - 1);\n                    selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                    selectionEnd += prevLine.length + 1;\n                    line = prevLine + \"\\n\" + line;\n                }\n                else if (range.end.row != row) {\n                    var nextLine = host.session.getLine(row + 1);\n                    selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;\n                    selectionEnd += line.length + 1;\n                    line = line + \"\\n\" + nextLine;\n                }\n                else if (isMobile && row > 0) {\n                    line = \"\\n\" + line;\n                    selectionEnd += 1;\n                    selectionStart += 1;\n                }\n                if (line.length > MAX_LINE_LENGTH) {\n                    if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                        line = line.slice(0, MAX_LINE_LENGTH);\n                    }\n                    else {\n                        line = \"\\n\";\n                        if (selectionStart == selectionEnd) {\n                            selectionStart = selectionEnd = 0;\n                        }\n                        else {\n                            selectionStart = 0;\n                            selectionEnd = 1;\n                        }\n                    }\n                }\n            }\n            var newValue = line + \"\\n\\n\";\n            if (newValue != lastValue) {\n                text.value = lastValue = newValue;\n                lastSelectionStart = lastSelectionEnd = newValue.length;\n            }\n            if (afterContextMenu) {\n                lastSelectionStart = text.selectionStart;\n                lastSelectionEnd = text.selectionEnd;\n            }\n            if (lastSelectionEnd != selectionEnd\n                || lastSelectionStart != selectionStart\n                || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n            ) {\n                try {\n                    text.setSelectionRange(selectionStart, selectionEnd);\n                    lastSelectionStart = selectionStart;\n                    lastSelectionEnd = selectionEnd;\n                }\n                catch (e) { }\n            }\n            inComposition = false;\n        };\n    this.resetSelection = resetSelection;\n    if (isFocused)\n        host.onFocus();\n    var isAllSelected = function (text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n    var onSelect = function (e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        }\n        else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        }\n        else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n    var inputHandler = null;\n    this.setInputHandler = function (cb) { inputHandler = cb; };\n    this.getInputHandler = function () { return inputHandler; };\n    var afterContextMenu = false;\n    var sendText = function (value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        }\n        else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1 && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i - 1;\n            restoreEnd -= i - 1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            }\n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            }\n            else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function (e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\")\n                return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\")\n                return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (data.length > MAX_LINE_LENGTH + 100\n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {\n            resetSelection();\n        }\n    };\n    var handleClipboardData = function (e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            }\n            else {\n                return clipboardData.getData(mime);\n            }\n        }\n        catch (e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n    var doCopy = function (e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        }\n        else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function () {\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    var onCut = function (e) {\n        doCopy(e, true);\n    };\n    var onCopy = function (e) {\n        doCopy(e, false);\n    };\n    var onPaste = function (e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function (e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function (e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        if (commandMode)\n            return;\n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n    var onCompositionUpdate = function () {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n    var onCompositionEnd = function (e) {\n        if (!host.onCompositionEnd || host.$readOnly)\n            return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e)\n            onInput();\n    };\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n    this.getElement = function () {\n        return text;\n    };\n    this.setCommandMode = function (value) {\n        commandMode = value;\n        text.readOnly = false;\n    };\n    this.setReadOnly = function (readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n    this.setCopyWithEmptySelection = function (value) {\n    };\n    this.onContextMenu = function (e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n        this.moveToMouse(e, true);\n    };\n    this.moveToMouse = function (e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight - 2;\n        var move = function (e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        };\n        move(e);\n        if (e.type != \"mousedown\")\n            return;\n        host.renderer.$isMousePressed = true;\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n    var onContextMenu = function (e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function (e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout)\n                clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function (e) {\n            if (document.activeElement !== text)\n                return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed)\n                return;\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            }\n            else if (selectionStart == 1) {\n                key = KEYS.home;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            }\n            else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            }\n            else if (selectionStart < lastSelectionStart\n                || (selectionStart == lastSelectionStart\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.left;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            }\n            else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            }\n            else if (selectionEnd > lastSelectionEnd\n                || (selectionEnd == lastSelectionEnd\n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd)) {\n                key = KEYS.right;\n            }\n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function () {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n    this.destroy = function () {\n        if (text.parentElement)\n            text.parentElement.removeChild(text);\n    };\n};\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function (_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar useragent = require(\"../lib/useragent\");\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n(function () {\n    this.onMouseDown = function (ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n    this.startSelect = function (pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent)\n            return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n    this.select = function () {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            }\n            else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.extendSelectionBy = function (unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            }\n            else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            }\n            else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            }\n            else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n    this.selectEnd =\n        this.selectAllEnd =\n            this.selectByWordsEnd =\n                this.selectByLinesEnd = function () {\n                    this.$clickSelection = null;\n                    this.editor.unsetStyle(\"ace_selecting\");\n                };\n    this.focusWait = function () {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n    this.onDoubleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        }\n        else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n    this.onTripleClick = function (ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        }\n        else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n    this.onQuadClick = function (ev) {\n        var editor = this.editor;\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n    this.onMouseWheel = function (ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        var editor = this.editor;\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        var direction = Math.abs(vx / vy);\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n        if (canScroll) {\n            prevScroll.allowed = t;\n        }\n        else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n}).call(DefaultHandlers.prototype);\nexports.DefaultHandlers = DefaultHandlers;\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n    if (cmp < 0)\n        return { cursor: range.start, anchor: range.end };\n    else\n        return { cursor: range.end, anchor: range.start };\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar CLASSNAME = \"ace_tooltip\";\nfunction Tooltip(parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n(function () {\n    this.$init = function () {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = CLASSNAME;\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function () {\n        return this.$element || this.$init();\n    };\n    this.setText = function (text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function (html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function (x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function (className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function (text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n    this.hide = function () {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.getElement().className = CLASSNAME;\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function () {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function () {\n        return this.getElement().offsetWidth;\n    };\n    this.destroy = function () {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n}).call(Tooltip.prototype);\nexports.Tooltip = Tooltip;\n\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n        if (gutterRegion == \"foldWidgets\")\n            return;\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n        tooltip.setHtml(tooltipAnnotation);\n        var annotationClassName = annotation.className;\n        if (annotationClassName) {\n            tooltip.setClassName(annotationClassName.trim());\n        }\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        }\n        else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function () {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    editor.on(\"changeSession\", hideTooltip);\n}\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\noop.inherits(GutterTooltip, Tooltip);\n(function () {\n    this.setPosition = function (x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n}).call(GutterTooltip.prototype);\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n    this.$pos = null;\n    this.$inSelection = null;\n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n(function () {\n    this.stopPropagation = function () {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    this.preventDefault = function () {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    this.stop = function () {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function () {\n        if (this.$pos)\n            return this.$pos;\n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function () {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n        var editor = this.editor;\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n        return this.$inSelection;\n    };\n    this.getButton = function () {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function () {\n        return this.domEvent.shiftKey;\n    };\n    this.getAccelKey = useragent.isMac\n        ? function () { return this.domEvent.metaKey; }\n        : function () { return this.domEvent.ctrlKey; };\n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\nfunction DragdropHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var dragImage = dom.createElement(\"div\");\n    dragImage.style.cssText = \"top:-100px;position:absolute;z-index:2147483647;opacity:0.5\";\n    dragImage.textContent = \"\\xa0\";\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n    exports.forEach(function (x) {\n        mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n    this.onDragStart = function (e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function () {\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        editor.container.appendChild(dragImage);\n        dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);\n        setTimeout(function () {\n            editor.container.removeChild(dragImage);\n        });\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n    this.onDragEnd = function (e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n    this.onDragEnter = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragOver = function (e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n    this.onDragLeave = function (e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n    this.onDrop = function (e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    }\n                    else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        }\n        else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = { x: x, y: y };\n        }\n        else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            }\n            else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n            x: {\n                left: x - editorRect.left,\n                right: editorRect.right - x\n            },\n            y: {\n                top: y - editorRect.top,\n                bottom: editorRect.bottom - y\n            }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = { row: cursor.row, column: cursor.column };\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        }\n        else {\n            autoScrollStartTime = null;\n        }\n    }\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function () {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function (type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        }\n        catch (e) { }\n        var dropEffect = \"none\";\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        return dropEffect;\n    }\n}\n(function () {\n    this.dragWait = function () {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n    this.dragWaitEnd = function () {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n    this.dragReadyEnd = function (e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n    this.startDrag = function () {\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n    this.onMouseDrag = function (e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n    this.onMouseDown = function (e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            }\n            else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n}).call(DragdropHandler.prototype);\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\nexports.addTouchListeners = function (el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function () {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(dom.buildDom(isOpen ? [\"span\",\n                !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Palette\"]\n            ] : [\"span\"]), contextMenu.firstChild);\n        };\n        var handleClick = function (e) {\n            var action = e.target.getAttribute(\"action\");\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function (e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu)\n            createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        }\n        else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        }\n        else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function (e) {\n        if (!pressed)\n            return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        }\n        else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function (x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            var diff1 = weightedDistance(e.clientX - rect.left - cursorPos.left + offsetLeft, e.clientY - rect.top - cursorPos.top + offsetTop);\n            var diff2 = weightedDistance(e.clientX - rect.left - anchorPos.left + offsetLeft, e.clientY - rect.top - anchorPos.top + offsetTop);\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer)\n            clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        }\n        else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        }\n        else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        }\n        else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\")\n            return;\n        var touchObj = touches[0];\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY))\n                wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX))\n                wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function () {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01)\n                vX = 0;\n            if (Math.abs(vY) < 0.01)\n                vY = 0;\n            if (animationSteps < 20)\n                vX = 0.9 * vX;\n            if (animationSteps < 20)\n                vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\nvar MouseHandler = function (editor) {\n    var _self = this;\n    this.editor = editor;\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n    var focusEditor = function (e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n        setTimeout(function () {\n            if (!editor.isFocused())\n                editor.focus();\n        });\n    };\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n    editor.on(\"mousemove\", function (e) {\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        }\n        else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n(function () {\n    this.onMouseEvent = function (name, e) {\n        if (!this.editor.session)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseMove = function (name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n    this.onMouseWheel = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n    this.setState = function (state) {\n        this.state = state;\n    };\n    this.captureMouse = function (ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n        var self = this;\n        var onMouseMove = function (e) {\n            if (!e)\n                return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n        var onCaptureEnd = function (e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            if (editor.session)\n                onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n        var onCaptureInterval = function () {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function () { onCaptureEnd(ev); });\n        }\n        var onOperationEnd = function (e) {\n            if (!self.releaseMouse)\n                return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({ command: { name: \"mouse\" } });\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function () {\n        var stop = function (e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function () {\n        if (this.releaseMouse)\n            this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: { initialValue: 2 },\n    dragDelay: { initialValue: (useragent.isMac ? 150 : 0) },\n    dragEnabled: { initialValue: true },\n    focusTimeout: { initialValue: 0 },\n    tooltipFollowsMouse: { initialValue: true }\n});\nexports.MouseHandler = MouseHandler;\n\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nfunction FoldHandler(editor) {\n    editor.on(\"click\", function (e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n            e.stop();\n        }\n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n    editor.on(\"gutterclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n    editor.on(\"gutterdblclick\", function (e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n                if (fold) {\n                    session.removeFold(fold);\n                }\n                else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                }\n            }\n            e.stop();\n        }\n    });\n}\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\nvar KeyBinding = function (editor) {\n    this.$editor = editor;\n    this.$data = { editor: editor };\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n(function () {\n    this.setDefaultHandler = function (kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n    this.setKeyboardHandler = function (kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n        this.addKeyboardHandler(kb, 1);\n    };\n    this.addKeyboardHandler = function (kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n    this.removeKeyboardHandler = function (kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n    this.getKeyboardHandler = function () {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    this.getStatusText = function () {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function (h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n    this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            }\n            else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 &&\n                toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        if (!success && hashId == -1) {\n            toExecute = { command: \"insertstring\" };\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        return success;\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n    this.onTextInput = function (text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n}).call(KeyBinding.prototype);\nexports.KeyBinding = KeyBinding;\n\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\nvar impTab_LTR = [ [0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]\n];\nvar impTab_RTL = [ [2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]\n];\nvar LTR = 0, RTL = 1;\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\nvar UnicodeTBL00 = [\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S,\n    WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS,\n    EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON,\n    ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L,\n    L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN,\n    BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN,\n    CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON,\n    ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON\n];\nvar UnicodeTBL20 = [\n    WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS,\n    ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON,\n    ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS\n];\nfunction _computeLevels(chars, levels, len, charTypes) {\n    var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n    if (!charTypes) {\n        for (i = 0, charTypes = []; i < len; i++) {\n            charTypes[i] = _getCharacterType(chars[i]);\n        }\n    }\n    hiLevel = dir;\n    lastArabic = false;\n    hasUBAT_AL = false;\n    hasUBAT_B = false;\n    hasUBAT_S = false;\n    for (ix = 0; ix < len; ix++) {\n        prevState = newState;\n        classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n        newState = impTab[prevState][newClass];\n        action = newState & 0xF0;\n        newState &= 0x0F;\n        levels[ix] = newLevel = impTab[newState][5];\n        if (action > 0) {\n            if (action == 0x10) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = 1;\n                }\n                condPos = -1;\n            }\n            else {\n                condPos = -1;\n            }\n        }\n        cond = impTab[newState][6];\n        if (cond) {\n            if (condPos == -1) {\n                condPos = ix;\n            }\n        }\n        else {\n            if (condPos > -1) {\n                for (i = condPos; i < ix; i++) {\n                    levels[i] = newLevel;\n                }\n                condPos = -1;\n            }\n        }\n        if (charTypes[ix] == B) {\n            levels[ix] = 0;\n        }\n        hiLevel |= newLevel;\n    }\n    if (hasUBAT_S) {\n        for (i = 0; i < len; i++) {\n            if (charTypes[i] == S) {\n                levels[i] = dir;\n                for (var j = i - 1; j >= 0; j--) {\n                    if (charTypes[j] == WS) {\n                        levels[j] = dir;\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction _invertLevel(lev, levels, _array) {\n    if (hiLevel < lev) {\n        return;\n    }\n    if (lev == 1 && dir == RTL && !hasUBAT_B) {\n        _array.reverse();\n        return;\n    }\n    var len = _array.length, start = 0, end, lo, hi, tmp;\n    while (start < len) {\n        if (levels[start] >= lev) {\n            end = start + 1;\n            while (end < len && levels[end] >= lev) {\n                end++;\n            }\n            for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                tmp = _array[lo];\n                _array[lo] = _array[hi];\n                _array[hi] = tmp;\n            }\n            start = end;\n        }\n        start++;\n    }\n}\nfunction _getCharClass(chars, types, classes, ix) {\n    var cType = types[ix], wType, nType, len, i;\n    switch (cType) {\n        case L:\n        case R:\n            lastArabic = false;\n        case ON:\n        case AN:\n            return cType;\n        case EN:\n            return lastArabic ? AN : EN;\n        case AL:\n            lastArabic = true;\n            hasUBAT_AL = true;\n            return R;\n        case WS:\n            return ON;\n        case CS:\n            if (ix < 1 || (ix + 1) >= types.length ||\n                ((wType = classes[ix - 1]) != EN && wType != AN) ||\n                ((nType = types[ix + 1]) != EN && nType != AN)) {\n                return ON;\n            }\n            if (lastArabic) {\n                nType = AN;\n            }\n            return nType == wType ? nType : ON;\n        case ES:\n            wType = ix > 0 ? classes[ix - 1] : B;\n            if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN) {\n                return EN;\n            }\n            return ON;\n        case ET:\n            if (ix > 0 && classes[ix - 1] == EN) {\n                return EN;\n            }\n            if (lastArabic) {\n                return ON;\n            }\n            i = ix + 1;\n            len = types.length;\n            while (i < len && types[i] == ET) {\n                i++;\n            }\n            if (i < len && types[i] == EN) {\n                return EN;\n            }\n            return ON;\n        case NSM:\n            len = types.length;\n            i = ix + 1;\n            while (i < len && types[i] == NSM) {\n                i++;\n            }\n            if (i < len) {\n                var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n                wType = types[i];\n                if (rtlCandidate && (wType == R || wType == AL)) {\n                    return R;\n                }\n            }\n            if (ix < 1 || (wType = types[ix - 1]) == B) {\n                return ON;\n            }\n            return classes[ix - 1];\n        case B:\n            lastArabic = false;\n            hasUBAT_B = true;\n            return dir;\n        case S:\n            hasUBAT_S = true;\n            return ON;\n        case LRE:\n        case RLE:\n        case LRO:\n        case RLO:\n        case PDF:\n            lastArabic = false;\n        case BN:\n            return ON;\n    }\n}\nfunction _getCharacterType(ch) {\n    var uc = ch.charCodeAt(0), hi = uc >> 8;\n    if (hi == 0) {\n        return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n    }\n    else if (hi == 5) {\n        return (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n    }\n    else if (hi == 6) {\n        if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n            return NSM;\n        else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n            return AN;\n        else if (uc == 0x066A)\n            return ET;\n        else if (/[\\u06f0-\\u06f9]/.test(ch))\n            return EN;\n        else\n            return AL;\n    }\n    else if (hi == 0x20 && uc <= 0x205F) {\n        return UnicodeTBL20[uc & 0xFF];\n    }\n    else if (hi == 0xFE) {\n        return (uc >= 0xFE70 ? AL : ON);\n    }\n    return ON;\n}\nfunction _isArabicDiacritics(ch) {\n    return (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function (text, textCharTypes, isRtl) {\n    if (text.length < 2)\n        return {};\n    var chars = text.split(\"\"), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];\n    dir = isRtl ? RTL : LTR;\n    _computeLevels(chars, levels, chars.length, textCharTypes);\n    for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++)\n        ;\n    _invertLevel(2, levels, logicalFromVisual);\n    _invertLevel(1, levels, logicalFromVisual);\n    for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n        if (textCharTypes[i] === AN) {\n            levels[i] = exports.AN;\n        }\n        else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n            || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n            levels[i] = exports.ON_R;\n        }\n        else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n            levels[i - 1] = levels[i] = exports.R_H;\n            i++;\n        }\n    }\n    if (chars[chars.length - 1] === exports.DOT)\n        levels[chars.length - 1] = exports.B;\n    if (chars[0] === '\\u202B')\n        levels[0] = exports.RLE;\n    for (var i = 0; i < logicalFromVisual.length; i++) {\n        bidiLevels[i] = levels[logicalFromVisual[i]];\n    }\n    return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n};\nexports.hasBidiCharacters = function (text, textCharTypes) {\n    var ret = false;\n    for (var i = 0; i < text.length; i++) {\n        textCharTypes[i] = _getCharacterType(text.charAt(i));\n        if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n            ret = true;\n    }\n    return ret;\n};\nexports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n    for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n        if (rowMap.logicalFromVisual[i] == logIdx)\n            return i;\n    }\n    return 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function (session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n(function () {\n    this.isBidiRow = function (screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n    this.onChange = function (delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n    this.getDocumentRow = function () {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n        return docRow;\n    };\n    this.getSplitIndex = function () {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n        else {\n            splitIndex = this.currentRow;\n        }\n        return splitIndex;\n    };\n    this.updateRowLine = function (docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n        var isLastRow = (docRow === this.session.getLength() - 1), endOfLine = isLastRow ? this.EOF : this.EOL;\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n                if (splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                        this.line.substring(splits[splits.length - 1]);\n                }\n                else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n                if (splitIndex == splits.length) {\n                    this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n                }\n            }\n        }\n        else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    this.updateBidiMap = function () {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n            this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        }\n        else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function () {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function (fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n        this.currentRow = null;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n    this.setEolChar = function (eolChar) {\n        this.EOL = eolChar;\n    };\n    this.setContentWidth = function (width) {\n        this.contentWidth = width;\n    };\n    this.isRtlLine = function (row) {\n        if (this.$isRtl)\n            return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir;\n    };\n    this.setRtlDirection = function (editor, isRtlDir) {\n        var cursor = editor.getCursorPosition();\n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({ column: 0, row: row }, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function (col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n        return left;\n    };\n    this.getSelections = function (startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;\n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            }\n            else if (!isSelected && isSelectedPrev) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({ left: selectionStart, width: offset - selectionStart });\n        }\n        if (this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function (posX) {\n        if (this.isRtlDir)\n            posX -= this.rtlLineOffset;\n        var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];\n        if (this.wrapIndent)\n            posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n        while (posX > offset + charWidth / 2) {\n            offset += charWidth;\n            if (visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)) {\n            if (posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)) {\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n        }\n        else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n            || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))) {\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n        return (logicalIdx + this.wrapIndent);\n    };\n}).call(BidiHandler.prototype);\nexports.BidiHandler = BidiHandler;\n\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function (session) {\n    this.session = session;\n    this.doc = session.getDocument();\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n    var self = this;\n    this.cursor.on(\"change\", function (e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n    this.anchor.on(\"change\", function () {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function () {\n        return this.$isEmpty || (this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column);\n    };\n    this.isMultiLine = function () {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function () {\n        return this.lead.getPosition();\n    };\n    this.setAnchor = function (row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.setSelectionAnchor = this.setAnchor;\n    this.getAnchor = function () {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        return this.anchor.getPosition();\n    };\n    this.getSelectionAnchor = this.getAnchor;\n    this.getSelectionLead = function () {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function () {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function () {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function () {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n        this.setSelectionRange = function (range, reverse) {\n            var start = reverse ? range.end : range.start;\n            var end = reverse ? range.start : range.end;\n            this.$setSelection(start.row, start.column, end.row, end.column);\n        };\n    this.$setSelection = function (anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n    this.$moveSelection = function (mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n        mover.call(this);\n    };\n    this.selectTo = function (row, column) {\n        this.$moveSelection(function () {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function (pos) {\n        this.$moveSelection(function () {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function (row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function (pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function () {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function () {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function () {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function () {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function () {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function () {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function () {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function () {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function () {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function () {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function (row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function () {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function () {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n    this.getLineRange = function (row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        }\n        else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function () {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function () {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function () {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n    };\n    this.moveCursorLeft = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        }\n        else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            }\n            else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function () {\n        var cursor = this.lead.getPosition(), fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            }\n            else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function () {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function () {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function () {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n        this.moveCursorTo(row, column);\n    };\n    this.$shortWordEndIndex = function (rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        }\n        else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index++;\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        }\n                        else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n        return index;\n    };\n    this.moveCursorShortWordRight = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n        var index = this.$shortWordEndIndex(rightOfCursor);\n        this.moveCursorTo(row, column + index);\n    };\n    this.moveCursorShortWordLeft = function () {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n        return this.moveCursorTo(row, column - index);\n    };\n    this.moveCursorWordRight = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n    this.moveCursorWordLeft = function () {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function (rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n        var offsetX;\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                }\n                else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function (position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function (row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function () {\n        this.lead.detach();\n        this.anchor.detach();\n    };\n    this.fromOrientedRange = function (range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n    this.toOrientedRange = function (range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        }\n        else {\n            range = r;\n        }\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function (func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        }\n        catch (e) {\n            return Range.fromPoints(start, start);\n        }\n        finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n    this.toJSON = function () {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function (r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        }\n        else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n    this.fromJSON = function (data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--;) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            }\n            else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n    this.isEqual = function (data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n        for (var i = this.ranges.length; i--;) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n}).call(Selection.prototype);\nexports.Selection = Selection;\n\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module){\"use strict\";\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function (rules) {\n    this.states = rules;\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n        var flag = \"g\";\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive && flag.indexOf(\"i\") === -1)\n                flag += \"i\";\n            if (rule.unicode && flag.indexOf(\"u\") === -1)\n                flag += \"u\";\n            if (rule.regex == null)\n                continue;\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                }\n                else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", {\n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                }\n                else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            }\n            else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                }\n                else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        splitterRurles.forEach(function (rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n(function () {\n    this.$setMaxTokenCount = function (m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    this.$applyToken = function (str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{ type: types, value: str }];\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n    this.$arrayTokens = function (str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n    this.removeCapturingGroups = function (src) {\n        var r = src.replace(/\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!<]|(\\()/g, function (x, y) { return y ? \"(?:\" : x; });\n        return r;\n    };\n    this.createSplitterRegexp = function (src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                }\n                else if (square) {\n                    inChClass = true;\n                }\n                else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index + 1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                }\n                else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\")\n            src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\")\n            src += \"$\";\n        return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function (line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        }\n        else\n            var stack = [];\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n        var token = { type: null, value: \"\" };\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                }\n                else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: type, value: skipped };\n                }\n            }\n            for (var i = 0; i < match.length - 2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n                rule = state[mapping[i]];\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    }\n                    else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    }\n                    else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = { type: type, value: value };\n                    }\n                }\n                else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = { type: null, value: \"\" };\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n            if (lastIndex == line.length)\n                break;\n            lastIndex = index;\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n        if (token.type)\n            tokens.push(token);\n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens: tokens,\n            state: stack.length ? stack : currentState\n        };\n    };\n    this.reportError = config.reportError;\n}).call(Tokenizer.prototype);\nexports.Tokenizer = Tokenizer;\n\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar TextHighlightRules = function () {\n    this.$rules = {\n        \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n    };\n};\n(function () {\n    this.addRules = function (rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n    this.getRules = function () {\n        return this.$rules;\n    };\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        }\n        else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n        this.addRules(embedRules, prefix);\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n    this.getEmbeds = function () {\n        return this.$embeds;\n    };\n    var pushState = function (currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function (currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n    this.normalizeRules = function () {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName) {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                }\n                else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        }\n                        else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (includeName === \"$self\")\n                        includeName = \"start\";\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function (x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function (x) { return !x.next; });\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n    this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function (className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--;) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase();\n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function (value) { return keywords[value.toLowerCase()] || defaultToken; }\n            : function (value) { return keywords[value] || defaultToken; };\n    };\n    this.getKeywords = function () {\n        return this.$keywords;\n    };\n}).call(TextHighlightRules.prototype);\nexports.TextHighlightRules = TextHighlightRules;\n\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar Behaviour = function () {\n    this.$behaviours = {};\n};\n(function () {\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n            case this.$behaviours:\n                this.$behaviours = {};\n            case this.$behaviours[name]:\n                this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        }\n        else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        }\n        else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n}).call(Behaviour.prototype);\nexports.Behaviour = Behaviour;\n\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function (session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n(function () {\n    this.stepBackward = function () {\n        this.$tokenIndex -= 1;\n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.stepForward = function () {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };\n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };\n    this.getCurrentTokenColumn = function () {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        return column;\n    };\n    this.getCurrentTokenPosition = function () {\n        return { row: this.$row, column: this.getCurrentTokenColumn() };\n    };\n    this.getCurrentTokenRange = function () {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n}).call(TokenIterator.prototype);\nexports.TokenIterator = TokenIterator;\n\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\nvar SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\nvar context;\nvar contextCache = {};\nvar defaultQuotes = { '\"': '\"', \"'\": \"'\" };\nvar initContext = function (editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = { rangeCount: editor.multiSelect.rangeCount };\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\nvar getWrapped = function (selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n            0,\n            selection.start.column + 1,\n            rowDiff,\n            selection.end.column + (rowDiff ? 0 : 1)\n        ]\n    };\n};\nvar CstyleBehaviour = function (options) {\n    this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                }\n                else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n        else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                if (!openBracePos)\n                    return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            }\n            else if (closing) {\n                var next_indent = this.$getIndent(line);\n            }\n            else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        }\n        else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n    this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            }\n            else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n    this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            }\n            else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        }\n        else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n    this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            }\n            else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column - 1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                }\n                else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(rightChar);\n                    var pairQuotesAfter = session.$mode.$pairQuotesAfter;\n                    var shouldPairQuotes = pairQuotesAfter && pairQuotesAfter[quote] && pairQuotesAfter[quote].test(leftChar);\n                    if ((!shouldPairQuotes && isWordBefore) || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1, 1]\n                };\n            }\n        }\n    });\n    this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n};\nCstyleBehaviour.isSaneInsertion = function (editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\nCstyleBehaviour.$matchTokenType = function (token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\nCstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\nCstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\nCstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\nCstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\nCstyleBehaviour.popAutoInsertedClosing = function () {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\nCstyleBehaviour.clearMaybeInsertedClosing = function () {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\noop.inherits(CstyleBehaviour, Behaviour);\nexports.CstyleBehaviour = CstyleBehaviour;\n\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nvar wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar config = require(\"../config\");\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nvar Mode = function () {\n    this.HighlightRules = TextHighlightRules;\n};\n(function () {\n    this.$defaultBehaviour = new CstyleBehaviour();\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n    this.getTokenizer = function () {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n    this.toggleCommentLines = function (state, session, startRow, endRow) {\n        var doc = session.doc;\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n            var comment = function (line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                    doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var uncomment = function (line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n            var testRemove = function (line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        }\n        else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            }\n            else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            insertAtTabStop = session.getUseSoftTabs();\n            var uncomment = function (line, i) {\n                var m = line.match(regexpStart);\n                if (!m)\n                    return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function (line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);\n                    else\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                }\n            };\n            var testRemove = function (line, i) {\n                return regexpStart.test(line);\n            };\n            var shouldInsertSpace = function (line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n        var minEmptyLength = Infinity;\n        iter(function (line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            }\n            else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n        iter(shouldRemove ? uncomment : comment);\n    };\n    this.toggleBlockComment = function (state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        }\n        else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n    this.getNextLineIndent = function (state, line, tab) {\n        return this.$getIndent(line);\n    };\n    this.checkOutdent = function (state, line, input) {\n        return false;\n    };\n    this.autoOutdent = function (state, doc, row) {\n    };\n    this.$getIndent = function (line) {\n        return line.match(/^\\s*/)[0];\n    };\n    this.createWorker = function (session) {\n        return null;\n    };\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\",\n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n        for (var i = 0; i < delegations.length; i++) {\n            (function (scope) {\n                var functionName = delegations[i];\n                var defaultHandler = scope[functionName];\n                scope[delegations[i]] = function () {\n                    return this.$delegator(functionName, arguments, defaultHandler);\n                };\n            }(this));\n        }\n    };\n    this.$delegator = function (method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]])\n                continue;\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n    this.transformAction = function (state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    this.getKeywords = function (append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    this.$createKeywordList = function () {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n    this.getCompletions = function (state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function (word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\nexports.Mode = Mode;\n\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module){\"use strict\";\nfunction throwDeltaError(delta, errorText) {\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\nfunction positionInDocument(docLines, position) {\n    return position.row >= 0 && position.row < docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\nexports.applyDelta = function (docLines, delta, doNotValidate) {\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            }\n            else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            }\n            else {\n                docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n            }\n            break;\n    }\n};\n\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Anchor = exports.Anchor = function (doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.getPosition = function () {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function () {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function (delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n        if (delta.start.row > this.row)\n            return;\n        var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function (row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        }\n        else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function () {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function (doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        var pos = {};\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n        if (column < 0)\n            pos.column = 0;\n        return pos;\n    };\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\nvar Document = function (textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    }\n    else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n    }\n    else {\n        this.insert({ row: 0, column: 0 }, textOrLines);\n    }\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setValue = function (text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({ row: 0, column: 0 }, text || \"\");\n    };\n    this.getValue = function () {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function (row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function (text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    }\n    else {\n        this.$split = function (text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function () {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    };\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function (newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function () {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function (text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function (row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function () {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function () {\n        return this.$lines.length;\n    };\n    this.getTextRange = function (range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function (range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        }\n        else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function (row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function (firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function (position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function (position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function (position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        return this.clonePos(end);\n    };\n    this.clippedPos = function (row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        }\n        else if (row < 0) {\n            row = 0;\n        }\n        else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return { row: row, column: column };\n    };\n    this.clonePos = function (pos) {\n        return { row: pos.row, column: pos.column };\n    };\n    this.pos = function (row, column) {\n        return { row: row, column: column };\n    };\n    this.$clipPosition = function (position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        }\n        else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function (row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        }\n        else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({ row: row, column: column }, lines);\n    };\n    this.insertMergedLines = function (position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        return this.clonePos(end);\n    };\n    this.remove = function (range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function (row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({ start: start, end: end })\n        }, true);\n        return this.clonePos(start);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine = lastRow < this.getLength() - 1;\n        var startRow = (deleteFirstNewLine ? firstRow - 1 : firstRow);\n        var startCol = (deleteFirstNewLine ? this.getLine(startRow).length : 0);\n        var endRow = (deleteLastNewLine ? lastRow + 1 : lastRow);\n        var endCol = (deleteLastNewLine ? 0 : this.getLine(endRow).length);\n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function (row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function (range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        return end;\n    };\n    this.applyDeltas = function (deltas) {\n        for (var i = 0; i < deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function (deltas) {\n        for (var i = deltas.length - 1; i >= 0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function (delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    this.$safeApplyDelta = function (delta) {\n        var docLength = this.$lines.length;\n        if (delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength) {\n            this.applyDelta(delta);\n        }\n    };\n    this.$splitAndapplyLargeDelta = function (delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function (delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function (index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return { row: i, column: index + lines[i].length + newlineLength };\n        }\n        return { row: l - 1, column: index + lines[l - 1].length + newlineLength };\n    };\n    this.positionToIndex = function (pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n        return index + pos.column;\n    };\n}).call(Document.prototype);\nexports.Document = Document;\n\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar BackgroundTokenizer = function (tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n    var self = this;\n    this.$worker = function () {\n        if (!self.running) {\n            return;\n        }\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        if (endLine == -1)\n            endLine = currentLine;\n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function (tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n        this.start(0);\n    };\n    this.setDocument = function (doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n        this.stop();\n    };\n    this.fireUpdateEvent = function (firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", { data: data });\n    };\n    this.start = function (startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    this.scheduleStart = function () {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n    this.$updateOnChange = function (delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n            this.lines[startRow] = null;\n        }\n        else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n        this.stop();\n    };\n    this.stop = function () {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function (row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function (row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n    this.$tokenizeRow = function (row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n        var data = this.tokenizer.getLineTokens(line, state, row);\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        }\n        else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n        return this.lines[row] = data.tokens;\n    };\n    this.cleanup = function () {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.removeAllListeners();\n    };\n}).call(BackgroundTokenizer.prototype);\nexports.BackgroundTokenizer = BackgroundTokenizer;\n\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar SearchHighlight = function (regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n(function () {\n    this.MAX_RANGES = 500;\n    this.setRegexp = function (regExp) {\n        if (this.regExp + \"\" == regExp + \"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n    this.update = function (html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n        var renderedMarkerRanges = {};\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function (match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n            for (var j = ranges.length; j--;) {\n                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);\n                var rangeAsString = rangeToAddMarkerTo.toString();\n                if (renderedMarkerRanges[rangeAsString])\n                    continue;\n                renderedMarkerRanges[rangeAsString] = true;\n                markerLayer.drawSingleLineMarker(html, rangeToAddMarkerTo, this.clazz, config);\n            }\n        }\n    };\n}).call(SearchHighlight.prototype);\nexports.SearchHighlight = SearchHighlight;\n\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    }\n    else {\n        folds = this.folds = [folds];\n    }\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end = this.range.end;\n    this.folds.forEach(function (fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n(function () {\n    this.shiftRow = function (shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function (fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n    this.addFold = function (fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function (a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            }\n            else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        }\n        else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        }\n        else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        }\n        else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n    this.containsRow = function (row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n    this.walk = function (callback, endRow, endColumn) {\n        var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n    this.getNextFoldTo = function (row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            }\n            else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n    this.addRemoveChars = function (row, column, len) {\n        var ret = this.getNextFoldTo(row, column), fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row) {\n                window.console && window.console.log(row, column, fold);\n            }\n            else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n    this.split = function (row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        if (!pos || pos.kind == \"inside\")\n            return null;\n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n    this.merge = function (foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n    this.toString = function () {\n        var ret = [this.range.toString() + \": [\"];\n        this.folds.forEach(function (fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n    this.idxToPosition = function (idx) {\n        var lastFoldEndColumn = 0;\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n            lastFoldEndColumn = fold.end.column;\n        }\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\nexports.FoldLine = FoldLine;\n\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\nvar RangeList = function () {\n    this.ranges = [];\n    this.$bias = 1;\n};\n(function () {\n    this.comparePoints = comparePoints;\n    this.pointIndex = function (pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n            return -i - 1;\n        }\n        return -i - 1;\n    };\n    this.add = function (range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n    this.addList = function (list) {\n        var removed = [];\n        for (var i = list.length; i--;) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n    this.substractPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function () {\n        var removed = [];\n        var list = this.ranges;\n        list = list.sort(function (a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        this.ranges = list;\n        return removed;\n    };\n    this.contains = function (row, column) {\n        return this.pointIndex({ row: row, column: column }) >= 0;\n    };\n    this.containsPoint = function (pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n    this.rangeAtPoint = function (pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n    this.clipRows = function (startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n        var startIndex = this.pointIndex({ row: startRow, column: 0 });\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n    this.removeAll = function () {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n    this.attach = function (session) {\n        if (this.session)\n            this.detach();\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n        this.session.on('change', this.onChange);\n    };\n    this.detach = function () {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n    this.$onChange = function (delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        }\n        else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > endRow)\n                    break;\n                if (r.end.row < endRow\n                    && (startRow < r.end.row\n                        || startRow == r.end.row && start.column < r.end.column)) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                if (r.start.row < endRow\n                    && (startRow < r.start.row\n                        || startRow == r.start.row && start.column < r.start.column)) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n}).call(RangeList.prototype);\nexports.RangeList = RangeList;\n\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function (range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\noop.inherits(Fold, RangeList);\n(function () {\n    this.toString = function () {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n    this.setFoldLine = function (foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function (fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n    this.clone = function () {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function (subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n    this.addSubFold = function (fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)\n            j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n        return fold;\n    };\n    this.restoreRange = function (range) {\n        return restoreRange(range, this.start);\n    };\n}).call(Fold.prototype);\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nfunction Folding() {\n    this.getFoldAt = function (row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function (range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n        start.column += 1;\n        end.column -= 1;\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                }\n                else if (cmp == 2) {\n                    continue;\n                }\n                else \n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n        return foundFolds;\n    };\n    this.getFoldsInRangeList = function (ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function (range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        }\n        else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function () {\n        var folds = [];\n        var foldLines = this.$foldData;\n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n        return folds;\n    };\n    this.getFoldStringAt = function (row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n    this.getFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n            else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function (docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n    this.getFoldedRowCount = function (first, last) {\n        var foldData = this.$foldData, rowCount = last - first + 1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i], end = foldLine.end.row, start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last - start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            }\n            else if (end >= first) {\n                if (start >= first) // fold inside range\n                    rowCount -= end - start;\n                else\n                    rowCount -= end - first + 1;\n            }\n        }\n        return rowCount;\n    };\n    this.$addFoldLine = function (foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function (a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function (placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            }\n            else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            }\n            else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n        return fold;\n    };\n    this.addFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.addFold(fold);\n        }, this);\n    };\n    this.removeFold = function (fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        }\n        else \n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        }\n        else \n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        }\n        else \n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        }\n        else \n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n    this.removeFolds = function (folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n        cloneFolds.forEach(function (fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n    this.expandFold = function (fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function (subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n        }\n        fold.subFolds = [];\n    };\n    this.expandFolds = function (folds) {\n        folds.forEach(function (fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n    this.unfold = function (location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null)\n                expandInner = true;\n        }\n        else if (typeof location == \"number\") {\n            range = new Range(location, 0, location, this.getLine(location).length);\n        }\n        else if (\"row\" in location) {\n            range = Range.fromPoints(location, location);\n        }\n        else if (Array.isArray(location)) {\n            folds = [];\n            location.forEach(function (range) {\n                folds = folds.concat(this.unfold(range));\n            }, this);\n            return folds;\n        }\n        else {\n            range = location;\n        }\n        folds = this.getFoldsInRangeList(range);\n        var outermostFolds = folds;\n        while (folds.length == 1\n            && Range.comparePoints(folds[0].start, range.start) < 0\n            && Range.comparePoints(folds[0].end, range.end) > 0) {\n            this.expandFolds(folds);\n            folds = this.getFoldsInRangeList(range);\n        }\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        }\n        else {\n            this.expandFolds(folds);\n        }\n        if (outermostFolds.length)\n            return outermostFolds;\n    };\n    this.isRowFolded = function (docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n    this.getRowFoldEnd = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n    this.getRowFoldStart = function (docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n    this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n        foldLine.walk(function (placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n            if (placeholder != null) {\n                textLine += placeholder;\n            }\n            else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n    this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        }\n        else {\n            return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n    this.$cloneFoldData = function () {\n        var fd = [];\n        fd = this.$foldData.map(function (foldLine) {\n            var folds = foldLine.folds.map(function (fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n        return fd;\n    };\n    this.toggleFold = function (tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            }\n            else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                }\n                else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            }\n            else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n                range.start.column++;\n            }\n            else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        }\n        else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            }\n            else if (folds.length == 1) {\n                fold = folds[0];\n            }\n        }\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n        this.addFold(placeholder, range);\n    };\n    this.getCommentFoldRange = function (row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type) && !/^comment.end/.test(token.type));\n                token = iterator.stepForward();\n            }\n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + (/^comment.start/.test(token.type) ? token.value.length : 2);\n            iterator = new TokenIterator(this, row, column);\n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    }\n                    else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type) && !/^comment.start/.test(token.type));\n                token = iterator.stepBackward();\n            }\n            else\n                token = iterator.getCurrentToken();\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn();\n            if (!/^comment.end/.test(token.type)) {\n                range.end.column += token.value.length - 2;\n            }\n            return range;\n        }\n    };\n    this.foldAll = function (startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            if (test && !test(row))\n                continue;\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.foldToLevel = function (level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    this.foldAllComments = function () {\n        var session = this;\n        this.foldAll(null, null, null, function (row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function (style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        if (this.$foldStyle == style)\n            return;\n        this.$foldStyle = style;\n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n    this.$setFolding = function (foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n        this.$foldMode = foldMode;\n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n    this.onFoldWidgetClick = function (row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    this.$toggleFoldWidget = function (row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        }\n        else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        }\n        else if (range) {\n            if (options.all)\n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        return range;\n    };\n    this.toggleFoldWidget = function (toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n            if (fold) {\n                this.removeFold(fold);\n            }\n            else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    this.updateFoldWidgets = function (delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        }\n        else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function (e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\nfunction BracketMatch() {\n    this.findMatchingBracket = function (position, chr) {\n        if (position.column == 0)\n            return null;\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n        if (charBeforeCursor == \"\")\n            return null;\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    this.getBracketRange = function (pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = { row: pos.row, column: pos.column + 1 };\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        }\n        else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        return range;\n    };\n    this.getMatchingBracketRanges = function (pos, isBackwards) {\n        var line = this.getLine(pos.row);\n        var bracketsRegExp = /([\\(\\[\\{])|([\\)\\]\\}])/;\n        var chr = !isBackwards && line.charAt(pos.column - 1);\n        var match = chr && chr.match(bracketsRegExp);\n        if (!match) {\n            chr = (isBackwards === undefined || isBackwards) && line.charAt(pos.column);\n            pos = {\n                row: pos.row,\n                column: pos.column + 1\n            };\n            match = chr && chr.match(bracketsRegExp);\n        }\n        if (!match)\n            return null;\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n        return [startRange, endRange];\n    };\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n    this.$findOpeningBracket = function (bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        while (true) {\n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        return null;\n    };\n    this.$findClosingBracket = function (bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        if (!typeRe) {\n            typeRe = new RegExp(\"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\");\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n        while (true) {\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return { row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn() };\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n            if (token == null)\n                break;\n            valueIndex = 0;\n        }\n        return null;\n    };\n    this.getMatchingTags = function (pos) {\n        var iterator = new TokenIterator(this, pos.row, pos.column);\n        var token = this.$findTagName(iterator);\n        if (!token)\n            return;\n        var prevToken = iterator.stepBackward();\n        if (prevToken.value === '<') {\n            return this.$findClosingTag(iterator, token);\n        }\n        else {\n            return this.$findOpeningTag(iterator, token);\n        }\n    };\n    this.$findTagName = function (iterator) {\n        var token = iterator.getCurrentToken();\n        var found = false;\n        var backward = false;\n        if (token && token.type.indexOf('tag-name') === -1) {\n            do {\n                if (backward)\n                    token = iterator.stepBackward();\n                else\n                    token = iterator.stepForward();\n                if (token) {\n                    if (token.value === \"/>\") {\n                        backward = true;\n                    }\n                    else if (token.type.indexOf('tag-name') !== -1) {\n                        found = true;\n                    }\n                }\n            } while (token && !found);\n        }\n        return token;\n    };\n    this.$findClosingTag = function (iterator, token) {\n        var prevToken;\n        var currentTag = token.value;\n        var tag = token.value;\n        var depth = 0;\n        var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n        token = iterator.stepForward();\n        var openTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        var foundOpenTagEnd = false;\n        do {\n            prevToken = token;\n            token = iterator.stepForward();\n            if (token) {\n                if (token.value === '>' && !foundOpenTagEnd) {\n                    var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for `>`\n                    foundOpenTagEnd = true;\n                }\n                if (token.type.indexOf('tag-name') !== -1) {\n                    currentTag = token.value;\n                    if (tag === currentTag) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                            if (depth < 0) { //found closing tag\n                                iterator.stepBackward();\n                                var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2); //Range for </\n                                token = iterator.stepForward();\n                                var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n                                token = iterator.stepForward();\n                                if (token && token.value === '>') {\n                                    var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                                }\n                                else {\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (tag === currentTag && token.value === '/>') { // self-closing tag\n                    depth--;\n                    if (depth < 0) { //found self-closing tag end\n                        var closeTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 2);\n                        var closeTagName = closeTagStart;\n                        var closeTagEnd = closeTagName;\n                        var openTagEnd = new Range(openTagName.end.row, openTagName.end.column, openTagName.end.row, openTagName.end.column + 1);\n                    }\n                }\n            }\n        } while (token && depth >= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n    this.$findOpeningTag = function (iterator, token) {\n        var prevToken = iterator.getCurrentToken();\n        var tag = token.value;\n        var depth = 0;\n        var startRow = iterator.getCurrentTokenRow();\n        var startColumn = iterator.getCurrentTokenColumn();\n        var endColumn = startColumn + 2;\n        var closeTagStart = new Range(startRow, startColumn, startRow, endColumn); //Range for </\n        iterator.stepForward();\n        var closeTagName = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + token.value.length);\n        token = iterator.stepForward();\n        if (!token || token.value !== \">\")\n            return;\n        var closeTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n        iterator.stepBackward();\n        iterator.stepBackward();\n        do {\n            token = prevToken;\n            startRow = iterator.getCurrentTokenRow();\n            startColumn = iterator.getCurrentTokenColumn();\n            endColumn = startColumn + token.value.length;\n            prevToken = iterator.stepBackward();\n            if (token) {\n                if (token.type.indexOf('tag-name') !== -1) {\n                    if (tag === token.value) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                            if (depth > 0) { //found opening tag\n                                var openTagName = new Range(startRow, startColumn, startRow, endColumn);\n                                var openTagStart = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for <\n                                do {\n                                    token = iterator.stepForward();\n                                } while (token && token.value !== '>');\n                                var openTagEnd = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn(), iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1); //Range for >\n                            }\n                        }\n                        else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                }\n                else if (token.value === '/>') { // self-closing tag\n                    var stepCount = 0;\n                    var tmpToken = prevToken;\n                    while (tmpToken) {\n                        if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                            depth--;\n                            break;\n                        }\n                        else if (tmpToken.value === '<') {\n                            break;\n                        }\n                        tmpToken = iterator.stepBackward();\n                        stepCount++;\n                    }\n                    for (var i = 0; i < stepCount; i++) {\n                        iterator.stepForward();\n                    }\n                }\n            }\n        } while (prevToken && depth <= 0);\n        if (openTagStart && openTagEnd && closeTagStart && closeTagEnd && openTagName && closeTagName) {\n            return {\n                openTag: new Range(openTagStart.start.row, openTagStart.start.column, openTagEnd.end.row, openTagEnd.end.column),\n                closeTag: new Range(closeTagStart.start.row, closeTagStart.start.column, closeTagEnd.end.row, closeTagEnd.end.column),\n                openTagName: openTagName,\n                closeTagName: closeTagName\n            };\n        }\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\nvar EditSession = function (text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function () {\n        return this.join(\"\\n\");\n    };\n    this.bgTokenizer = new BackgroundTokenizer((new TextMode()).getTokenizer(), this);\n    var _self = this;\n    this.bgTokenizer.on(\"update\", function (e) {\n        _self._signal(\"tokenizerUpdate\", e);\n    });\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n    this.destroyed = false;\n};\nEditSession.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setDocument = function (doc) {\n        if (this.doc)\n            this.doc.off(\"change\", this.$onChange);\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange, true);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.resetCaches();\n    };\n    this.getDocument = function () {\n        return this.doc;\n    };\n    this.$resetRowCache = function (docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n    this.$getRowCacheIndex = function (cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n        return low - 1;\n    };\n    this.resetCaches = function () {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (!this.destroyed)\n            this.bgTokenizer.start(0);\n    };\n    this.onChangeFold = function (e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n    this.onChange = function (delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds: removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            this.$informUndoManager.schedule();\n        }\n        this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function (text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n        this.toString = function () {\n            return this.doc.getValue();\n        };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.getState = function (row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function (row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function (row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        }\n        else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function (undoManager) {\n        this.$undoManager = undoManager;\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function () {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n        else {\n            this.$syncInformUndoManager = function () { };\n        }\n    };\n    this.markUndoGroup = function () {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    this.$defaultUndoManager = {\n        undo: function () { },\n        redo: function () { },\n        hasUndo: function () { },\n        hasRedo: function () { },\n        reset: function () { },\n        add: function () { },\n        addSelection: function () { },\n        startNewGroup: function () { },\n        addSession: function () { }\n    };\n    this.getUndoManager = function () {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function () {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        }\n        else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function (val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function () {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function (tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function () {\n        return this.$tabSize;\n    };\n    this.isTabStop = function (position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function () {\n        return this.$navigateWithinSoftTabs;\n    };\n    this.$overwrite = false;\n    this.setOverwrite = function (overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function () {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function () {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function (rows) {\n        this.$breakpoints = [];\n        for (var i = 0; i < rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function () {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function (row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function (row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function (range, clazz, type, inFront) {\n        var id = this.$markerId++;\n        var marker = {\n            range: range,\n            type: type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz: clazz,\n            inFront: !!inFront,\n            id: id\n        };\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return id;\n    };\n    this.addDynamicMarker = function (marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        }\n        else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n        return marker;\n    };\n    this.removeMarker = function (markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function (inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n    this.highlight = function (re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function (startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function () {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function () {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function (text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        }\n        else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function (row, column) {\n        var line = this.getLine(row);\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column - 1, column + 1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            } while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function (row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function (newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function () {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function (useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function () { return this.$useWorker; };\n    this.onReloadTokenizer = function (e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function (mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        }\n        else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function (m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            }\n            else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n    this.$onChangeMode = function (mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode)\n            return;\n        var oldMode = this.$mode;\n        this.$mode = mode;\n        this.$stopWorker();\n        if (this.$useWorker)\n            this.$startWorker();\n        var tokenizer = mode.getTokenizer();\n        if (tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n        this.bgTokenizer.setTokenizer(tokenizer);\n        this.bgTokenizer.setDocument(this.getDocument());\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", { oldMode: oldMode, mode: mode });\n        }\n    };\n    this.$stopWorker = function () {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n    this.$startWorker = function () {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        }\n        catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function () {\n        return this.$mode;\n    };\n    this.$scrollTop = 0;\n    this.setScrollTop = function (scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function () {\n        return this.$scrollTop;\n    };\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function () {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function () {\n        this.$computeWidth();\n        if (this.lineWidgets)\n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    this.getLineWidgetMaxWidth = function () {\n        if (this.lineWidgetsWidth != null)\n            return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n    this.$computeWidth = function (force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function (row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function (firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function () {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function (range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function (position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function (range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function (firstRow, lastRow) {\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            }\n            else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function (deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function (enable) {\n        this.$undoSelect = enable;\n    };\n    this.$getUndoSelection = function (deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n        var range, point;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start)\n                continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                }\n                else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            }\n            else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function (range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function (fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function (x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n        return toRange;\n    };\n    this.indentRows = function (startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row = startRow; row <= endRow; row++)\n            this.doc.insertInLine({ row: row, column: 0 }, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            }\n            else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n    this.$moveLines = function (firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0)\n                return 0;\n            var diff = row - firstRow;\n        }\n        else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength() - 1)\n                return 0;\n            var diff = row - lastRow;\n        }\n        else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function (x) {\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow + diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function (firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n    this.$clipRowToDocument = function (row) {\n        return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n    };\n    this.$clipColumnToRow = function (row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n    this.$clipPositionToDocument = function (row, column) {\n        column = Math.max(0, column);\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        }\n        else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len - 1).length;\n            }\n            else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n        return {\n            row: row,\n            column: column\n        };\n    };\n    this.$clipRangeToDocument = function (range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        }\n        else {\n            range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n        }\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        }\n        else {\n            range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min: null,\n        max: null\n    };\n    this.setUseWrapMode = function (useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function () {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function (min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = { min: $printMargin, max: $printMargin };\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n    this.$constrainWrapLimit = function (wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n        return wrapLimit;\n    };\n    this.getWrapLimit = function () {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function () {\n        return {\n            min: this.$wrapLimitRange.min,\n            max: this.$wrapLimitRange.max\n        };\n    };\n    this.$updateInternalDataOnChange = function (delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n                lastRow = firstRow;\n            }\n            else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    }\n                    else \n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        }\n        else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n        return removedFolds;\n    };\n    this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n    this.$updateWrapData = function (firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row++;\n            }\n            else {\n                tokens = [];\n                foldLine.walk(function (placeholder, row, column, lastColumn) {\n                    var walkTokens;\n                    if (placeholder != null) {\n                        walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                        walkTokens[0] = PLACEHOLDER_START;\n                        for (var i = 1; i < walkTokens.length; i++) {\n                            walkTokens[i] = PLACEHOLDER_BODY;\n                        }\n                    }\n                    else {\n                        walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                    }\n                    tokens = tokens.concat(walkTokens);\n                }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;\n    this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n        var isCode = this.$wrapAsCode;\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2)\n                    len -= 1;\n            }\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break; // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split--;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split--;\n                }\n            }\n            else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split--;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function (str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            }\n            else if ((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            }\n            else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            }\n            else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n        return [screenColumn, column];\n    };\n    this.lineWidgets = null;\n    this.getRowLength = function (row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function (row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        }\n        else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n    this.getRowWrapIndent = function (screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        }\n        else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function (screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function (row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        }\n        else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function (screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n    this.screenToDocumentRow = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n    this.screenToDocumentColumn = function (screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return { row: 0, column: 0 };\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            }\n            else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row + 1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        }\n        else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        }\n        else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if (splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n        return { row: docRow, column: docColumn };\n    };\n    this.documentToScreenPosition = function (docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n        docRow = pos.row;\n        docColumn = pos.column;\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n        var rowEnd, row = 0;\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        }\n        else {\n            var doCache = !l;\n        }\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        }\n        else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function (row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function (docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function () {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        }\n        else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row : Infinity;\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row++;\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n        return screenRows;\n    };\n    this.$setFontMetrics = function (fm) {\n        if (!this.$enableVarChar)\n            return;\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                }\n                else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            return [screenColumn, column];\n        };\n    };\n    this.destroy = function () {\n        if (!this.destroyed) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer.cleanup();\n            this.destroyed = true;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        if (this.doc) {\n            this.doc.off(\"change\", this.$onChange);\n        }\n        this.selection.detach();\n    };\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n            c >= 0x11A3 && c <= 0x11A7 ||\n            c >= 0x11FA && c <= 0x11FF ||\n            c >= 0x2329 && c <= 0x232A ||\n            c >= 0x2E80 && c <= 0x2E99 ||\n            c >= 0x2E9B && c <= 0x2EF3 ||\n            c >= 0x2F00 && c <= 0x2FD5 ||\n            c >= 0x2FF0 && c <= 0x2FFB ||\n            c >= 0x3000 && c <= 0x303E ||\n            c >= 0x3041 && c <= 0x3096 ||\n            c >= 0x3099 && c <= 0x30FF ||\n            c >= 0x3105 && c <= 0x312D ||\n            c >= 0x3131 && c <= 0x318E ||\n            c >= 0x3190 && c <= 0x31BA ||\n            c >= 0x31C0 && c <= 0x31E3 ||\n            c >= 0x31F0 && c <= 0x321E ||\n            c >= 0x3220 && c <= 0x3247 ||\n            c >= 0x3250 && c <= 0x32FE ||\n            c >= 0x3300 && c <= 0x4DBF ||\n            c >= 0x4E00 && c <= 0xA48C ||\n            c >= 0xA490 && c <= 0xA4C6 ||\n            c >= 0xA960 && c <= 0xA97C ||\n            c >= 0xAC00 && c <= 0xD7A3 ||\n            c >= 0xD7B0 && c <= 0xD7C6 ||\n            c >= 0xD7CB && c <= 0xD7FB ||\n            c >= 0xF900 && c <= 0xFAFF ||\n            c >= 0xFE10 && c <= 0xFE19 ||\n            c >= 0xFE30 && c <= 0xFE52 ||\n            c >= 0xFE54 && c <= 0xFE66 ||\n            c >= 0xFE68 && c <= 0xFE6B ||\n            c >= 0xFF01 && c <= 0xFF60 ||\n            c >= 0xFFE0 && c <= 0xFFE6;\n    }\n}).call(EditSession.prototype);\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function (value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            }\n            else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function () {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },\n    wrapMethod: {\n        set: function (val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function () {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true\n    },\n    firstLineNumber: {\n        set: function () { this._signal(\"changeBreakpoint\"); },\n        initialValue: 1\n    },\n    useWorker: {\n        set: function (useWorker) {\n            this.$useWorker = useWorker;\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: { initialValue: true },\n    tabSize: {\n        set: function (tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: { initialValue: false },\n    foldStyle: {\n        set: function (val) { this.setFoldStyle(val); },\n        handlesSet: true\n    },\n    overwrite: {\n        set: function (val) { this._signal(\"changeOverwrite\"); },\n        initialValue: false\n    },\n    newLineMode: {\n        set: function (val) { this.doc.setNewLineMode(val); },\n        get: function () { return this.doc.getNewLineMode(); },\n        handlesSet: true\n    },\n    mode: {\n        set: function (val) { this.setMode(val); },\n        get: function () { return this.$modeId; },\n        handlesSet: true\n    }\n});\nexports.EditSession = EditSession;\n\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\nvar Search = function () {\n    this.$options = {};\n};\n(function () {\n    this.set = function (options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function () {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function (options) {\n        this.$options = options;\n    };\n    this.find = function (session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n        var firstRange = null;\n        iterator.forEach(function (sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                firstRange = null;\n                return false;\n            }\n            return true;\n        });\n        return firstRange;\n    };\n    this.findAll = function (session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        }\n        else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.end.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == 0)\n                i++;\n            var endRow = range.end.row - range.start.row;\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == endRow)\n                j--;\n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n        return ranges;\n    };\n    this.replace = function (input, replacement) {\n        var options = this.$options;\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n        if (!re)\n            return;\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--;) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        return replacement;\n    };\n    this.$assembleRegExp = function (options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n        var needle = options.needle;\n        if (!options.needle)\n            return options.re = false;\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n        try {\n            var re = new RegExp(needle, modifier);\n        }\n        catch (e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n    this.$assembleMultilineRegExp = function (needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++)\n            try {\n                re.push(new RegExp(parts[i], modifier));\n            }\n            catch (e) {\n                return false;\n            }\n        return re;\n    };\n    this.$matchIterator = function (session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        if (backwards) {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function (callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function (row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0 || startRow + len > session.getLength())\n                    return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1)\n                    return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset)\n                    return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function (row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length)\n                            break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function (row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while ((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row, last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length)\n                            return false;\n                    }\n                }\n            };\n        }\n        return { forEach: forEach };\n    };\n}).call(Search.prototype);\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp)\n            return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\nexports.Search = Search;\n\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\nMultiHashHandler.prototype = HashHandler.prototype;\n(function () {\n    this.addCommand = function (command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n        this.commands[command.name] = command;\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n    this.removeCommand = function (command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            }\n            else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n    this.bindKey = function (key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({ exec: command, bindKey: key, name: command.name || key });\n        key.split(\"|\").forEach(function (keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function (keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position\n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function (keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        }\n        else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        }\n        else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            }\n            else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n    this.addCommands = function (commands) {\n        commands && Object.keys(commands).forEach(function (name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n            if (typeof command === \"function\")\n                command = { exec: command };\n            if (typeof command !== \"object\")\n                return;\n            if (!command.name)\n                command.name = name;\n            this.addCommand(command);\n        }, this);\n    };\n    this.removeCommands = function (commands) {\n        Object.keys(commands).forEach(function (name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n    this.bindKeys = function (keyList) {\n        Object.keys(keyList).forEach(function (key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n    this._buildKeyHash = function (command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function (keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) { return x; });\n        var key = parts.pop();\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return { key: key, hashId: -1 };\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return { key: key.toUpperCase(), hashId: -1 };\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return { key: key, hashId: hashId };\n    };\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n    this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n        if (keyCode < 0)\n            return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return { command: \"null\" };\n            }\n        }\n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return { command: command };\n    };\n    this.getStatusText = function (editor, data) {\n        return data.$keyChain || \"\";\n    };\n}).call(HashHandler.prototype);\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CommandManager = function (platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function (e) {\n        if (!e.args) {\n            return e.command.exec(e.editor, {}, e.event, true);\n        }\n        return e.command.exec(e.editor, e.args, e.event, false);\n    });\n};\noop.inherits(CommandManager, MultiHashHandler);\n(function () {\n    oop.implement(this, EventEmitter);\n    this.exec = function (command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--;) {\n                if (this.exec(command[i], editor, args))\n                    return true;\n            }\n            return false;\n        }\n        if (typeof command === \"string\")\n            command = this.commands[command];\n        if (!command)\n            return false;\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n        var e = { editor: editor, command: command, args: args };\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n        return e.returnValue === false ? false : true;\n    };\n    this.toggleRecording = function (editor) {\n        if (this.$inReplay)\n            return;\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function (e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n    this.replay = function (editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n        if (this.recording)\n            return this.toggleRecording(editor);\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function (x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        }\n        finally {\n            this.$inReplay = false;\n        }\n    };\n    this.trimMacro = function (m) {\n        return m.map(function (x) {\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n}).call(CommandManager.prototype);\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\nfunction bindKey(win, mac) {\n    return { win: win, mac: mac };\n}\nexports.commands = [{\n        name: \"showSettingsMenu\",\n        description: \"Show settings menu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        description: \"Go to next error\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        description: \"Go to previous error\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        description: \"Select all\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function (editor) { editor.selectAll(); },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        description: \"Center selection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function (editor) { editor.centerSelection(); },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        description: \"Go to line...\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function (editor, line) {\n            if (typeof line === \"number\" && !isNaN(line))\n                editor.gotoLine(line);\n            editor.prompt({ $type: \"gotoLine\" });\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function (editor) { editor.session.toggleFold(false); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function (editor) { editor.session.toggleFold(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        description: \"Toggle fold widget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        description: \"Toggle parent fold widget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function (editor) { editor.session.toggleFoldWidget(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        description: \"Fold all\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAll(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldAllComments\",\n        description: \"Fold all comments\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function (editor) { editor.session.foldAllComments(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        description: \"Fold other\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function (editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        description: \"Unfold all\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function (editor) { editor.session.unfold(); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        description: \"Find next\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function (editor) { editor.findNext(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        description: \"Find previous\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function (editor) { editor.findPrevious(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        description: \"Select or find next\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        description: \"Select or find previous\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function (editor) {\n            if (editor.selection.isEmpty())\n                editor.selection.selectWord();\n            else\n                editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        description: \"Find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor); });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        description: \"Overwrite\",\n        bindKey: \"Insert\",\n        exec: function (editor) { editor.toggleOverwrite(); },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        description: \"Select to start\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function (editor) { editor.getSelection().selectFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        description: \"Go to start\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function (editor) { editor.navigateFileStart(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        description: \"Select up\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function (editor) { editor.getSelection().selectUp(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        description: \"Go line up\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function (editor, args) { editor.navigateUp(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        description: \"Select to end\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function (editor) { editor.getSelection().selectFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        description: \"Go to end\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function (editor) { editor.navigateFileEnd(); },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        description: \"Select down\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function (editor) { editor.getSelection().selectDown(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        description: \"Go line down\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function (editor, args) { editor.navigateDown(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        description: \"Select word left\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function (editor) { editor.getSelection().selectWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        description: \"Go to word left\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function (editor) { editor.navigateWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        description: \"Select to line start\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        description: \"Go to line start\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function (editor) { editor.navigateLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        description: \"Select left\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function (editor) { editor.getSelection().selectLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        description: \"Go to left\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function (editor, args) { editor.navigateLeft(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        description: \"Select word right\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        description: \"Go to word right\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function (editor) { editor.navigateWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        description: \"Select to line end\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        description: \"Go to line end\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function (editor) { editor.navigateLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        description: \"Select right\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function (editor) { editor.getSelection().selectRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        description: \"Go to right\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function (editor, args) { editor.navigateRight(args.times); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        description: \"Select page down\",\n        bindKey: \"Shift-PageDown\",\n        exec: function (editor) { editor.selectPageDown(); },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        description: \"Page down\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function (editor) { editor.scrollPageDown(); },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        description: \"Go to page down\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function (editor) { editor.gotoPageDown(); },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        description: \"Select page up\",\n        bindKey: \"Shift-PageUp\",\n        exec: function (editor) { editor.selectPageUp(); },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        description: \"Page up\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function (editor) { editor.scrollPageUp(); },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        description: \"Go to page up\",\n        bindKey: \"PageUp\",\n        exec: function (editor) { editor.gotoPageUp(); },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        description: \"Scroll up\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function (e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        description: \"Scroll down\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function (e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        description: \"Select line start\",\n        bindKey: \"Shift-Home\",\n        exec: function (editor) { editor.getSelection().selectLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        description: \"Select line end\",\n        bindKey: \"Shift-End\",\n        exec: function (editor) { editor.getSelection().selectLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        description: \"Toggle recording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function (editor) { editor.commands.toggleRecording(editor); },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        description: \"Replay macro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function (editor) { editor.commands.replay(editor); },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        description: \"Jump to matching\",\n        bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        description: \"Select to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n        exec: function (editor) { editor.jumpToMatching(true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        description: \"Expand to matching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function (editor) { editor.jumpToMatching(true, true); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        description: \"Pass keys to browser\",\n        bindKey: bindKey(null, null),\n        exec: function () { },\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        description: \"Copy\",\n        exec: function (editor) {\n        },\n        readOnly: true\n    },\n    {\n        name: \"cut\",\n        description: \"Cut\",\n        exec: function (editor) {\n            var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n            var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n            editor._emit(\"cut\", range);\n            if (!range.isEmpty())\n                editor.session.remove(range);\n            editor.clearSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        description: \"Paste\",\n        exec: function (editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        description: \"Remove line\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function (editor) { editor.removeLines(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        description: \"Duplicate selection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function (editor) { editor.duplicateSelection(); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        description: \"Sort lines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function (editor) { editor.sortLines(); },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        description: \"Toggle comment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function (editor) { editor.toggleCommentLines(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        description: \"Toggle block comment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function (editor) { editor.toggleBlockComment(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        description: \"Modify number up\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function (editor) { editor.modifyNumber(1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        description: \"Modify number down\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function (editor) { editor.modifyNumber(-1); },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        description: \"Replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function (editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) { e.Search(editor, true); });\n        }\n    }, {\n        name: \"undo\",\n        description: \"Undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function (editor) { editor.undo(); }\n    }, {\n        name: \"redo\",\n        description: \"Redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function (editor) { editor.redo(); }\n    }, {\n        name: \"copylinesup\",\n        description: \"Copy lines up\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function (editor) { editor.copyLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        description: \"Move lines up\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function (editor) { editor.moveLinesUp(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        description: \"Copy lines down\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function (editor) { editor.copyLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        description: \"Move lines down\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function (editor) { editor.moveLinesDown(); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        description: \"Delete\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function (editor) { editor.remove(\"right\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        description: \"Backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function (editor) { editor.remove(\"left\"); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        description: \"Cut or delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function (editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            }\n            else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        description: \"Remove to line start\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function (editor) { editor.removeToLineStart(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        description: \"Remove to line end\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function (editor) { editor.removeToLineEnd(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        description: \"Remove to line start hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        description: \"Remove to line end hard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        description: \"Remove word left\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function (editor) { editor.removeWordLeft(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        description: \"Remove word right\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function (editor) { editor.removeWordRight(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        description: \"Outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        description: \"Indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function (editor) { editor.indent(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        description: \"Block outdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function (editor) { editor.blockOutdent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        description: \"Block indent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function (editor) { editor.blockIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        description: \"Insert string\",\n        exec: function (editor, str) { editor.insert(str); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        description: \"Insert text\",\n        exec: function (editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        description: \"Split line\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function (editor) { editor.splitLine(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        description: \"Transpose letters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function (editor) { editor.transposeLetters(); },\n        multiSelectAction: function (editor) { editor.transposeSelections(1); },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        description: \"To uppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function (editor) { editor.toUpperCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        description: \"To lowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function (editor) { editor.toLowerCase(); },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"autoindent\",\n        description: \"Auto Indent\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) { editor.autoIndent(); },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"animate\"\n    }, {\n        name: \"expandtoline\",\n        description: \"Expand to line\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function (editor) {\n            var range = editor.selection.getRange();\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"openlink\",\n        bindKey: bindKey(\"Ctrl+F3\", \"F3\"),\n        exec: function (editor) { editor.openLink(); }\n    }, {\n        name: \"joinlines\",\n        description: \"Join lines\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n            if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            }\n            else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        description: \"Invert selection\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == (ranges.length - 1)) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                }\n                else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }, {\n        name: \"addLineAfter\",\n        description: \"Add new line after the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            editor.navigateLineEnd();\n            editor.insert(\"\\n\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"addLineBefore\",\n        description: \"Add new line before the current line\",\n        exec: function (editor) {\n            editor.selection.clearSelection();\n            var cursor = editor.getCursorPosition();\n            editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n            editor.insert(\"\\n\");\n            if (cursor.row === 0)\n                editor.navigateUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"openCommandPallete\",\n        description: \"Open command palette\",\n        bindKey: bindKey(\"F1\", \"F1\"),\n        exec: function (editor) {\n            editor.prompt({ $type: \"commands\" });\n        },\n        readOnly: true\n    }, {\n        name: \"modeSelect\",\n        description: \"Change language mode...\",\n        bindKey: bindKey(null, null),\n        exec: function (editor) {\n            editor.prompt({ $type: \"modes\" });\n        },\n        readOnly: true\n    }];\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function (editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"./lib/dom\");\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n(function () {\n    this.getRowLength = function (row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else\n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        }\n        else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.$getWidgetScreenLength = function () {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function (w) {\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };\n    this.$onChangeEditor = function (e) {\n        this.attach(e.editor);\n    };\n    this.attach = function (editor) {\n        if (editor && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n        if (this.editor == editor)\n            return;\n        this.detach();\n        this.editor = editor;\n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function (e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        this.editor = null;\n        editor.widgetManager = null;\n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function (w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n    this.updateOnFold = function (e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            }\n            else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    this.updateOnChange = function (delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n        if (len === 0) {\n        }\n        else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function (w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        }\n        else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    this.$updateRows = function () {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var noWidgets = true;\n        lineWidgets.forEach(function (w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n    this.$registerLineWidget = function (w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    this.addLineWidget = function (w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        if (!this.editor)\n            return w;\n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.text && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.textContent = w.text;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            if (w.className) {\n                dom.addCssClass(w.el, w.className);\n            }\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    this.removeLineWidget = function (w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy)\n            try {\n                w.editor.destroy();\n            }\n            catch (e) { }\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            }\n            else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n        this.$updateRows();\n    };\n    this.getWidgetsAtRow = function (row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    this.onWidgetChanged = function (w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    this.measureWidgets = function (e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        if (!changedWidgets || !changedWidgets.length)\n            return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.session != this.session)\n                continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            w.h = w.el.offsetHeight;\n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    this.renderWidgets = function (e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        while (first > 0 && !lineWidgets[first])\n            first--;\n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el)\n                continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            }\n            else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n}).call(LineWidgets.prototype);\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/line_widgets\",\"ace/clipboard\"], function(require, exports, module){\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\nvar LineWidgets = require(\"./line_widgets\").LineWidgets;\nvar clipboard = require(\"./clipboard\");\nvar Editor = function (renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n    this.keyBinding = new KeyBinding(this);\n    this.$search = new Search().set({\n        wrap: true\n    });\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n    this.$initOperationListeners();\n    this._$emitInputEvent = lang.delayedCall(function () {\n        this._signal(\"input\", {});\n        if (this.session && !this.session.destroyed)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    this.on(\"change\", function (_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\nEditor.$uid = 0;\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$initOperationListeners = function () {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        this.on(\"changeSelection\", function () {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function (commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n    this.endOperation = function (e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp)\n                return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function (e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n            this.mergeNextCommand = true;\n        }\n        else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n        if (this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000) {\n            shouldMerge = false; // the sequence is too long\n        }\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function (keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        }\n        else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function () {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function (session) {\n        if (this.session == session)\n            return;\n        if (this.curOp)\n            this.endOperation();\n        this.curOp = {};\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n            this.onChangeMode();\n            this.onCursorChange();\n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        }\n        else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        this.curOp = null;\n        oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n        session && session._signal(\"changeEditor\", { editor: this });\n        if (session && !session.destroyed)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function () {\n        return this.session;\n    };\n    this.setValue = function (val, cursorPos) {\n        this.session.doc.setValue(val);\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n        return val;\n    };\n    this.getValue = function () {\n        return this.session.getValue();\n    };\n    this.getSelection = function () {\n        return this.selection;\n    };\n    this.resize = function (force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function (theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function () {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function (style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function (style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n            dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function (size) {\n        this.setOption(\"fontSize\", size);\n    };\n    this.$highlightBrackets = function () {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || session.destroyed)\n                return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function (id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var pos = self.getCursorPosition();\n            var handler = self.getKeyboardHandler();\n            var isBackwards = handler && handler.$getDirectionForHighlight && handler.$getDirectionForHighlight(self);\n            var ranges = session.getMatchingBracketRanges(pos, isBackwards);\n            if (!ranges) {\n                var iterator = new TokenIterator(session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n                if (token && /\\b(?:tag-open|tag-name)/.test(token.type)) {\n                    var tagNamesRanges = session.getMatchingTags(pos);\n                    if (tagNamesRanges)\n                        ranges = [tagNamesRanges.openTagName, tagNamesRanges.closeTagName];\n                }\n            }\n            if (!ranges && session.$mode.getMatching)\n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges) {\n                if (self.getHighlightIndentGuides())\n                    self.renderer.$textLayer.$highlightIndentGuide();\n                return;\n            }\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            }\n            else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function (range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n            if (self.getHighlightIndentGuides())\n                self.renderer.$textLayer.$highlightIndentGuide();\n        }, 50);\n    };\n    this.focus = function () {\n        this.textInput.focus();\n    };\n    this.isFocused = function () {\n        return this.textInput.isFocused();\n    };\n    this.blur = function () {\n        this.textInput.blur();\n    };\n    this.onFocus = function (e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function (e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n    this.$cursorChange = function () {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function (delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n    this.onTokenizerUpdate = function (e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n    this.onScrollTopChange = function () {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n    this.onScrollLeftChange = function () {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function () {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n    this.$updateHighlightActiveLine = function () {\n        var session = this.getSession();\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        }\n        else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        }\n        else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n    this.onSelectionChange = function (e) {\n        var session = this.session;\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        }\n        else {\n            this.$updateHighlightActiveLine();\n        }\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n        this._signal(\"changeSelection\");\n    };\n    this.$getSelectionHighLightRegexp = function () {\n        var session = this.session;\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        return re;\n    };\n    this.onChangeFrontMarker = function () {\n        this.renderer.updateFrontMarkers();\n    };\n    this.onChangeBackMarker = function () {\n        this.renderer.updateBackMarkers();\n    };\n    this.onChangeBreakpoint = function () {\n        this.renderer.updateBreakpoints();\n    };\n    this.onChangeAnnotation = function () {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n    this.onChangeMode = function (e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n    this.onChangeWrapLimit = function () {\n        this.renderer.updateFull();\n    };\n    this.onChangeWrapMode = function () {\n        this.renderer.onResize(true);\n    };\n    this.onChangeFold = function () {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function () {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function () {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine = false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = { text: text };\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : false;\n        return e.text;\n    };\n    this.onCopy = function () {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function () {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function (text, event) {\n        var e = { text: text, event: event };\n        this.commands.exec(\"paste\", this, e);\n    };\n    this.$handlePaste = function (e) {\n        if (typeof e == \"string\")\n            e = { text: e };\n        this._signal(\"paste\", e);\n        var text = e.text;\n        var lineMode = text === clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        }\n        else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function (range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        }\n        else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n    this.execCommand = function (command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function (text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n            }\n        }\n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n            }\n            else { // Transform relative to the current row.\n                this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        }\n        else {\n            var selectedRange = this.getSelectionRange();\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({ row: row, column: 0 }, lineIndent);\n                }\n            }\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n    this.onTextInput = function (text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        this.startOperation({ command: { name: \"insertstring\" } });\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    this.applyComposition = function (text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n    this.onCommandKey = function (e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function (overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function () {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function () {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function (speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function () {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function (dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function () {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function (val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function () {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function (shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function () {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function (shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function () {\n        return this.$highlightSelectedWord;\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.renderer.getShowInvisibles();\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.renderer.setHighlightIndentGuides(highlight);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.renderer.getHighlightIndentGuides();\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function (readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function () {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function (show) {\n        this.setOption(\"showFoldWidgets\", show);\n    };\n    this.getShowFoldWidgets = function () {\n        return this.getOption(\"showFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function (dir) {\n        if (this.selection.isEmpty()) {\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function () {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function () {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.setGhostText = function (text, position) {\n        if (!this.session.widgetManager) {\n            this.session.widgetManager = new LineWidgets(this.session);\n            this.session.widgetManager.attach(this);\n        }\n        this.renderer.setGhostText(text, position);\n    };\n    this.removeGhostText = function () {\n        if (!this.session.widgetManager)\n            return;\n        this.renderer.removeGhostText();\n    };\n    this.transposeLetters = function () {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column - 1);\n            range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n        }\n        else {\n            swap = line.charAt(column - 1) + line.charAt(column - 2);\n            range = new Range(cursor.row, column - 2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function () {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function () {\n        var session = this.session;\n        var range = this.getSelectionRange();\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        }\n        else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        }\n        else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function () {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function () {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function () {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n        lines.sort(function (a, b) {\n            if (a.toLowerCase() < b.toLowerCase())\n                return -1;\n            if (a.toLowerCase() > b.toLowerCase())\n                return 1;\n            return 0;\n        });\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i - rows.first]);\n        }\n    };\n    this.toggleCommentLines = function () {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n    this.toggleBlockComment = function () {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function (row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if (m.index <= column && m.index + m[0].length >= column) {\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index + m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function (amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column - 1, row, column);\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n                if (fp !== nr.end && column < fp) {\n                    amount *= Math.pow(10, nr.end - column - 1);\n                }\n                else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n            }\n        }\n        else {\n            this.toggleWord();\n        }\n    };\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0)\n            delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            }\n                            else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.findLinkAt = function (row, column) {\n        var e_1, _a;\n        var line = this.session.getLine(row);\n        var wordParts = line.split(/((?:https?|ftp):\\/\\/[\\S]+)/);\n        var columnPosition = column;\n        if (columnPosition < 0)\n            columnPosition = 0;\n        var previousPosition = 0, currentPosition = 0, match;\n        try {\n            for (var wordParts_1 = __values(wordParts), wordParts_1_1 = wordParts_1.next(); !wordParts_1_1.done; wordParts_1_1 = wordParts_1.next()) {\n                var item = wordParts_1_1.value;\n                currentPosition = previousPosition + item.length;\n                if (columnPosition >= previousPosition && columnPosition <= currentPosition) {\n                    if (item.match(/((?:https?|ftp):\\/\\/[\\S]+)/)) {\n                        match = item.replace(/[\\s:.,'\";}\\]]+$/, \"\");\n                        break;\n                    }\n                }\n                previousPosition = currentPosition;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (wordParts_1_1 && !wordParts_1_1.done && (_a = wordParts_1.return)) _a.call(wordParts_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return match;\n    };\n    this.openLink = function () {\n        var cursor = this.selection.getCursor();\n        var url = this.findLinkAt(cursor.row, cursor.column);\n        if (url)\n            window.open(url, '_blank');\n        return url != null;\n    };\n    this.removeLines = function () {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n    this.duplicateSelection = function () {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        }\n        else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function () {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function () {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function (range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function () {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function () {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function (dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1)\n                moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        }\n        else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff)\n                        ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1)\n                    rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy)\n                    diff = 0;\n                totalDiff += diff;\n            }\n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function (range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n    this.onCompositionStart = function (compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n    this.onCompositionUpdate = function (text) {\n        this.renderer.setCompositionText(text);\n    };\n    this.onCompositionEnd = function () {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function () {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function () {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function (row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function (row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function () {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n    this.$moveByPage = function (dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n        if (select === true) {\n            this.selection.$moveSelection(function () {\n                this.moveCursorBy(rows, 0);\n            });\n        }\n        else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        var scrollTop = renderer.scrollTop;\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function () {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function () {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function () {\n        this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function () {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function () {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function () {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function (row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function () {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function () {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function () {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function () {\n        return this.selection.getRange();\n    };\n    this.selectAll = function () {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function () {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function (row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function (pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function (select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var tokenCount = 0;\n        if (prevToken && prevToken.type.indexOf('tag-name') !== -1) {\n            prevToken = iterator.stepBackward();\n        }\n        var token = prevToken || iterator.stepForward();\n        if (!token)\n            return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                            break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                if (prevToken.value === '<' && tokenCount > 1) {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n            if (!found) {\n                prevToken = token;\n                tokenCount++;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column)\n                    < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (!token || token.type.indexOf('tag-name') === -1)\n                return;\n            range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                var tagsRanges = this.session.getMatchingTags(cursor);\n                if (tagsRanges) {\n                    if (tagsRanges.openTag.contains(cursor.row, cursor.column)) {\n                        range = tagsRanges.closeTag;\n                        pos = range.start;\n                    }\n                    else {\n                        range = tagsRanges.openTag;\n                        if (tagsRanges.closeTag.start.row === cursor.row && tagsRanges.closeTag.start.column\n                            === cursor.column)\n                            pos = range.end;\n                        else\n                            pos = range.start;\n                    }\n                }\n            }\n            pos = pos || range.start;\n        }\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                }\n                else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                }\n                else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            }\n            else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function (lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function (row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function (times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function (times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function (times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function () {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function () {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function () {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function () {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function () {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function () {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function (replacement, options) {\n        if (options)\n            this.$search.set(options);\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n        return replaced;\n    };\n    this.replaceAll = function (replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if (this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n        this.selection.setSelectionRange(selection);\n        return replaced;\n    };\n    this.$tryReplace = function (range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        }\n        else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function () {\n        return this.$search.getOptions();\n    };\n    this.find = function (needle, options, animate) {\n        if (!options)\n            options = {};\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({ needle: needle });\n        }\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({ start: range });\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function (options, animate) {\n        this.find({ skipCurrent: true, backwards: false }, options, animate);\n    };\n    this.findPrevious = function (options, animate) {\n        this.find(options, { skipCurrent: true, backwards: true }, animate);\n    };\n    this.revealRange = function (range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function () {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function () {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function () {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function (el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function (enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function () {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function () {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                }\n                else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                }\n                else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n    this.$resetCursorStyle = function () {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function (message, options, callback) {\n        var editor = this;\n        config.loadModule(\"ace/ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n}).call(Editor.prototype);\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function (style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", { data: style });\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function () { this.$updateHighlightActiveLine(); },\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function (shouldHighlight) { this.$onSelectionChange(); },\n        initialValue: true\n    },\n    readOnly: {\n        set: function (readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle();\n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function (value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function (val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: { initialValue: true },\n    wrapBehavioursEnabled: { initialValue: true },\n    enableAutoIndent: { initialValue: true },\n    autoScrollEditorIntoView: {\n        set: function (val) { this.setAutoScrollEditorIntoView(val); }\n    },\n    keyboardHandler: {\n        set: function (val) { this.setKeyboardHandler(val); },\n        get: function () { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function (val) { this.session.setValue(val); },\n        get: function () { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function (val) { this.setSession(val); },\n        get: function () { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    showLineNumbers: {\n        set: function (show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function (value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function (message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function () {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    }\n                    else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    }\n                    else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n    customScrollbar: \"renderer\",\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    highlightIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\nvar relativeNumberRenderer = {\n    getText: function (session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function (session, lastLineNumber, config) {\n        return Math.max(lastLineNumber.toString().length, (config.lastRow + 1).toString().length, 2) * config.characterWidth;\n    },\n    update: function (e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function (editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function (editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\nexports.Editor = Editor;\n\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar UndoManager = function () {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.$undoDepth = Infinity;\n    this.reset();\n};\n(function () {\n    this.addSession = function (session) {\n        this.$session = session;\n    };\n    this.add = function (delta, allowMerge, session) {\n        if (this.$fromUndo)\n            return;\n        if (delta == this.$lastDelta)\n            return;\n        if (!this.$keepRedoStack)\n            this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            var undoStackLength = this.$undoStack.length;\n            if (undoStackLength > this.$undoDepth - 1) {\n                this.$undoStack.splice(0, undoStackLength - this.$undoDepth + 1);\n            }\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    this.addSelection = function (selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    this.startNewGroup = function () {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    this.markIgnored = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    this.getSelection = function (rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    this.getRevision = function () {\n        return this.$rev;\n    };\n    this.getDeltas = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i + 1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    this.getChangedRanges = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.getChangedLines = function (from, to) {\n        if (to == null)\n            to = this.$rev + 1;\n    };\n    this.undo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        if (!session)\n            session = this.$session;\n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        this.$fromUndo = true;\n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return undoSelectionRange;\n    };\n    this.redo = function (session, dontSelect) {\n        this.lastDeltas = null;\n        if (!session)\n            session = this.$session;\n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function (x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        return redoSelectionRange;\n    };\n    this.$syncRev = function () {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function () {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function () {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function () {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function (rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function () {\n        return this.$rev === this.mark;\n    };\n    this.toJSON = function () {\n    };\n    this.fromJSON = function () {\n    };\n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    this.$prettyPrint = function (delta) {\n        if (delta)\n            return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--;) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while (i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert)\n        end = start;\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\nfunction clonePos(pos) {\n    return { row: pos.row, column: pos.column };\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    }\n    else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        }\n        else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column\n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        }\n        else {\n            return null;\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        }\n        else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        }\n        else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--;) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }\n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore =\n        ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        }\n        else {\n            shift(d1, c1, 1);\n        }\n    }\n    else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        }\n        else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        }\n        else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    }\n    else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        }\n        else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    }\n    else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        }\n        else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        }\n        else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);\n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col);\n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                }\n                else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1);\n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Lines = function (element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n(function () {\n    this.moveContainer = function (config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };\n    this.pageChanged = function (oldConfig, newConfig) {\n        return (Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight));\n    };\n    this.computeLineTop = function (row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    this.computeLineHeight = function (row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    this.getLength = function () {\n        return this.cells.length;\n    };\n    this.get = function (index) {\n        return this.cells[index];\n    };\n    this.shift = function () {\n        this.$cacheCell(this.cells.shift());\n    };\n    this.pop = function () {\n        this.$cacheCell(this.cells.pop());\n    };\n    this.push = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    this.unshift = function (cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i = 0; i < cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        }\n        else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    this.last = function () {\n        if (this.cells.length)\n            return this.cells[this.cells.length - 1];\n        else\n            return null;\n    };\n    this.$cacheCell = function (cell) {\n        if (!cell)\n            return;\n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    this.createCell = function (row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            this.element.appendChild(element);\n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        return cell;\n    };\n}).call(Lines.prototype);\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\nvar Gutter = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    this.gutterWidth = 0;\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n    this.addGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = { text: [] };\n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n            var type = annotation.type;\n            var className = annotation.className;\n            if (className)\n                rowInfo.className = className;\n            else if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        }\n        else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        }\n        else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n    this.update = function (config) {\n        this.config = config;\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        session.getLength() - 1);\n        this.oldLastRow = lastRow;\n        this.config = config;\n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                break;\n            }\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            }\n            else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$updateGutterWidth = function (config) {\n        var session = this.session;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n        var gutterWidth = gutterRenderer\n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width =\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    this.$updateCursorRow = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        this.$cursorRow = position.row;\n    };\n    this.updateLineHighlight = function () {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n        this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldLastRow > lastRow)\n            for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        this.updateLineHighlight();\n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n    this.$renderLines = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n            row++;\n        }\n        return fragment;\n    };\n    this.$renderCell = function (cell, config, fold, row) {\n        var element = cell.element;\n        var session = this.session;\n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n        var firstLineNumber = session.$firstLineNumber;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        }\n        else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        cell.text = text;\n        return cell;\n    };\n    this.$fixedWidth = false;\n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function (highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function (show) {\n        this.$renderer = !show && {\n            getWidth: function () { return 0; },\n            getText: function () { return \"\"; }\n        };\n    };\n    this.getShowLineNumbers = function () {\n        return this.$showLineNumbers;\n    };\n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function (show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    this.getShowFoldWidgets = function () {\n        return this.$showFoldWidgets;\n    };\n    this.$computePadding = function () {\n        if (!this.element.firstChild)\n            return { left: 0, right: 0 };\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n    this.getRegion = function (point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n}).call(Gutter.prototype);\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    return element;\n}\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\nvar Marker = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n(function () {\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setMarkers = function (markers) {\n        this.markers = markers;\n    };\n    this.elt = function (className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        }\n        else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n    this.update = function (config) {\n        if (!config)\n            return;\n        this.config = config;\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty())\n                continue;\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            }\n            else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            }\n            else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            }\n            else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            }\n            else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i != -1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n    this.$getTop = function (row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0;\n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end), layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n            var range1 = range.clone();\n            range1.end.row = range1.start.row;\n            range1.end.column = this.session.getLine(range1.start.row).length;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        }\n        else {\n            this.elt(clazz + \" ace_br1 ace_start\", \"height:\" + height + \"px;\" + \"right:0;\" + \"top:\" + top + \"px;left:\" + left + \"px;\" + (extraStyle || \"\"));\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n            var range1 = range.clone();\n            range1.start.row = range1.end.row;\n            range1.start.column = 0;\n            this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        }\n        else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n            this.elt(clazz + \" ace_br12\", \"height:\" + height + \"px;\" +\n                \"width:\" + width + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n        this.elt(clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"height:\" + height + \"px;\" +\n            \"right:0;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + padding + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"width:\" + width + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:\" + left + \"px;\" + (extraStyle || \"\"));\n    };\n    this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n        selections.forEach(function (selection) {\n            this.elt(clazz, \"height:\" + height + \"px;\" +\n                \"width:\" + (selection.width + (extraLength || 0)) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\"));\n        }, this);\n    };\n    this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n    this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        this.elt(clazz, \"height:\" + height + \"px;\" +\n            \"top:\" + top + \"px;\" +\n            \"left:0;right:0;\" + (extraStyle || \"\"));\n    };\n}).call(Marker.prototype);\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Text = function (parentEl) {\n    this.dom = dom;\n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n    this.$updateEolChar = function () {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n    this.getLineHeight = function () {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n    this.getCharacterWidth = function () {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    this.$setFontMetrics = function (measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n    this.checkForSizeChanges = function () {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function () {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function (session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function (showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        }\n        else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function (display) {\n        if (this.displayIndentGuides == display)\n            return false;\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n    this.$highlightIndentGuides = true;\n    this.setHighlightIndentGuides = function (highlight) {\n        if (this.$highlightIndentGuides === highlight)\n            return false;\n        this.$highlightIndentGuides = highlight;\n        return highlight;\n    };\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n        this.$computeTabString = function () {\n            var tabSize = this.session.getTabSize();\n            this.tabSize = tabSize;\n            var tabStr = this.$tabStrings = [0];\n            for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showTabs) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_tab\";\n                    span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                    tabStr.push(span);\n                }\n                else {\n                    tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n                }\n            }\n            if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n                var spaceContent = this.showSpaces\n                    ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                    : lang.stringRepeat(\" \", this.tabSize);\n                var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n                var tabContent = this.showTabs\n                    ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                    : spaceContent;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + spaceClass;\n                span.textContent = spaceContent;\n                this.$tabStrings[\" \"] = span;\n                var span = this.dom.createElement(\"span\");\n                span.className = className + tabClass;\n                span.textContent = tabContent;\n                this.$tabStrings[\"\\t\"] = span;\n            }\n        };\n    this.updateLines = function (config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        this.config = config;\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                }\n                else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx++;\n        }\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > last)\n                break;\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(lineElement, row, row == foldStart ? foldLine : false);\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n    this.scrollLines = function (config) {\n        var oldConfig = this.config;\n        this.config = config;\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        this.$lines.moveContainer(config);\n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--)\n                this.$lines.shift();\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--)\n                this.$lines.pop();\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n        this.$highlightIndentGuide();\n    };\n    this.$renderLinesFragment = function (config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row + 1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n            var line = this.$lines.createCell(row, config, this.session);\n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            }\n            else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n            row++;\n        }\n        return fragment;\n    };\n    this.update = function (config) {\n        this.$lines.moveContainer(config);\n        this.config = config;\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n    this.$renderToken = function (parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC\\u2066\\u2067\\u2068\\u202A\\u202B\\u202D\\u202E\\u202C\\u2069]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        var valueFragment = this.dom.createFragment(this.element);\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            if (!self.showSpaces && simpleSpace)\n                continue;\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n            i = m.index + m[0].length;\n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            }\n            else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                }\n                else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            }\n            else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            }\n            else if (cjkSpace) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            }\n            else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n            span.className = classes;\n            span.appendChild(valueFragment);\n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        return screenColumn + value.length;\n    };\n    this.renderIndentGuide = function (parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols / this.tabSize;\n            for (var i = 0; i < count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        else if (value[0] == \"\\t\") {\n            for (var i = 0; i < cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            this.$highlightIndentGuide();\n            return value.substr(cols);\n        }\n        this.$highlightIndentGuide();\n        return value;\n    };\n    this.$highlightIndentGuide = function () {\n        if (!this.$highlightIndentGuides || !this.displayIndentGuides)\n            return;\n        this.$highlightIndentGuideMarker = {\n            indentLevel: undefined,\n            start: undefined,\n            end: undefined,\n            dir: undefined\n        };\n        var lines = this.session.doc.$lines;\n        if (!lines)\n            return;\n        var cursor = this.session.selection.getCursor();\n        var initialIndent = /^\\s*/.exec(this.session.doc.getLine(cursor.row))[0].length;\n        var elementIndentLevel = Math.floor(initialIndent / this.tabSize);\n        this.$highlightIndentGuideMarker = {\n            indentLevel: elementIndentLevel,\n            start: cursor.row\n        };\n        var bracketHighlight = this.session.$bracketHighlight;\n        if (bracketHighlight) {\n            var ranges = this.session.$bracketHighlight.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                if (cursor.row !== ranges[i].start.row) {\n                    this.$highlightIndentGuideMarker.end = ranges[i].start.row;\n                    if (cursor.row > ranges[i].start.row) {\n                        this.$highlightIndentGuideMarker.dir = -1;\n                    }\n                    else {\n                        this.$highlightIndentGuideMarker.dir = 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (!this.$highlightIndentGuideMarker.end) {\n            if (lines[cursor.row] !== '' && cursor.column === lines[cursor.row].length) {\n                this.$highlightIndentGuideMarker.dir = 1;\n                for (var i = cursor.row + 1; i < lines.length; i++) {\n                    var line = lines[i];\n                    var currentIndent = /^\\s*/.exec(line)[0].length;\n                    if (line !== '') {\n                        this.$highlightIndentGuideMarker.end = i;\n                        if (currentIndent <= initialIndent)\n                            break;\n                    }\n                }\n            }\n        }\n        this.$renderHighlightIndentGuide();\n    };\n    this.$clearActiveIndentGuide = function () {\n        var cells = this.$lines.cells;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            var childNodes = cell.element.childNodes;\n            if (childNodes.length > 0) {\n                for (var j = 0; j < childNodes.length; j++) {\n                    if (childNodes[j].classList && childNodes[j].classList.contains(\"ace_indent-guide-active\")) {\n                        childNodes[j].classList.remove(\"ace_indent-guide-active\");\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    this.$setIndentGuideActive = function (cell, indentLevel) {\n        var line = this.session.doc.getLine(cell.row);\n        if (line !== \"\") {\n            var childNodes = cell.element.childNodes;\n            if (childNodes) {\n                var node = childNodes[indentLevel - 1];\n                if (node && node.classList && node.classList.contains(\"ace_indent-guide\"))\n                    node.classList.add(\"ace_indent-guide-active\");\n            }\n        }\n    };\n    this.$renderHighlightIndentGuide = function () {\n        if (!this.$lines)\n            return;\n        var cells = this.$lines.cells;\n        this.$clearActiveIndentGuide();\n        var indentLevel = this.$highlightIndentGuideMarker.indentLevel;\n        if (indentLevel !== 0) {\n            if (this.$highlightIndentGuideMarker.dir === 1) {\n                for (var i = 0; i < cells.length; i++) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row >= this.$highlightIndentGuideMarker.start\n                        + 1) {\n                        if (cell.row >= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n            else {\n                for (var i = cells.length - 1; i >= 0; i--) {\n                    var cell = cells[i];\n                    if (this.$highlightIndentGuideMarker.end && cell.row < this.$highlightIndentGuideMarker.start) {\n                        if (cell.row <= this.$highlightIndentGuideMarker.end)\n                            break;\n                        this.$setIndentGuideActive(cell, indentLevel);\n                    }\n                }\n            }\n        }\n    };\n    this.$createLineElement = function (parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        return lineEl;\n    };\n    this.$renderWrappedLine = function (parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            }\n            else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value.substring(0, splitChars - chars));\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n                    split++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                }\n            }\n        }\n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n    this.$renderSimpleLine = function (parent, tokens) {\n        var screenColumn = 0;\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                value = this.renderIndentGuide(parent, value);\n                if (!value)\n                    continue;\n            }\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    this.$renderOverflowMessage = function (parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token, value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        parent.appendChild(overflowEl);\n    };\n    this.$renderLine = function (parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            }\n            else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        }\n        else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n    this.$getFoldLineTokens = function (row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n                col = from + value.length;\n                idx += 1;\n            }\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                }\n                else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n        var tokens = session.getTokens(row);\n        foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            }\n            else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n        return renderTokens;\n    };\n    this.$useLineGroups = function () {\n        return this.session.getUseWrapMode();\n    };\n    this.destroy = function () { };\n}).call(Text.prototype);\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar Cursor = function (parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n(function () {\n    this.$updateOpacity = function (val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n    this.$startCssAnimation = function () {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--;)\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n        this.$isAnimating = true;\n        setTimeout(function () {\n            if (this.$isAnimating) {\n                dom.addCssClass(this.element, \"ace_animate-blinking\");\n            }\n        }.bind(this));\n    };\n    this.$stopCssAnimation = function () {\n        this.$isAnimating = false;\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n    this.$padding = 0;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function (session) {\n        this.session = session;\n    };\n    this.setBlinking = function (blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n    this.setBlinkInterval = function (blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n    this.setSmoothBlinking = function (smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n    this.addCursor = function () {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n    this.removeCursor = function () {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n    this.hideCursor = function () {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.showCursor = function () {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n    this.restartTimer = function () {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = false;\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        update(true);\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n        if (this.smoothBlinking) {\n            this.$isSmoothBlinking = true;\n            setTimeout(function () {\n                if (this.$isSmoothBlinking) {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }\n            }.bind(this));\n        }\n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        }\n        else {\n            var blink = function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n    this.getPixelPosition = function (position, onScreen) {\n        if (!this.config || !this.session)\n            return { left: 0, top: 0 };\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n        return { left: cursorLeft, top: cursorTop };\n    };\n    this.isCursorInView = function (pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n    this.update = function (config) {\n        this.config = config;\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n        if (selections === undefined || selections.length === 0) {\n            selections = [{ cursor: null }];\n        }\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                }\n                else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            }\n            else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    this.drawCursor = null;\n    this.$setOverwrite = function (overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n    this.destroy = function () {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n}).call(Cursor.prototype);\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth =\n        this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n        this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight =\n        this.setScrollHeight = function (height) {\n            this.scrollHeight = height;\n            if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n            }\n            else if (this.coeff != 1) {\n                this.coeff = 1;\n            }\n            this.inner.style.height = height + \"px\";\n        };\n    this.setScrollTop = function (scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n        this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    this.onScroll = function () {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function (width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function (width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/scrollbar_custom\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\ndom.importCssString(\".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\\n  position: absolute;\\n  background: rgba(128, 128, 128, 0.6);\\n  -moz-box-sizing: border-box;\\n  box-sizing: border-box;\\n  border: 1px solid #bbb;\\n  border-radius: 2px;\\n  z-index: 8;\\n}\\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\\n  position: absolute;\\n  z-index: 6;\\n  background: none;\\n  overflow: hidden!important;\\n}\\n.ace_editor>.ace_sb-v {\\n  z-index: 6;\\n  right: 0;\\n  top: 0;\\n  width: 12px;\\n}\\n.ace_editor>.ace_sb-v div {\\n  z-index: 8;\\n  right: 0;\\n  width: 100%;\\n}\\n.ace_editor>.ace_sb-h {\\n  bottom: 0;\\n  left: 0;\\n  height: 12px;\\n}\\n.ace_editor>.ace_sb-h div {\\n  bottom: 0;\\n  height: 100%;\\n}\\n.ace_editor>.ace_sb_grabbed {\\n  z-index: 8;\\n  background: #000;\\n}\", \"ace_scrollbar.css\", false);\nvar ScrollBar = function (parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_sb\" + this.classSuffix;\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"\";\n    this.element.appendChild(this.inner);\n    this.VScrollWidth = 12;\n    this.HScrollHeight = 12;\n    parent.appendChild(this.element);\n    this.setVisible(false);\n    this.skipEvent = false;\n    event.addMultiMouseDownListener(this.element, [500, 300, 300], this, \"onMouseDown\");\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setVisible = function (isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    this.parent = parent;\n    this.width = this.VScrollWidth;\n    this.renderer = renderer;\n    this.inner.style.width = this.element.style.width = (this.width || 15) + \"px\";\n    this.$minWidth = 0;\n};\noop.inherits(VScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-v';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageY = e.clientY;\n            var onMouseMove = function (e) {\n                mousePageY = e.clientY;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startY = e.clientY;\n            var startTop = this.thumbTop;\n            var onScrollInterval = function () {\n                if (mousePageY === undefined)\n                    return;\n                var scrollTop = self.scrollTopFromThumbTop(startTop + mousePageY - startY);\n                if (scrollTop === self.scrollTop)\n                    return;\n                self._emit(\"scroll\", { data: scrollTop });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var top = e.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;\n        this._emit(\"scroll\", { data: this.scrollTopFromThumbTop(top) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.height;\n    };\n    this.scrollTopFromThumbTop = function (thumbTop) {\n        var scrollTop = thumbTop * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);\n        scrollTop = scrollTop >> 0;\n        if (scrollTop < 0) {\n            scrollTop = 0;\n        }\n        else if (scrollTop > this.pageHeight - this.viewHeight) {\n            scrollTop = this.pageHeight - this.viewHeight;\n        }\n        return scrollTop;\n    };\n    this.getWidth = function () {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function (height) {\n        this.height = Math.max(0, height);\n        this.slideHeight = this.height;\n        this.viewHeight = this.height;\n        this.setScrollHeight(this.pageHeight, true);\n    };\n    this.setInnerHeight = this.setScrollHeight = function (height, force) {\n        if (this.pageHeight === height && !force)\n            return;\n        this.pageHeight = height;\n        this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight;\n        if (this.thumbHeight > this.slideHeight)\n            this.thumbHeight = this.slideHeight;\n        if (this.thumbHeight < 15)\n            this.thumbHeight = 15;\n        this.inner.style.height = this.thumbHeight + \"px\";\n        if (this.scrollTop > (this.pageHeight - this.viewHeight)) {\n            this.scrollTop = (this.pageHeight - this.viewHeight);\n            if (this.scrollTop < 0)\n                this.scrollTop = 0;\n            this._emit(\"scroll\", { data: this.scrollTop });\n        }\n    };\n    this.setScrollTop = function (scrollTop) {\n        this.scrollTop = scrollTop;\n        if (scrollTop < 0)\n            scrollTop = 0;\n        this.thumbTop = scrollTop * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight);\n        this.inner.style.top = this.thumbTop + \"px\";\n    };\n}).call(VScrollBar.prototype);\nvar HScrollBar = function (parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.scrollWidth = 0;\n    this.height = this.HScrollHeight;\n    this.inner.style.height = this.element.style.height = (this.height || 12) + \"px\";\n    this.renderer = renderer;\n};\noop.inherits(HScrollBar, ScrollBar);\n(function () {\n    this.classSuffix = '-h';\n    oop.implement(this, EventEmitter);\n    this.onMouseDown = function (eType, e) {\n        if (eType !== \"mousedown\")\n            return;\n        if (event.getButton(e) !== 0 || e.detail === 2) {\n            return;\n        }\n        if (e.target === this.inner) {\n            var self = this;\n            var mousePageX = e.clientX;\n            var onMouseMove = function (e) {\n                mousePageX = e.clientX;\n            };\n            var onMouseUp = function () {\n                clearInterval(timerId);\n            };\n            var startX = e.clientX;\n            var startLeft = this.thumbLeft;\n            var onScrollInterval = function () {\n                if (mousePageX === undefined)\n                    return;\n                var scrollLeft = self.scrollLeftFromThumbLeft(startLeft + mousePageX - startX);\n                if (scrollLeft === self.scrollLeft)\n                    return;\n                self._emit(\"scroll\", { data: scrollLeft });\n            };\n            event.capture(this.inner, onMouseMove, onMouseUp);\n            var timerId = setInterval(onScrollInterval, 20);\n            return event.preventDefault(e);\n        }\n        var left = e.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;\n        this._emit(\"scroll\", { data: this.scrollLeftFromThumbLeft(left) });\n        return event.preventDefault(e);\n    };\n    this.getHeight = function () {\n        return this.isVisible ? this.height : 0;\n    };\n    this.scrollLeftFromThumbLeft = function (thumbLeft) {\n        var scrollLeft = thumbLeft * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);\n        scrollLeft = scrollLeft >> 0;\n        if (scrollLeft < 0) {\n            scrollLeft = 0;\n        }\n        else if (scrollLeft > this.pageWidth - this.viewWidth) {\n            scrollLeft = this.pageWidth - this.viewWidth;\n        }\n        return scrollLeft;\n    };\n    this.setWidth = function (width) {\n        this.width = Math.max(0, width);\n        this.element.style.width = this.width + \"px\";\n        this.slideWidth = this.width;\n        this.viewWidth = this.width;\n        this.setScrollWidth(this.pageWidth, true);\n    };\n    this.setInnerWidth = this.setScrollWidth = function (width, force) {\n        if (this.pageWidth === width && !force)\n            return;\n        this.pageWidth = width;\n        this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth;\n        if (this.thumbWidth > this.slideWidth)\n            this.thumbWidth = this.slideWidth;\n        if (this.thumbWidth < 15)\n            this.thumbWidth = 15;\n        this.inner.style.width = this.thumbWidth + \"px\";\n        if (this.scrollLeft > (this.pageWidth - this.viewWidth)) {\n            this.scrollLeft = (this.pageWidth - this.viewWidth);\n            if (this.scrollLeft < 0)\n                this.scrollLeft = 0;\n            this._emit(\"scroll\", { data: this.scrollLeft });\n        }\n    };\n    this.setScrollLeft = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        if (scrollLeft < 0)\n            scrollLeft = 0;\n        this.thumbLeft = scrollLeft * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth);\n        this.inner.style.left = (this.thumbLeft) + \"px\";\n    };\n}).call(HScrollBar.prototype);\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module){\"use strict\";\nvar event = require(\"./lib/event\");\nvar RenderLoop = function (onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function (ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0)\n                return;\n            _self.schedule();\n        }\n        else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n(function () {\n    this.schedule = function (change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n    this.clear = function (change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n}).call(RenderLoop.prototype);\nexports.RenderLoop = RenderLoop;\n\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module){var oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar CHAR_COUNT = 512;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\nvar FontMetrics = exports.FontMetrics = function (parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    this.$characterSize = { width: 0, height: 0 };\n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$characterSize = { width: 0, height: 0 };\n    this.$setMeasureNodeStyles = function (style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        }\n        else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n    this.checkForSizeChanges = function (size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", { data: size });\n        }\n    };\n    this.$addObserver = function () {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function (e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n    this.$pollSizeChanges = function () {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    this.setPolling = function (val) {\n        if (val) {\n            this.$pollSizeChanges();\n        }\n        else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n    this.$measureSizes = function (node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n    this.$measureCharWidth = function (ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    this.getCharacterWidth = function (ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n    this.destroy = function () {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement)\n            return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function () {\n        var t = function (t, l) {\n            return [\"div\", {\n                    style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n                }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function (clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/css/editor.css\",[\"require\",\"exports\",\"module\"], function(require, exports, module){/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(\".ace_br\" + i + \"{\" + (\n        [\"top-left\", \"top-right\", \"bottom-right\", \"bottom-left\"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? \"border-\" + x + \"-radius: 3px;\" : \"\"\n    }).filter(Boolean).join(\" \") + \"}\")\n}\nstyles.join(\"\\\\n\")\n*/\nmodule.exports = \"\\n.ace_br1 {border-top-left-radius    : 3px;}\\n.ace_br2 {border-top-right-radius   : 3px;}\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\n.ace_br4 {border-bottom-right-radius: 3px;}\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\n.ace_br8 {border-bottom-left-radius : 3px;}\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\n\\n\\n.ace_editor {\\n    position: relative;\\n    overflow: hidden;\\n    padding: 0;\\n    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;\\n    direction: ltr;\\n    text-align: left;\\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n\\n.ace_scroller {\\n    position: absolute;\\n    overflow: hidden;\\n    top: 0;\\n    bottom: 0;\\n    background-color: inherit;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    cursor: text;\\n}\\n\\n.ace_content {\\n    position: absolute;\\n    box-sizing: border-box;\\n    min-width: 100%;\\n    contain: style size layout;\\n    font-variant-ligatures: no-common-ligatures;\\n}\\n\\n.ace_dragging .ace_scroller:before{\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    content: '';\\n    background: rgba(250, 250, 250, 0.01);\\n    z-index: 1000;\\n}\\n.ace_dragging.ace_dark .ace_scroller:before{\\n    background: rgba(0, 0, 0, 0.01);\\n}\\n\\n.ace_gutter {\\n    position: absolute;\\n    overflow : hidden;\\n    width: auto;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    cursor: default;\\n    z-index: 4;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    contain: style size layout;\\n}\\n\\n.ace_gutter-active-line {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_scroller.ace_scroll-left:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-cell {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    padding-left: 19px;\\n    padding-right: 6px;\\n    background-repeat: no-repeat;\\n}\\n\\n.ace_gutter-cell.ace_error {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_warning {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\n    background-position: 2px center;\\n}\\n\\n.ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\n    background-position: 2px center;\\n}\\n.ace_dark .ace_gutter-cell.ace_info {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_scrollbar {\\n    contain: strict;\\n    position: absolute;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 6;\\n}\\n\\n.ace_scrollbar-inner {\\n    position: absolute;\\n    cursor: text;\\n    left: 0;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-v{\\n    overflow-x: hidden;\\n    overflow-y: scroll;\\n    top: 0;\\n}\\n\\n.ace_scrollbar-h {\\n    overflow-x: scroll;\\n    overflow-y: hidden;\\n    left: 0;\\n}\\n\\n.ace_print-margin {\\n    position: absolute;\\n    height: 100%;\\n}\\n\\n.ace_text-input {\\n    position: absolute;\\n    z-index: 0;\\n    width: 0.5em;\\n    height: 1em;\\n    opacity: 0;\\n    background: transparent;\\n    -moz-appearance: none;\\n    appearance: none;\\n    border: none;\\n    resize: none;\\n    outline: none;\\n    overflow: hidden;\\n    font: inherit;\\n    padding: 0 1px;\\n    margin: 0 -1px;\\n    contain: strict;\\n    -ms-user-select: text;\\n    -moz-user-select: text;\\n    -webkit-user-select: text;\\n    user-select: text;\\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\\n    white-space: pre!important;\\n}\\n.ace_text-input.ace_composition {\\n    background: transparent;\\n    color: inherit;\\n    z-index: 1000;\\n    opacity: 1;\\n}\\n.ace_composition_placeholder { color: transparent }\\n.ace_composition_marker { \\n    border-bottom: 1px solid;\\n    position: absolute;\\n    border-radius: 0;\\n    margin-top: 1px;\\n}\\n\\n[ace_nocontext=true] {\\n    transform: none!important;\\n    filter: none!important;\\n    clip-path: none!important;\\n    mask : none!important;\\n    contain: none!important;\\n    perspective: none!important;\\n    mix-blend-mode: initial!important;\\n    z-index: auto;\\n}\\n\\n.ace_layer {\\n    z-index: 1;\\n    position: absolute;\\n    overflow: hidden;\\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\\n    word-wrap: normal;\\n    white-space: pre;\\n    height: 100%;\\n    width: 100%;\\n    box-sizing: border-box;\\n    /* setting pointer-events: auto; on node under the mouse, which changes\\n        during scroll, will break mouse wheel scrolling in Safari */\\n    pointer-events: none;\\n}\\n\\n.ace_gutter-layer {\\n    position: relative;\\n    width: auto;\\n    text-align: right;\\n    pointer-events: auto;\\n    height: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer {\\n    font: inherit !important;\\n    position: absolute;\\n    height: 1000000px;\\n    width: 1000000px;\\n    contain: style size layout;\\n}\\n\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\n    contain: style size layout;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n}\\n\\n.ace_hidpi .ace_text-layer,\\n.ace_hidpi .ace_gutter-layer,\\n.ace_hidpi .ace_content,\\n.ace_hidpi .ace_gutter {\\n    contain: strict;\\n    will-change: transform;\\n}\\n.ace_hidpi .ace_text-layer > .ace_line, \\n.ace_hidpi .ace_text-layer > .ace_line_group {\\n    contain: strict;\\n}\\n\\n.ace_cjk {\\n    display: inline-block;\\n    text-align: center;\\n}\\n\\n.ace_cursor-layer {\\n    z-index: 4;\\n}\\n\\n.ace_cursor {\\n    z-index: 4;\\n    position: absolute;\\n    box-sizing: border-box;\\n    border-left: 2px solid;\\n    /* workaround for smooth cursor repaintng whole screen in chrome */\\n    transform: translatez(0);\\n}\\n\\n.ace_multiselect .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_slim-cursors .ace_cursor {\\n    border-left-width: 1px;\\n}\\n\\n.ace_overwrite-cursors .ace_cursor {\\n    border-left-width: 0;\\n    border-bottom: 1px solid;\\n}\\n\\n.ace_hidden-cursors .ace_cursor {\\n    opacity: 0.2;\\n}\\n\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\n    opacity: 0;\\n}\\n\\n.ace_smooth-blinking .ace_cursor {\\n    transition: opacity 0.18s;\\n}\\n\\n.ace_animate-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: step-end;\\n    animation-name: blink-ace-animate;\\n    animation-iteration-count: infinite;\\n}\\n\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\n    animation-duration: 1000ms;\\n    animation-timing-function: ease-in-out;\\n    animation-name: blink-ace-animate-smooth;\\n}\\n    \\n@keyframes blink-ace-animate {\\n    from, to { opacity: 1; }\\n    60% { opacity: 0; }\\n}\\n\\n@keyframes blink-ace-animate-smooth {\\n    from, to { opacity: 1; }\\n    45% { opacity: 1; }\\n    60% { opacity: 0; }\\n    85% { opacity: 0; }\\n}\\n\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\n    position: absolute;\\n    z-index: 3;\\n}\\n\\n.ace_marker-layer .ace_selection {\\n    position: absolute;\\n    z-index: 5;\\n}\\n\\n.ace_marker-layer .ace_bracket {\\n    position: absolute;\\n    z-index: 6;\\n}\\n\\n.ace_marker-layer .ace_error_bracket {\\n    position: absolute;\\n    border-bottom: 1px solid #DE5555;\\n    border-radius: 0;\\n}\\n\\n.ace_marker-layer .ace_active-line {\\n    position: absolute;\\n    z-index: 2;\\n}\\n\\n.ace_marker-layer .ace_selected-word {\\n    position: absolute;\\n    z-index: 4;\\n    box-sizing: border-box;\\n}\\n\\n.ace_line .ace_fold {\\n    box-sizing: border-box;\\n\\n    display: inline-block;\\n    height: 11px;\\n    margin-top: -2px;\\n    vertical-align: middle;\\n\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\n    background-repeat: no-repeat, repeat-x;\\n    background-position: center center, top left;\\n    color: transparent;\\n\\n    border: 1px solid black;\\n    border-radius: 2px;\\n\\n    cursor: pointer;\\n    pointer-events: auto;\\n}\\n\\n.ace_dark .ace_fold {\\n}\\n\\n.ace_fold:hover{\\n    background-image:\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\n        url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\n}\\n\\n.ace_tooltip {\\n    background-color: #f5f5f5;\\n    border: 1px solid gray;\\n    border-radius: 1px;\\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\n    color: black;\\n    max-width: 100%;\\n    padding: 3px 4px;\\n    position: fixed;\\n    z-index: 999999;\\n    box-sizing: border-box;\\n    cursor: default;\\n    white-space: pre;\\n    word-wrap: break-word;\\n    line-height: normal;\\n    font-style: normal;\\n    font-weight: normal;\\n    letter-spacing: normal;\\n    pointer-events: none;\\n}\\n\\n.ace_tooltip:focus {\\n    outline: 1px solid black;\\n}\\n\\n.ace_folding-enabled > .ace_gutter-cell {\\n    padding-right: 13px;\\n}\\n\\n.ace_fold-widget {\\n    box-sizing: border-box;\\n\\n    margin: 0 -12px 0 1px;\\n    display: none;\\n    width: 11px;\\n    vertical-align: top;\\n\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n\\n    border-radius: 3px;\\n    \\n    border: 1px solid transparent;\\n    cursor: pointer;\\n}\\n\\n.ace_folding-enabled .ace_fold-widget {\\n    display: inline-block;   \\n}\\n\\n.ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\n}\\n\\n.ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\n}\\n\\n.ace_fold-widget:hover {\\n    border: 1px solid rgba(0, 0, 0, 0.3);\\n    background-color: rgba(255, 255, 255, 0.2);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\n}\\n\\n.ace_fold-widget:active {\\n    border: 1px solid rgba(0, 0, 0, 0.4);\\n    background-color: rgba(0, 0, 0, 0.05);\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\n}\\n/**\\n * Dark version for fold widgets\\n */\\n.ace_dark .ace_fold-widget {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_end {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget.ace_closed {\\n    background-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\n}\\n.ace_dark .ace_fold-widget:hover {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n    background-color: rgba(255, 255, 255, 0.1);\\n}\\n.ace_dark .ace_fold-widget:active {\\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\n}\\n\\n.ace_inline_button {\\n    border: 1px solid lightgray;\\n    display: inline-block;\\n    margin: -1px 8px;\\n    padding: 0 5px;\\n    pointer-events: auto;\\n    cursor: pointer;\\n}\\n.ace_inline_button:hover {\\n    border-color: gray;\\n    background: rgba(200,200,200,0.2);\\n    display: inline-block;\\n    pointer-events: auto;\\n}\\n\\n.ace_fold-widget.ace_invalid {\\n    background-color: #FFB4B4;\\n    border-color: #DE5555;\\n}\\n\\n.ace_fade-fold-widgets .ace_fold-widget {\\n    transition: opacity 0.4s ease 0.05s;\\n    opacity: 0;\\n}\\n\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\n    transition: opacity 0.05s ease 0.05s;\\n    opacity:1;\\n}\\n\\n.ace_underline {\\n    text-decoration: underline;\\n}\\n\\n.ace_bold {\\n    font-weight: bold;\\n}\\n\\n.ace_nobold .ace_bold {\\n    font-weight: normal;\\n}\\n\\n.ace_italic {\\n    font-style: italic;\\n}\\n\\n\\n.ace_error-marker {\\n    background-color: rgba(255, 0, 0,0.2);\\n    position: absolute;\\n    z-index: 9;\\n}\\n\\n.ace_highlight-marker {\\n    background-color: rgba(255, 255, 0,0.2);\\n    position: absolute;\\n    z-index: 8;\\n}\\n\\n.ace_mobile-menu {\\n    position: absolute;\\n    line-height: 1.5;\\n    border-radius: 4px;\\n    -ms-user-select: none;\\n    -moz-user-select: none;\\n    -webkit-user-select: none;\\n    user-select: none;\\n    background: white;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #dcdcdc;\\n    color: black;\\n}\\n.ace_dark > .ace_mobile-menu {\\n    background: #333;\\n    color: #ccc;\\n    box-shadow: 1px 3px 2px grey;\\n    border: 1px solid #444;\\n\\n}\\n.ace_mobile-button {\\n    padding: 2px;\\n    cursor: pointer;\\n    overflow: hidden;\\n}\\n.ace_mobile-button:hover {\\n    background-color: #eee;\\n    opacity:1;\\n}\\n.ace_mobile-button:active {\\n    background-color: #ddd;\\n}\\n\\n.ace_placeholder {\\n    font-family: arial;\\n    transform: scale(0.9);\\n    transform-origin: left;\\n    white-space: pre;\\n    opacity: 0.7;\\n    margin: 0 10px;\\n}\\n\\n.ace_ghost_text {\\n    opacity: 0.5;\\n    font-style: italic;\\n    white-space: pre;\\n}\";\n\n});\n\nace.define(\"ace/layer/decorators\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module){\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Decorator = function (parent, renderer) {\n    this.canvas = dom.createElement(\"canvas\");\n    this.renderer = renderer;\n    this.pixelRatio = 1;\n    this.maxHeight = renderer.layerConfig.maxHeight;\n    this.lineHeight = renderer.layerConfig.lineHeight;\n    this.canvasHeight = parent.parent.scrollHeight;\n    this.heightRatio = this.canvasHeight / this.maxHeight;\n    this.canvasWidth = parent.width;\n    this.minDecorationHeight = (2 * this.pixelRatio) | 0;\n    this.halfMinDecorationHeight = (this.minDecorationHeight / 2) | 0;\n    this.canvas.width = this.canvasWidth;\n    this.canvas.height = this.canvasHeight;\n    this.canvas.style.top = 0 + \"px\";\n    this.canvas.style.right = 0 + \"px\";\n    this.canvas.style.zIndex = 7 + \"px\";\n    this.canvas.style.position = \"absolute\";\n    this.colors = {};\n    this.colors.dark = {\n        \"error\": \"rgba(255, 18, 18, 1)\",\n        \"warning\": \"rgba(18, 136, 18, 1)\",\n        \"info\": \"rgba(18, 18, 136, 1)\"\n    };\n    this.colors.light = {\n        \"error\": \"rgb(255,51,51)\",\n        \"warning\": \"rgb(32,133,72)\",\n        \"info\": \"rgb(35,68,138)\"\n    };\n    parent.element.appendChild(this.canvas);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.$updateDecorators = function (config) {\n        var colors = (this.renderer.theme.isDark === true) ? this.colors.dark : this.colors.light;\n        if (config) {\n            this.maxHeight = config.maxHeight;\n            this.lineHeight = config.lineHeight;\n            this.canvasHeight = config.height;\n            var allLineHeight = (config.lastRow + 1) * this.lineHeight;\n            if (allLineHeight < this.canvasHeight) {\n                this.heightRatio = 1;\n            }\n            else {\n                this.heightRatio = this.canvasHeight / this.maxHeight;\n            }\n        }\n        var ctx = this.canvas.getContext(\"2d\");\n        function compare(a, b) {\n            if (a.priority < b.priority)\n                return -1;\n            if (a.priority > b.priority)\n                return 1;\n            return 0;\n        }\n        var annotations = this.renderer.session.$annotations;\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (annotations) {\n            var priorities = {\n                \"info\": 1,\n                \"warning\": 2,\n                \"error\": 3\n            };\n            annotations.forEach(function (item) {\n                item.priority = priorities[item.type] || null;\n            });\n            annotations = annotations.sort(compare);\n            var foldData = this.renderer.session.$foldData;\n            for (var i = 0; i < annotations.length; i++) {\n                var row = annotations[i].row;\n                var compensateFold = this.compensateFoldRows(row, foldData);\n                var currentY = Math.round((row - compensateFold) * this.lineHeight * this.heightRatio);\n                var y1 = Math.round(((row - compensateFold) * this.lineHeight * this.heightRatio));\n                var y2 = Math.round((((row - compensateFold) * this.lineHeight + this.lineHeight) * this.heightRatio));\n                var height = y2 - y1;\n                if (height < this.minDecorationHeight) {\n                    var yCenter = ((y1 + y2) / 2) | 0;\n                    if (yCenter < this.halfMinDecorationHeight) {\n                        yCenter = this.halfMinDecorationHeight;\n                    }\n                    else if (yCenter + this.halfMinDecorationHeight > this.canvasHeight) {\n                        yCenter = this.canvasHeight - this.halfMinDecorationHeight;\n                    }\n                    y1 = Math.round(yCenter - this.halfMinDecorationHeight);\n                    y2 = Math.round(yCenter + this.halfMinDecorationHeight);\n                }\n                ctx.fillStyle = colors[annotations[i].type] || null;\n                ctx.fillRect(0, currentY, this.canvasWidth, y2 - y1);\n            }\n        }\n        var cursor = this.renderer.session.selection.getCursor();\n        if (cursor) {\n            var compensateFold = this.compensateFoldRows(cursor.row, foldData);\n            var currentY = Math.round((cursor.row - compensateFold) * this.lineHeight * this.heightRatio);\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n            ctx.fillRect(0, currentY, this.canvasWidth, 2);\n        }\n    };\n    this.compensateFoldRows = function (row, foldData) {\n        var compensateFold = 0;\n        if (foldData && foldData.length > 0) {\n            for (var j = 0; j < foldData.length; j++) {\n                if (row > foldData[j].start.row && row < foldData[j].end.row) {\n                    compensateFold += row - foldData[j].start.row;\n                }\n                else if (row >= foldData[j].end.row) {\n                    compensateFold += foldData[j].end.row - foldData[j].start.row;\n                }\n            }\n        }\n        return compensateFold;\n    };\n}.call(Decorator.prototype));\nexports.Decorator = Decorator;\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/scrollbar_custom\",\"ace/scrollbar_custom\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/css/editor.css\",\"ace/layer/decorators\",\"ace/lib/useragent\"], function(require, exports, module){\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar HScrollBarCustom = require(\"./scrollbar_custom\").HScrollBar;\nvar VScrollBarCustom = require(\"./scrollbar_custom\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = require(\"./css/editor.css\");\nvar Decorator = require(\"./layer/decorators\").Decorator;\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\ndom.importCssString(editorCss, \"ace_editor.css\", false);\nvar VirtualRenderer = function (container, theme) {\n    var _self = this;\n    this.container = container || dom.createElement(\"div\");\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI)\n        dom.addCssClass(this.container, \"ace_hidpi\");\n    this.setTheme(theme);\n    if (config.get(\"useStrictCSP\") == null)\n        config.set(\"useStrictCSP\", false);\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n    this.$markerBack = new MarkerLayer(this.content);\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n    this.$markerFront = new MarkerLayer(this.content);\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n    this.scrollBar =\n        this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function (e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n    this.cursorPos = {\n        row: 0,\n        column: 0\n    };\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function (e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n    this.layerConfig = {\n        width: 1,\n        padding: 0,\n        firstRow: 0,\n        firstRowScreen: 0,\n        lastRow: 0,\n        lineHeight: 0,\n        characterWidth: 0,\n        minHeight: 1,\n        maxHeight: 1,\n        offset: 0,\n        height: 1,\n        gutterOffset: 1\n    };\n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n    this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n    this.$loop.schedule(this.CHANGE_FULL);\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n(function () {\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n    oop.implement(this, EventEmitter);\n    this.updateCharacterSize = function () {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n        this.layerConfig.characterWidth =\n            this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n            this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function (session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function (firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n    this.onChangeNewLineMode = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    this.onChangeTabSize = function () {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function () {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function (force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function () {\n        this.$textLayer.checkForSizeChanges();\n    };\n    this.$changes = 0;\n    this.$updateSizeAsync = function () {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function (force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n        if (force)\n            this.$gutterLayer.$padding = null;\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        if (this.$customScrollbar) {\n            this.$updateCustomScrollbar(true);\n        }\n    };\n    this.$updateCachedSize = function (force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.setHeight(size.scrollerHeight);\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n            changes = changes | this.CHANGE_SCROLL;\n        }\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            this.gutterWidth = gutterWidth;\n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n            this.scrollBarH.setWidth(size.scrollerWidth);\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        size.$dirty = !width || !height;\n        if (changes)\n            this._signal(\"resize\", oldSize);\n        return changes;\n    };\n    this.onGutterResize = function (width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        }\n        else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function () {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function (shouldAnimate) {\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function () {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function (showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function () {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function () {\n        return this.getOption(\"displayIndentGuides\");\n    };\n    this.setDisplayIndentGuides = function (display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.getHighlightIndentGuides = function () {\n        return this.getOption(\"highlightIndentGuides\");\n    };\n    this.setHighlightIndentGuides = function (highlight) {\n        this.setOption(\"highlightIndentGuides\", highlight);\n    };\n    this.setShowPrintMargin = function (showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function () {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function (showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function () {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function () {\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function (show) {\n        return this.setOption(\"showGutter\", show);\n    };\n    this.getFadeFoldWidgets = function () {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.setFadeFoldWidgets = function (show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n    this.setHighlightGutterLine = function (shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n    this.getHighlightGutterLine = function () {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.$updatePrintMargin = function () {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function () {\n        return this.container;\n    };\n    this.getMouseEventTarget = function () {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function () {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function () {\n        if (this.$isMousePressed)\n            return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n        posLeft += this.gutterWidth + this.margin.left;\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function () {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function () {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function () {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function () {\n        return this.layerConfig.lastRow;\n    };\n    this.$padding = null;\n    this.setPadding = function (padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    this.setScrollMargin = function (top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.setMargin = function (top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top | 0;\n        sm.bottom = bottom | 0;\n        sm.right = right | 0;\n        sm.left = left | 0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function () {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function () {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.$updateScrollBarV = function () {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function () {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    this.$frozen = false;\n    this.freeze = function () {\n        this.$frozen = true;\n    };\n    this.unfreeze = function () {\n        this.$frozen = false;\n    };\n    this.$renderChanges = function (changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return;\n        }\n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        this._signal(\"beforeRender\", changes);\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n            if (this.$customScrollbar) {\n                this.$scrollDecorator.$updateDecorators(config);\n            }\n        }\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n        this._signal(\"afterRender\", changes);\n    };\n    this.$autosize = function () {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            this._signal(\"autosize\");\n        }\n    };\n    this.$computeLayerConfig = function () {\n        var session = this.session;\n        var size = this.$size;\n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n        var longestLine = this.$getLongestLine();\n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n            firstRowHeight;\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged)\n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        this.layerConfig = {\n            width: longestLine,\n            padding: this.$padding,\n            firstRow: firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow: lastRow,\n            lineHeight: lineHeight,\n            characterWidth: this.characterWidth,\n            minHeight: minHeight,\n            maxHeight: maxHeight,\n            offset: offset,\n            gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height: this.$size.scrollerHeight\n        };\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n        return changes;\n    };\n    this.$updateLines = function () {\n        if (!this.$changedLines)\n            return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n        var layerConfig = this.layerConfig;\n        if (firstRow > layerConfig.lastRow + 1) {\n            return;\n        }\n        if (lastRow < layerConfig.firstRow) {\n            return;\n        }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n    this.$getLongestLine = function () {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function () {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function () {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function (row, className) {\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function (row, className) {\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function (rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function (annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function () {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function () {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function () {\n        this.$cursorLayer.showCursor();\n    };\n    this.scrollSelectionIntoView = function (anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var newLeft = pos.left;\n        var newTop = pos.top;\n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        if (this.$scrollAnimation) {\n            this.$stopAnimation = true;\n        }\n        var currentTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        if (currentTop + topMargin > newTop) {\n            if (offset && currentTop + topMargin > newTop + this.lineHeight)\n                newTop -= offset * this.$size.scrollerHeight;\n            if (newTop === 0)\n                newTop = -this.scrollMargin.top;\n            this.session.setScrollTop(newTop);\n        }\n        else if (currentTop + this.$size.scrollerHeight - bottomMargin < newTop + this.lineHeight) {\n            if (offset && currentTop + this.$size.scrollerHeight - bottomMargin < newTop - this.lineHeight)\n                newTop += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(newTop + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n        var currentLeft = this.scrollLeft;\n        var twoCharsWidth = 2 * this.layerConfig.characterWidth;\n        if (newLeft - twoCharsWidth < currentLeft) {\n            newLeft -= twoCharsWidth;\n            if (newLeft < this.$padding + twoCharsWidth) {\n                newLeft = -this.scrollMargin.left;\n            }\n            this.session.setScrollLeft(newLeft);\n        }\n        else {\n            newLeft += twoCharsWidth;\n            if (currentLeft + this.$size.scrollerWidth < newLeft + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(newLeft + this.characterWidth - this.$size.scrollerWidth));\n            }\n            else if (currentLeft <= this.$padding && newLeft - currentLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n            }\n        }\n    };\n    this.getScrollTop = function () {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function () {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function () {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function () {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function (row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n    this.alignCursor = function (cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = { row: cursor, column: 0 };\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n    this.STEPS = 8;\n    this.$calcSteps = function (fromValue, toValue) {\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n        var func = function (t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n        return steps;\n    };\n    this.scrollToLine = function (line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n    this.animateScrolling = function (fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        if (fromValue == toValue)\n            return;\n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n        clearInterval(this.$timer);\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        function endAnimation() {\n            _self.$timer = clearInterval(_self.$timer);\n            _self.$scrollAnimation = null;\n            _self.$stopAnimation = false;\n            callback && callback();\n        }\n        this.$timer = setInterval(function () {\n            if (_self.$stopAnimation) {\n                endAnimation();\n                return;\n            }\n            if (!_self.session)\n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            }\n            else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            }\n            else {\n                endAnimation();\n            }\n        }, 10);\n    };\n    this.scrollToY = function (scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function (scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function (x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(x);\n    };\n    this.scrollBy = function (deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function (deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n            return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n            return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n            return true;\n    };\n    this.pixelToScreenCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n    };\n    this.screenToTextCoordinates = function (x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = { top: 0, left: 0 };\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        }\n        else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function (row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : Math.round(pos.column * this.characterWidth));\n        var y = pos.row * this.lineHeight;\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function () {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function () {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function (composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function (text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function () {\n        if (!this.$composition)\n            return;\n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    this.setGhostText = function (text, position) {\n        var cursor = this.session.selection.cursor;\n        var insertPosition = position || { row: cursor.row, column: cursor.column };\n        this.removeGhostText();\n        var textLines = text.split(\"\\n\");\n        this.addToken(textLines[0], \"ghost_text\", insertPosition.row, insertPosition.column);\n        this.$ghostText = {\n            text: text,\n            position: {\n                row: insertPosition.row,\n                column: insertPosition.column\n            }\n        };\n        if (textLines.length > 1) {\n            this.$ghostTextWidget = {\n                text: textLines.slice(1).join(\"\\n\"),\n                row: insertPosition.row,\n                column: insertPosition.column,\n                className: \"ace_ghost_text\"\n            };\n            this.session.widgetManager.addLineWidget(this.$ghostTextWidget);\n        }\n    };\n    this.removeGhostText = function () {\n        if (!this.$ghostText)\n            return;\n        var position = this.$ghostText.position;\n        this.removeExtraToken(position.row, position.column);\n        if (this.$ghostTextWidget) {\n            this.session.widgetManager.removeLineWidget(this.$ghostTextWidget);\n            this.$ghostTextWidget = null;\n        }\n        this.$ghostText = null;\n    };\n    this.addToken = function (text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = { type: type, value: text };\n        var tokens = session.getTokens(row);\n        if (column == null || !tokens.length) {\n            tokens.push(newToken);\n        }\n        else {\n            var l = 0;\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n                    tokens.splice(i, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n    this.removeExtraToken = function (row, column) {\n        this.session.bgTokenizer.lines[row] = null;\n        this.updateLines(row, row);\n    };\n    this.setTheme = function (theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange', { theme: theme });\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        }\n        else {\n            afterLoad(theme);\n        }\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(module.cssText, module.cssClass, _self.container);\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n            var padding = \"padding\" in module ? module.padding\n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n            _self._dispatchEvent('themeLoaded', { theme: module });\n            cb && cb();\n        }\n    };\n    this.getTheme = function () {\n        return this.$themeId;\n    };\n    this.setStyle = function (style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function (style) {\n        dom.removeCssClass(this.container, style);\n    };\n    this.setCursorStyle = function (style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function (cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    this.attachToShadowRoot = function () {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function () {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n    this.$updateCustomScrollbar = function (val) {\n        var _self = this;\n        this.$horizScroll = this.$vScroll = null;\n        this.scrollBarV.element.remove();\n        this.scrollBarH.element.remove();\n        if (this.$scrollDecorator) {\n            delete this.$scrollDecorator;\n        }\n        if (val === true) {\n            this.scrollBarV = new VScrollBarCustom(this.container, this);\n            this.scrollBarH = new HScrollBarCustom(this.container, this);\n            this.scrollBarV.setHeight(this.$size.scrollerHeight);\n            this.scrollBarH.setWidth(this.$size.scrollerWidth);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n            this.$scrollDecorator = new Decorator(this.scrollBarV, this);\n            this.$scrollDecorator.$updateDecorators();\n        }\n        else {\n            this.scrollBarV = new VScrollBar(this.container, this);\n            this.scrollBarH = new HScrollBar(this.container, this);\n            this.scrollBarV.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n            });\n            this.scrollBarH.addEventListener(\"scroll\", function (e) {\n                if (!_self.$scrollAnimation)\n                    _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n            });\n        }\n    };\n}).call(VirtualRenderer.prototype);\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: { initialValue: false },\n    showInvisibles: {\n        set: function (value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function () { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function (val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function () {\n            return this.$showPrintMargin && this.$printMarginColumn;\n        }\n    },\n    showGutter: {\n        set: function (show) {\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function (show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function (show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightIndentGuides: {\n        set: function (show) {\n            if (this.$textLayer.setHighlightIndentGuides(show) == true) {\n                this.$textLayer.$highlightIndentGuide();\n            }\n            else {\n                this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);\n            }\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function (shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function (val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function (size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function (name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function (val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function (val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function (val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function (val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function (val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    customScrollbar: {\n        set: function (val) {\n            this.$updateCustomScrollbar(val);\n        },\n        initialValue: false\n    },\n    theme: {\n        set: function (val) { this.setTheme(val); },\n        get: function () { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {},\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\nexports.VirtualRenderer = VirtualRenderer;\n\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n                this.$worker && this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener, true);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\nvar PlaceHolder = function (session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate, true);\n    this.$others = others;\n    this.$onCursorChange = function () {\n        setTimeout(function () {\n            _self.onCursorChange();\n        });\n    };\n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n(function () {\n    oop.implement(this, EventEmitter);\n    this.setup = function () {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function (other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function () {\n        if (this.othersActive)\n            return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function (anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function () {\n        if (!this.othersActive)\n            return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function (delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n        var range = delta;\n        if (range.start.row !== range.end.row)\n            return;\n        if (range.start.row !== this.pos.row)\n            return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        this.updateAnchors(delta);\n        if (inMainRange)\n            this.length += lengthDiff;\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            }\n            else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        this.$updating = false;\n        this.updateMarkers();\n    };\n    this.updateAnchors = function (delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    this.updateMarkers = function () {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function (pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n    this.onCursorChange = function (event) {\n        if (this.$updating || !this.session)\n            return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        }\n        else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };\n    this.detach = function () {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function () {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\nexports.PlaceHolder = PlaceHolder;\n\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module){var event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    if (ctrl && useragent.isMac)\n        button = ev.button;\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    if (button !== 0)\n        return;\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function (e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    }\n    else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        }\n        else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        editor.inVirtualSelectionMode = true;\n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function () {\n            var tmpSel = selection.toOrientedRange();\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                }\n                else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n    }\n    else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;\n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function () {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        }\n        else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);\n        else\n            selection.moveToPosition(pos);\n        screenCursor = { row: -1, column: -1 };\n        var onMouseSelectionEnd = function (e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n        var onSelectionInterval = blockSelect;\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function () { onSelectionInterval(); }, 20);\n        return e.preventDefault();\n    }\n}\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module){// commands to enter multiselect mode\nexports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        description: \"Add cursor above\",\n        exec: function (editor) { editor.selectMoreLines(-1); },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        description: \"Add cursor below\",\n        exec: function (editor) { editor.selectMoreLines(1); },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        description: \"Add cursor above (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        description: \"Add cursor below (skip current)\",\n        exec: function (editor) { editor.selectMoreLines(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        description: \"Select more before\",\n        exec: function (editor) { editor.selectMore(-1); },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        description: \"Select more after\",\n        exec: function (editor) { editor.selectMore(1); },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        description: \"Select next before\",\n        exec: function (editor) { editor.selectMore(-1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        description: \"Select next after\",\n        exec: function (editor) { editor.selectMore(1, true); },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"toggleSplitSelectionIntoLines\",\n        description: \"Split selection into lines\",\n        exec: function (editor) {\n            if (editor.multiSelect.rangeCount > 1)\n                editor.multiSelect.joinSelections();\n            else\n                editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"splitSelectionIntoLines\",\n        description: \"Split into lines\",\n        exec: function (editor) { editor.multiSelect.splitIntoLines(); },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        description: \"Align cursors\",\n        exec: function (editor) { editor.alignCursors(); },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        description: \"Find all\",\n        exec: function (editor) { editor.findAll(); },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\nexports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        description: \"Single selection\",\n        bindKey: \"esc\",\n        exec: function (editor) { editor.exitMultiSelectMode(); },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function (editor) { return editor && editor.inMultiSelectMode; }\n    }];\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module){var RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function () {\n    this.getSelectionMarkers = function () {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function () {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function (range, $blockChangeEvents) {\n        if (!range)\n            return;\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n        if (!range.cursor)\n            range.cursor = range.end;\n        var removed = this.rangeList.add(range);\n        this.$onAddRange(range);\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function (range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function (pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function () {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n    this.$onAddRange = function (range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", { range: range });\n    };\n    this.$onRemoveRange = function (removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n        for (var i = removed.length; i--;) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n        this._signal(\"removeRange\", { ranges: removed });\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function () {\n        if (this.rangeList)\n            return;\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function () {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            }\n            else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        }\n        else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        }\n        else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        }\n        else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n        if (startRow == endRow)\n            includeEmptyLines = true;\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n        if (yBackwards)\n            rectSel.reverse();\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function () {\n    this.updateSelectionMarkers = function () {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function (orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function (range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n    this.removeSelectionMarkers = function (ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--;) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n    this.$onAddRange = function (e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onRemoveRange = function (e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onMultiSelect = function (e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.$onSingleSelect = function (e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n    this.$onMultiSelectExec = function (e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        }\n        else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        }\n        else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        }\n        else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        }\n        else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    };\n    this.forEachSelection = function (cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        return result;\n    };\n    this.exitMultiSelectMode = function () {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n    this.getSelectedText = function () {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        }\n        else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    this.$checkMultiselectChange = function (e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row\n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function (needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }\n        this.$search.set(options);\n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n        var selection = this.multiSelect;\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n        for (var i = ranges.length; i--;)\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        return ranges.length;\n    };\n    this.selectMoreLines = function (dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        }\n        else {\n            var anchor = lead;\n        }\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        }\n        else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        }\n        else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function (dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n        var words = [];\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n        for (var i = all.length; i--;) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function (dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function () {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function (r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                if (fr < 0)\n                    fr = 0;\n                if (lr >= max)\n                    lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        }\n        else {\n            sameRowRanges.forEach(function (r) {\n                sel.substractPoint(r.cursor);\n            });\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function (r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function (r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n    this.$reAlignText = function (lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n        return lines.map(function (line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function (e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n    addAltCursorListeners(editor);\n}\nfunction addAltCursorListeners(editor) {\n    if (!editor.textInput)\n        return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function (e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        }\n        else if (altCursor) {\n            reset();\n        }\n    }, editor);\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\nexports.MultiSelect = MultiSelect;\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function (val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            }\n            else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function (val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar Range = require(\"../../range\").Range;\nvar FoldMode = exports.FoldMode = function () { };\n(function () {\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function (session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n            && this.foldingStopMarker\n            && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n    this.getFoldWidgetRange = function (session, foldStyle, row) {\n        return null;\n    };\n    this.indentationBlock = function (session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n            if (level == -1)\n                continue;\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n            endRow = row;\n        }\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n    this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var start = { row: row, column: column + 1 };\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n        if (fw == \"start\" && end.row > start.row) {\n            end.row--;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n    this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n        var end = { row: row, column: column };\n        var start = session.$findOpeningBracket(bracket, end);\n        if (!start)\n            return;\n        start.column++;\n        end.column--;\n        return Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module){\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\nexports.showErrorMarker = function (editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    }\n    else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    }\n    else if (oldWidget) {\n        return;\n    }\n    else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    var w = {\n        row: pos.row,\n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    el.appendChild(dom.createElement(\"div\"));\n    var kb = function (_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return { command: \"null\" };\n        }\n    };\n    w.destroy = function () {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    editor.session.widgetManager.addLineWidget(w);\n    w.el.onmousedown = editor.focus.bind(editor);\n    editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n};\ndom.importCssString(\"\\n    .error_widget_wrapper {\\n        background: inherit;\\n        color: inherit;\\n        border:none\\n    }\\n    .error_widget {\\n        border-top: solid 2px;\\n        border-bottom: solid 2px;\\n        margin: 5px 0;\\n        padding: 10px 40px;\\n        white-space: pre-wrap;\\n    }\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\n        border-color: #ff5a5a\\n    }\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\n        border-color: #F1D817\\n    }\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\n        border-color: #5a5a5a\\n    }\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\n        border-color: #5aaa5a\\n    }\\n    .error_widget_arrow {\\n        position: absolute;\\n        border: solid 5px;\\n        border-top-color: transparent!important;\\n        border-right-color: transparent!important;\\n        border-left-color: transparent!important;\\n        top: -5px;\\n    }\\n\", \"error_marker.css\", false);\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\",\"ace/loader_build\"], function(require, exports, module){/**\n * The main class required to set up an Ace instance in the browser.\n *\n * @class Ace\n **/\n\"use strict\";\nrequire(\"./loader_build\")(exports)\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\nexports.config = require(\"./config\");\nexports.edit = function (el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    }\n    else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n    var doc = exports.createEditSession(value);\n    var editor = new Editor(new Renderer(el), doc, options);\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode)\n        env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function () {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function (text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","<script lang=\"ts\">\n  import Ace from \"ace-builds/src-noconflict/ace\";\n  import { onMount } from \"svelte\";\n  import type { Navigation } from \"../types\";\n\n  let editorElement: HTMLDivElement;\n\n  export let text: string;\n\n  // Ace text editor\n  let editor;\n\n  export function navigate(start: number, end: number) {\n    if (editor) {\n      const startPos = editor.session.doc.indexToPosition(start);\n      const endPos = editor.session.doc.indexToPosition(end);\n      const range = new Ace.Range(\n        startPos.row,\n        startPos.column,\n        endPos.row,\n        endPos.column\n      );\n      editor.selection.setRange(range);\n      editor.scrollToLine(\n        Math.round((startPos.row + endPos.row) / 2),\n        true,\n        true,\n        () => {}\n      );\n    }\n  }\n\n  onMount(() => {\n    editor = Ace.edit(editorElement, {\n      mode: \"ace/mode/text\",\n      selectionStyle: \"text\",\n      readOnly: true,\n      showFoldWidgets: false,\n      showPrintMargin: false,\n      showInvisibles: false,\n      behavioursEnabled: false,\n      vScrollBarAlwaysVisible: true,\n      useSoftTabs: false,\n    });\n    editor.session.setUseWrapMode(true);\n    // Set text\n    editor.setValue(text);\n    editor.selection.setRange(new Ace.Range(0, 0, 0, 0));\n  });\n\n  $: {\n    if (editor) {\n      editor.setValue(text);\n      editor.selection.setRange(new Ace.Range(0, 0, 0, 0));\n    }\n  }\n</script>\n\n<div id=\"editor\" bind:this={editorElement} />\n\n<style>\n  #editor {\n    @apply w-full h-full;\n  }\n\n  :global(.myMarker) {\n    @apply bg-red-200;\n  }\n\n  :global(.ace_invalid) {\n    background-color: inherit !important;\n    color: inherit !important;\n  }\n\n  :global(.ace_indent-guide) {\n    background: inherit !important;\n  }\n\n  :global(.ace_gutter-cell) {\n    @apply text-gray-400;\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher, tick } from \"svelte\";\n  import type { Preference } from \"../types\";\n  const dispatch = createEventDispatcher();\n\n  export let preferences: { [key: string]: Preference };\n\n  $: preferenceValues = Object.values(preferences).filter(\n    (preference) => preference.weight !== 0\n  );\n\n  function getSearchKey(..._reactiveArgs: any[]) {\n    return JSON.stringify({\n      query: value,\n      preferences: preferenceValues || [],\n    });\n  }\n\n  let value = \"\";\n  let lastSearchKey = getSearchKey();\n\n  let preferenceContainer: HTMLDivElement;\n\n  export async function scrollToBottomOfPreferences() {\n    if (preferenceContainer != null) {\n      // Wait for a tick so new preferences are reflected\n      await tick();\n      preferenceContainer.scrollTop = preferenceContainer.scrollHeight;\n    }\n  }\n\n  $: searchKey = getSearchKey(value, preferenceValues);\n  $: searchOutdated = searchKey !== lastSearchKey;\n\n  function search() {\n    dispatch(\"search\", value);\n    lastSearchKey = searchKey;\n  }\n</script>\n\n<div class=\"flex flex-1 flex-col\">\n  <div class=\"flex items-center relative flex-1\">\n    <input\n      class=\"bg-white py-2 px-4 pl-12 font-mono w-full rounded border-black border\"\n      class:bg-yellow-50={searchOutdated}\n      class:border-yellow-600={searchOutdated}\n      class:border-dashed={searchOutdated}\n      placeholder=\"Search\"\n      bind:value\n      on:keydown={(e) => {\n        if (e.key === \"Enter\") {\n          search();\n        }\n      }}\n    />\n    <button class=\"search-button\" on:click={search}>Search</button>\n  </div>\n\n  <div\n    class=\"max-h-24 overflow-y-auto -mb-2 mt-2\"\n    bind:this={preferenceContainer}\n  >\n    {#each preferenceValues as preference}\n      <button\n        class=\"w-64 max-sm:w-40 truncate monospace rounded px-2 inline-block mr-2 mb-2 cursor\"\n        class:bg-blue-200={preference.weight > 0}\n        class:bg-orange-200={preference.weight < 0}\n        title={`${preference.file.basename}: ${preference.searchResult.text}`}\n        on:click={() => dispatch(\"setPreference\", { ...preference, weight: 0 })}\n      >\n        {#if preference.weight > 0}\n          <span class=\"text-blue-600 font-bold mr-1\">+</span>\n        {:else if preference.weight < 0}\n          <span class=\"text-orange-500 font-bold mr-1\">-</span>\n        {/if}\n        {preference.searchResult.text}\n      </button>\n    {/each}\n  </div>\n</div>\n\n<style>\n  .search-button {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='25' height='24' fill='none'%3E%3Cpath stroke='%23202020' stroke-width='3' d='M10.045 13.424A7.152 7.152 0 1 0 21.003 4.23a7.152 7.152 0 0 0-10.958 9.194Zm0 0-8.984 8.984'/%3E%3C/svg%3E\");\n    background-repeat: no-repeat;\n    text-indent: -9999px;\n    width: 25px;\n    position: absolute;\n    left: 10px;\n  }\n</style>\n","<script lang=\"ts\">\n  import type { File } from \"../types\";\n\n  export let file: File;\n  export let pageNumber: number;\n  export let scales: number[];\n\n  let scaleIndex = 0;\n\n  function getSrc(scale: number) {\n    return `/api/pdfpage?filename=${encodeURIComponent(\n      file.filename\n    )}&page=${pageNumber}&scale=${scale}`;\n  }\n\n  function handleLoad() {\n    if (scaleIndex !== scales.length - 1) {\n      scaleIndex++;\n    }\n  }\n</script>\n\n<img\n  on:load={handleLoad}\n  draggable=\"false\"\n  class=\"absolute left-0 top-0 right-0 bottom-0 w-full h-full object-contain select-none pointer-events-none\"\n  src={getSrc(scales[scaleIndex])}\n  alt=\"Page {pageNumber + 1}\"\n/>\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n",null,"<script lang=\"ts\">\n  import { onMount, tick } from \"svelte\";\n  import type { File, Offset, PdfChar, PdfPosition } from \"../types\";\n  import { copyChars, layout } from \"../layoutEngine\";\n\n  export let file: File;\n  export let pageNumber: number;\n  export let position: PdfPosition;\n  export let selectedOffset: Offset | null;\n  export let zoom: number;\n  export let scrollHighlights: boolean;\n\n  function x(x: number): number {\n    return (x / position.page_width) * 100;\n  }\n\n  function y(y: number): number {\n    return (y / position.page_height) * 100;\n  }\n\n  async function scrollHighlightsIntoView(...args: any) {\n    await tick();\n    const highlights = document.querySelectorAll(\".page-highlight\");\n    if (highlights.length == 0) return;\n    highlights[0].scrollIntoView({\n      block: \"center\",\n    });\n    scrollHighlights = false;\n  }\n\n  function processChars(chars: PdfChar[]): [PdfChar[], [number, number][]] {\n    // Join words together\n    const processedChars: PdfChar[] = [];\n\n    const isSpace = (char: PdfChar): boolean => {\n      return /\\s/.test(char[0]);\n    };\n\n    const wordIndexMap: [number, number][] = [];\n    let currentWord: PdfChar[] = [];\n    let wordStart: number | null = null;\n    let wordEnd: number | null = null;\n\n    const pushChar = (char: PdfChar, start: number, end: number) => {\n      processedChars.push(char);\n      wordIndexMap.push([start, end]);\n    };\n\n    const buildWord = (char: PdfChar, i: number) => {\n      if (wordStart == null) wordStart = i;\n      wordEnd = i + 1;\n      currentWord.push(char);\n    };\n\n    const getMin = (l: number[]): number => {\n      let min: number;\n      for (const x of l) {\n        if (min == null || x < min) {\n          min = x;\n        }\n      }\n      return min;\n    };\n\n    const getMax = (l: number[]): number => {\n      let max: number;\n      for (const x of l) {\n        if (max == null || x > max) {\n          max = x;\n        }\n      }\n      return max;\n    };\n\n    const pushWord = () => {\n      if (currentWord.length == 0 || wordStart == null || wordEnd == null)\n        return;\n      const word = currentWord.map((x) => x[0]).join(\"\");\n      const x0 = getMin(currentWord.map((x) => x[1].x0));\n      const x1 = getMax(currentWord.map((x) => x[1].x1));\n      const y0 = getMin(currentWord.map((x) => x[1].y0));\n      const y1 = getMax(currentWord.map((x) => x[1].y1));\n      const char: PdfChar = [word, { x0, x1, y0, y1 }];\n      pushChar(char, wordStart, wordEnd);\n      currentWord = [];\n      wordStart = null;\n      wordEnd = null;\n    };\n\n    for (let i = 0; i < chars.length; i++) {\n      const char = chars[i];\n      if (isSpace(char)) {\n        pushWord();\n        pushChar(char, i, i + 1);\n      } else {\n        buildWord(char, i);\n      }\n    }\n    pushWord();\n\n    return [processedChars, wordIndexMap];\n  }\n\n  let chars: PdfChar[] = [];\n  $: words = processChars(copyChars(chars));\n  $: processedChars = layout(\n    position.page_width,\n    position.page_height,\n    words[0]\n  );\n\n  function getHighlightWordIndices(\n    words: [PdfChar[], [number, number][]],\n    start: number,\n    end: number\n  ): number[] {\n    const wordIndices = words[1];\n    const highlights = wordIndices\n      .map<[number, [number, number]]>((x, i) => [i, x])\n      .filter((x) => x[1][0] >= start && x[1][1] <= end)\n      .map((x) => x[0]);\n    return highlights;\n  }\n\n  $: highlightWordIndices =\n    selectedOffset == null\n      ? []\n      : getHighlightWordIndices(\n          words,\n          selectedOffset[0] - position.char_index,\n          selectedOffset[1] - position.char_index\n        );\n\n  $: scrollHighlights && scrollHighlightsIntoView(highlightWordIndices);\n  let containerElem: HTMLElement;\n\n  const baseFontSize = 16;\n  let mWidth = 10;\n  let mHeight = 24;\n\n  onMount(async () => {\n    // Measure a monospace 'm'\n    const m = document.createElement(\"span\");\n    m.textContent = \"m\";\n    m.style.position = \"absolute\";\n    m.style.visibility = \"hidden\";\n    m.style.whiteSpace = \"pre\";\n    m.style.fontFamily = \"monospace\";\n    m.style.fontSize = `${baseFontSize}px`;\n    containerElem.appendChild(m);\n    const mBounds = m.getBoundingClientRect();\n    mWidth = mBounds.width;\n    mHeight = mBounds.height;\n    containerElem.removeChild(m);\n\n    const response = await fetch(\n      `/api/pdfchars?filename=${encodeURIComponent(\n        file.filename\n      )}&page=${pageNumber}`\n    );\n    const json = await response.json();\n    chars = json.map((x) => [\n      x[0],\n      {\n        x0: x[1][0],\n        y0: x[1][1],\n        x1: x[1][2],\n        y1: x[1][3],\n      },\n    ]);\n  });\n</script>\n\n<div class=\"absolute left-0 top-0 right-0 bottom-0\" bind:this={containerElem}>\n  {#each processedChars as char, i}\n    <div\n      class=\"absolute content-box text-transparent\"\n      style=\"left: {(char[1].x0 - (char[1].lpad || 0)) *\n        zoom}px; top: {(position.page_height -\n        char[1].y1 -\n        (char[1].bpad || 0)) *\n        zoom}px; width: {(char[1].x1 -\n        char[1].x0 +\n        (char[1].lpad || 0) +\n        (char[1].rpad || 0)) *\n        zoom}px; height: {(char[1].y1 -\n        char[1].y0 +\n        (char[1].bpad || 0) +\n        (char[1].tpad || 0)) *\n        zoom}px;\n        padding-left: {(char[1].lpad || 0) * zoom}px;\n        padding-right: {(char[1].rpad || 0) * zoom}px;\n        padding-bottom: {(char[1].tpad || 0) * zoom}px;\n        padding-top: {(char[1].bpad || 0) * zoom}px;\"\n    >\n      <span\n        class=\"inline-block whitespace-pre origin-top-left select-all\"\n        class:page-highlight={highlightWordIndices.includes(i)}\n        style=\"font-family: monospace; font-size: {baseFontSize}px; transform: scale({((char[1]\n          .x1 -\n          char[1].x0) /\n          mWidth /\n          char[0].length) *\n          zoom}, {((char[1].y1 - char[1].y0) / mHeight) * zoom});\"\n        >{char[0]}</span\n      >\n    </div>\n  {/each}\n</div>\n\n<style>\n  .page-highlight {\n    background-color: rgb(255 255 0 / 72%);\n    mix-blend-mode: darken;\n  }\n</style>\n","<script lang=\"ts\">\n  import { createEventDispatcher } from \"svelte\";\n  import { inview, type Options } from \"svelte-inview\";\n  import type { File, Offset, PdfPosition } from \"../types\";\n  import PdfPageImage from \"./PdfPageImage.svelte\";\n  import PdfChars from \"./PdfChars.svelte\";\n  const dispatch = createEventDispatcher();\n\n  const options: Options = {\n    rootMargin: \"50px\",\n  };\n\n  export let file: File;\n  export let position: PdfPosition;\n  export let pageNumber: number;\n  export let selectedOffset: Offset | null;\n  export let zoom: number;\n  export let scrollHighlights: boolean;\n  const marginPx = 16;\n  let isInView = false;\n  let isInViewForEnoughTime = false;\n\n  $: {\n    if (isInView) {\n      setTimeout(() => {\n        isInViewForEnoughTime = true;\n      }, 100);\n    } else {\n      isInViewForEnoughTime = false;\n    }\n  }\n</script>\n\n<div\n  use:inview={options}\n  on:inview_change={(e) => {\n    isInView = e.detail.inView;\n    dispatch(\"inview\", {\n      isInView,\n      pageNumber,\n    });\n  }}\n  class=\"bg-white bg-contain relative\"\n  style=\"width: {position.page_width * zoom}px; height: {position.page_height *\n    zoom}px; margin: {marginPx * zoom}px auto {marginPx * zoom}px auto\"\n>\n  {#if isInView && isInViewForEnoughTime}\n    <PdfPageImage {file} {pageNumber} scales={[0.25, 2]} />\n    <PdfChars\n      {file}\n      {position}\n      {pageNumber}\n      {selectedOffset}\n      {zoom}\n      bind:scrollHighlights\n    />\n  {/if}\n</div>\n","<script lang=\"ts\">\n  import { tick } from \"svelte\";\n  import type { File, Offset, PdfPosition } from \"../types\";\n  import PdfPage from \"./PdfPage.svelte\";\n\n  export let positions: PdfPosition[];\n  export let file: File;\n\n  let currentPage = 1;\n  $: numPages = positions.length;\n\n  let pageContainer: HTMLDivElement;\n\n  let zoom = 1;\n  const MAX_ZOOM = 4;\n  const MIN_ZOOM = 0.4;\n\n  let selectedOffset: Offset | null = null;\n\n  let pagesInView: { [page: number]: boolean } = {};\n\n  $: sortedPages = Object.entries(pagesInView)\n    .filter(([_, isInView]) => isInView)\n    .sort(([a, _], [b, __]) => parseInt(a) - parseInt(b));\n  $: pageObjects = sortedPages.map<[number, Element]>(([page, _]) => [\n    parseInt(page),\n    pageContainer.children[parseInt(page)],\n  ]);\n\n  $: pageObjects.length > 0 && updateCurrentPage();\n\n  async function adjustZoom(newZoom: number) {\n    if (newZoom > MAX_ZOOM || newZoom < MIN_ZOOM) {\n      return;\n    }\n    const oldZoom = zoom;\n    let scrollTop = pageContainer.scrollTop;\n    zoom = newZoom;\n    await tick();\n    pageContainer.scrollTop = scrollTop * (newZoom / oldZoom);\n  }\n\n  function getPageNumber(offset: number): [number, number] {\n    let page = 0;\n    for (; page < positions.length; page++) {\n      const positionOffset = positions[page].char_index;\n      if (offset < positionOffset) {\n        return [page - 1, offset - positions[page - 1].char_index];\n      }\n    }\n    return [page - 1, offset - positions[page - 1].char_index];\n  }\n\n  // When true, highlights will scroll into view\n  let scrollHighlights = false;\n\n  export function navigate(start: number, end: number) {\n    selectedOffset = [start, end];\n\n    // Jump to selection\n    const [pageNumber, _] = getPageNumber(start);\n    pageContainer.children[pageNumber].scrollIntoView();\n    scrollHighlights = true;\n  }\n\n  function updatePageNumber({\n    isInView,\n    pageNumber,\n  }: {\n    isInView: boolean;\n    pageNumber: number;\n  }) {\n    pagesInView[pageNumber] = isInView;\n    pagesInView = { ...pagesInView };\n  }\n\n  function updateCurrentPage() {\n    const windowHeight = window.innerHeight;\n    for (const [pageNumber, page] of pageObjects) {\n      if (page == null) {\n        continue;\n      }\n      const rect = page.getBoundingClientRect();\n      if (rect.bottom >= windowHeight / 2) {\n        currentPage = pageNumber + 1;\n        return;\n      }\n    }\n    if (pageObjects.length > 0) {\n      currentPage = pageObjects[0][0] + 1;\n    }\n  }\n\n  function jumpToCurrentPage() {\n    const elem = pageContainer.children[currentPage - 1];\n    if (elem != null) {\n      elem.scrollIntoView();\n    }\n  }\n</script>\n\n<div class=\"relative flex-1\">\n  <div class=\"absolute left-0 top-0 right-0 bottom-0\">\n    <div\n      bind:this={pageContainer}\n      class=\"absolute left-0 top-0 right-0 bottom-0 bg-gray-400 w-full h-full overflow-auto\"\n      on:scroll={updateCurrentPage}\n    >\n      {#each positions as position, pageNumber}\n        <PdfPage\n          {file}\n          {pageNumber}\n          {position}\n          {selectedOffset}\n          {zoom}\n          bind:scrollHighlights\n          on:inview={(e) => updatePageNumber(e.detail)}\n        />\n      {/each}\n    </div>\n    {#if numPages > 0}\n      <div class=\"absolute left-2 bottom-2\">\n        <div class=\"text-left\">\n          <div\n            class=\"bg-slate-100 border-2 border-black text-center font-mono font-bold text-2xl inline-block\"\n          >\n            <button\n              class=\"w-8 h-8 align-middle\"\n              on:click={() => adjustZoom(zoom + 0.1)}>+</button\n            ><br />\n            <button\n              class=\"w-8 h-8 align-middle\"\n              on:click={() => adjustZoom(zoom - 0.1)}>-</button\n            >\n          </div>\n        </div>\n        <div\n          class=\"bg-slate-100 border-2 border-black font-mono font-bold text-sm mt-2 p-2\"\n        >\n          <input\n            class=\"border border-gray-300 mr-1 pl-1\"\n            style=\"width: 7ch;\"\n            type=\"number\"\n            size=\"4\"\n            min=\"1\"\n            max={numPages}\n            bind:value={currentPage}\n            on:input={jumpToCurrentPage}\n          />/{numPages}\n        </div>\n      </div>\n    {/if}\n  </div>\n</div>\n","<script lang=\"ts\">\r\n  import type { File } from \"../types\";\r\n\r\n  export let files: File[];\r\n  export let index: number;\r\n  export let disabled: boolean;\r\n  export let onDelete: (filename: string) => void = () => {}; // Default no-op function\r\n</script>\r\n\r\n<div class=\"flex flex-row border-b-4 border-black relative h-10\">\r\n  <div\r\n    class=\"absolute left-0 top-0 right-0 bottom-0 overflow-x-auto thin-scroll\"\r\n  >\r\n    <div class=\"inline-flex flex-nowrap flex-row items-center h-full pl-2\">\r\n      {#each files as file, i}\r\n        <div class=\"flex items-center mr-2\">\r\n          <button\r\n            {disabled}\r\n            class:active-tab={i === index}\r\n            class=\"text-xs rounded-l py-1 px-2 border border-transparent border-r-0\"\r\n            on:click={() => (index = i)}\r\n          >\r\n            {file.basename}\r\n          </button>\r\n          <button\r\n            class=\"text-xs rounded-r py-1 px-1 border border-transparent bg-red-100 hover:bg-red-200 text-red-700\"\r\n            class:active-tab-delete={i === index}\r\n            title=\"Delete this file\"\r\n            on:click|stopPropagation={() => onDelete(file.filename)}\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n      {/each}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .thin-scroll {\r\n    scrollbar-width: thin;\r\n  }\r\n\r\n  .active-tab {\r\n    @apply bg-white border-black;\r\n  }\r\n\r\n  .active-tab-delete {\r\n    @apply border-black bg-red-200;\r\n  }\r\n</style>\r\n","<script lang=\"ts\">\r\n  import { onMount, tick } from \"svelte\";\r\n  import SearchResults from \"./components/SearchResults.svelte\";\r\n  import TextView from \"./components/TextView.svelte\";\r\n  import Tailwindcss from \"./Tailwind.svelte\";\r\n  import SearchBar from \"./components/SearchBar.svelte\";\r\n  import {\r\n    type File,\r\n    type Navigation,\r\n    type PdfPosition,\r\n    type SearchResultSet,\r\n    type Preference,\r\n    preferenceKey,\r\n    type ParsedQuery,\r\n  } from \"./types\";\r\n  import PdfView from \"./components/PdfView.svelte\";\r\n  import TabBar from \"./components/TabBar.svelte\";\r\n\r\n  // base URL for the Semantra API\r\n  const API_BASE_URL = \"\"; // Default semantra port is usually 5000\r\n\r\n  let files: File[] = [];\r\n  let activeFileIndex = 0;\r\n  let tokens: string[] = [];\r\n  let text: string | null = null;\r\n  let pdfPositions: PdfPosition[] = [];\r\n  let updating = false;\r\n  let unsearched = true;\r\n  let searchResultsElem: SearchResults;\r\n  let currentSearchTerm = \"\";\r\n  let uploading = false;\r\n  let uploadError: string | null = null;\r\n\r\n  let preferences: { [key: string]: Preference } = {};\r\n  $: activeFile =\r\n    activeFileIndex < files.length ? files[activeFileIndex] : null;\r\n  $: filesByPath = Object.fromEntries(\r\n    files.map((file) => [file.filename, file]),\r\n  );\r\n  $: fileIndicesByPath = Object.fromEntries(\r\n    files.map((file, index) => [file.filename, index]),\r\n  );\r\n\r\n  $: updateFile(activeFile);\r\n\r\n  async function updateFile(file: File | null) {\r\n    // Reset everything\r\n    tokens = [];\r\n    text = null;\r\n    pdfPositions = [];\r\n\r\n    if (file == null) return;\r\n\r\n    updating = true;\r\n    uploadError = null;\r\n\r\n    try {\r\n      // Get text\r\n      const textResponse = await fetch(\r\n        `${API_BASE_URL}/api/text?filename=${encodeURIComponent(file.filename)}`,\r\n      );\r\n\r\n      if (!textResponse.ok) {\r\n        throw new Error(`Failed to load text: ${textResponse.statusText}`);\r\n      }\r\n\r\n      tokens = await textResponse.json();\r\n      text = tokens.join(\"\");\r\n\r\n      if (file.filetype === \"pdf\") {\r\n        const pdfResponse = await fetch(\r\n          `${API_BASE_URL}/api/pdfpositions?filename=${encodeURIComponent(file.filename)}`,\r\n        );\r\n\r\n        if (!pdfResponse.ok) {\r\n          throw new Error(\r\n            `Failed to load PDF positions: ${pdfResponse.statusText}`,\r\n          );\r\n        }\r\n\r\n        pdfPositions = await pdfResponse.json();\r\n      }\r\n\r\n      await tick();\r\n      navigate();\r\n    } catch (error) {\r\n      console.error(\"Error loading file:\", error);\r\n      uploadError = `Error loading file: ${error instanceof Error ? error.message : \"Unknown error\"}`;\r\n    } finally {\r\n      updating = false;\r\n    }\r\n  }\r\n\r\n  let searchResultSet: SearchResultSet = {\r\n    results: [],\r\n    sort: \"asc\",\r\n  };\r\n\r\n  let textView: TextView;\r\n  let pdfView: PdfView;\r\n  let searchBar: SearchBar;\r\n\r\n  export function parseQuery(query: string): ParsedQuery[] {\r\n    // Parse the query\r\n    // e.g. \"dog + cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: 1}]\r\n    // e.g. \"dog - cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: -1}]\r\n    // e.g. \"dog is cool - cat\" => [{query: \"dog is cool\", weight: 1}, {query: \"cat\", weight: -1}]\r\n    // e.g. \"dog +1.2 cat\" => [{query: \"dog\", weight: 1}, {query: \"cat\", weight: 1.2}]\r\n    // e.g. \"+3 dogs are nice -2 cats are mean\" => [{query: \"dogs are nice\", weight: 3}, {query: \"cats are mean\", weight: 2}]\r\n    // Parse the query\r\n    const regex = /([\\+\\-]?\\d*\\.?\\d*\\s*)?([^\\+\\-]+)/g;\r\n    const parsedQueries: ParsedQuery[] = [];\r\n\r\n    let match;\r\n    while ((match = regex.exec(query)) !== null) {\r\n      const weight =\r\n        parseFloat(match[1]) || (match[1] && match[1].includes(\"-\") ? -1 : 1);\r\n      const searchTerm = match[2].trim();\r\n      parsedQueries.push({ query: searchTerm, weight });\r\n    }\r\n\r\n    return parsedQueries;\r\n  }\r\n\r\n  function scrollSearchResultsToTop() {\r\n    if (searchResultsElem) searchResultsElem.scrollToTop();\r\n  }\r\n\r\n  async function handleSearch(query: string) {\r\n    currentSearchTerm = query;\r\n    const preferenceValues = Object.values(preferences)\r\n      .filter((preference) => preference.weight !== 0)\r\n      .map((x) => ({ ...x }));\r\n\r\n    // Ignore empty queries\r\n    if (query.trim() === \"\" && preferenceValues.length === 0) {\r\n      searchResultSet = {\r\n        results: [],\r\n        sort: \"asc\",\r\n      };\r\n      scrollSearchResultsToTop();\r\n      return;\r\n    }\r\n    const parsedQueries = parseQuery(query);\r\n\r\n    // Adjust weights so that all positive weights are split evenly\r\n    // and all negative weights are split evenly, and the sum of all\r\n    // weights is 1\r\n    const POSITIVE_RATIO = 0.61803398875;\r\n    const NEGATIVE_RATIO = 1 - POSITIVE_RATIO;\r\n\r\n    const totalPositiveCount =\r\n      parsedQueries.filter((query) => query.weight > 0).length +\r\n        preferenceValues.filter((preference) => preference.weight > 0).length ||\r\n      1;\r\n    const totalNegativeCount =\r\n      parsedQueries.filter((query) => query.weight < 0).length +\r\n        preferenceValues.filter((preference) => preference.weight < 0).length ||\r\n      1;\r\n    for (const query of parsedQueries) {\r\n      if (query.weight > 0) {\r\n        query.weight *= POSITIVE_RATIO / totalPositiveCount;\r\n      } else if (query.weight < 0) {\r\n        query.weight *= NEGATIVE_RATIO / totalNegativeCount;\r\n      }\r\n    }\r\n    for (const preference of preferenceValues) {\r\n      if (preference.weight > 0) {\r\n        preference.weight *= POSITIVE_RATIO / totalPositiveCount;\r\n      } else if (preference.weight < 0) {\r\n        preference.weight *= NEGATIVE_RATIO / totalNegativeCount;\r\n      }\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/query`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          queries: parsedQueries,\r\n          preferences: preferenceValues,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Search failed: ${response.statusText}`);\r\n      }\r\n\r\n      searchResultSet = await response.json();\r\n      sidebarExpanded = true;\r\n      scrollSearchResultsToTop();\r\n      unsearched = false;\r\n    } catch (error) {\r\n      console.error(\"Search error:\", error);\r\n      uploadError = `Search failed: ${error.message}`;\r\n    }\r\n  }\r\n\r\n  onMount(async () => {\r\n    try {\r\n      const filesResponse = await fetch(`${API_BASE_URL}/api/files`);\r\n      if (filesResponse.ok) {\r\n        files = await filesResponse.json();\r\n      } else {\r\n        console.error(\"Error fetching files:\", filesResponse.statusText);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error connecting to server:\", error);\r\n    }\r\n  });\r\n\r\n  $: tokenOffsets = tokens.reduce(\r\n    (acc, token) => {\r\n      const lastOffset = acc[acc.length - 1];\r\n      acc.push(lastOffset + token.length);\r\n      return acc;\r\n    },\r\n    [0],\r\n  );\r\n\r\n  let pendingNavigation: Navigation | null = null;\r\n\r\n  async function navigate() {\r\n    if (pendingNavigation == null) return;\r\n    //sidebarExpanded = false;\r\n    if (textView) {\r\n      textView.navigate(\r\n        tokenOffsets[pendingNavigation.searchResult.offset[0]],\r\n        tokenOffsets[pendingNavigation.searchResult.offset[1]],\r\n      );\r\n    } else if (pdfView) {\r\n      pdfView.navigate(\r\n        tokenOffsets[pendingNavigation.searchResult.offset[0]],\r\n        tokenOffsets[pendingNavigation.searchResult.offset[1]],\r\n      );\r\n    }\r\n    pendingNavigation = null;\r\n\r\n    await tick();\r\n    // Scroll active tab into view\r\n    const activeTab = document.querySelector(\".active-tab\");\r\n    if (activeTab) {\r\n      activeTab.scrollIntoView({\r\n        inline: \"center\",\r\n      });\r\n    }\r\n  }\r\n\r\n  async function jumpToResult(result: Navigation) {\r\n    pendingNavigation = result;\r\n    const newFileIndex = fileIndicesByPath[result.file.filename];\r\n    if (newFileIndex !== activeFileIndex) {\r\n      activeFileIndex = newFileIndex;\r\n    } else {\r\n      navigate();\r\n    }\r\n  }\r\n\r\n  function setPreference(preference: Preference) {\r\n    preferences[preferenceKey(preference.file, preference.searchResult)] =\r\n      preference;\r\n    if (searchBar != null) searchBar.scrollToBottomOfPreferences();\r\n  }\r\n\r\n  async function handleFileUpload(event) {\r\n    const selectedFiles = Array.from(event.target.files as FileList);\r\n    if (selectedFiles.length === 0) {\r\n      uploadError = \"Please select at least one file\";\r\n      return;\r\n    }\r\n\r\n    uploading = true;\r\n    uploadError = null;\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      selectedFiles.forEach((file) => {\r\n        formData.append(\"files\", file);\r\n      });\r\n\r\n      console.log(\r\n        `Uploading ${selectedFiles.length} files to ${API_BASE_URL}/api/upload`,\r\n      );\r\n\r\n      const response = await fetch(`${API_BASE_URL}/api/upload`, {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(\r\n          `Upload failed (${response.status}): ${errorText || response.statusText}`,\r\n        );\r\n      }\r\n\r\n      // Refresh the file list\r\n      const filesResponse = await fetch(`${API_BASE_URL}/api/files`);\r\n      if (filesResponse.ok) {\r\n        files = await filesResponse.json();\r\n      } else {\r\n        console.error(\"Failed to refresh file list:\", filesResponse.statusText);\r\n      }\r\n\r\n      // Reset file input\r\n      event.target.value = \"\";\r\n    } catch (error) {\r\n      console.error(\"Upload error:\", error);\r\n      uploadError = error.message;\r\n    } finally {\r\n      uploading = false;\r\n    }\r\n  }\r\n\r\n  async function deleteDocument(filename) {\r\n    if (!confirm(`Are you sure you want to delete ${filename}?`)) {\r\n      return;\r\n    }\r\n\r\n    uploadError = null;\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/api/delete`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ filename }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Delete failed: ${errorText || response.statusText}`);\r\n      }\r\n\r\n      // Update the files list by removing the deleted file\r\n      files = files.filter((file) => file.filename !== filename);\r\n\r\n      // Also update the search results to remove references to the deleted file\r\n      searchResultSet = {\r\n        ...searchResultSet,\r\n        results: searchResultSet.results.filter(\r\n          ([resultFilename]) => resultFilename !== filename,\r\n        ),\r\n      };\r\n\r\n      // Clear preferences related to the deleted file\r\n      for (const key in preferences) {\r\n        if (preferences[key].file.filename === filename) {\r\n          delete preferences[key];\r\n        }\r\n      }\r\n\r\n      // If the deleted file was the active file, select another one if available\r\n      if (activeFileIndex >= files.length && files.length > 0) {\r\n        activeFileIndex = files.length - 1;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting document:\", error);\r\n      uploadError = `Failed to delete document: ${error.message}`;\r\n    }\r\n  }\r\n\r\n  let sidebarExpanded = true;\r\n</script>\r\n\r\n<Tailwindcss />\r\n\r\n<main class=\"flex flex-col h-full bg-slate-100\">\r\n  <header\r\n    class=\"flex flex-row border-b-4 border-black py-4 px-8 max-lg:px-4 items-start\"\r\n  >\r\n    <h1 class=\"text-3xl font-mono font-bold inline-flex pr-6 mt-1\">Semantra</h1>\r\n    <div class=\"flex-1 flex items-center\">\r\n      <SearchBar\r\n        bind:this={searchBar}\r\n        {preferences}\r\n        on:setPreference={(e) => setPreference(e.detail)}\r\n        on:search={(e) => handleSearch(e.detail)}\r\n      />\r\n    </div>\r\n    <div class=\"flex items-center ml-4\">\r\n      <div class=\"relative\">\r\n        <input\r\n          type=\"file\"\r\n          id=\"file-upload\"\r\n          multiple\r\n          accept=\".pdf,.txt\"\r\n          on:change={handleFileUpload}\r\n          disabled={uploading}\r\n          class=\"absolute inset-0 opacity-0 w-full h-full cursor-pointer\"\r\n        />\r\n        <button\r\n          class=\"bg-gray-400 hover:bg-gray-500 text-white font-medium py-2 px-4 rounded flex items-center\"\r\n          class:opacity-50={uploading}\r\n          class:pointer-events-none={uploading}\r\n        >\r\n          {#if uploading}\r\n            <svg\r\n              class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <circle\r\n                class=\"opacity-25\"\r\n                cx=\"12\"\r\n                cy=\"12\"\r\n                r=\"10\"\r\n                stroke=\"currentColor\"\r\n                stroke-width=\"4\"\r\n              ></circle>\r\n              <path\r\n                class=\"opacity-75\"\r\n                fill=\"currentColor\"\r\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n              ></path>\r\n            </svg>\r\n            Uploading...\r\n          {:else}\r\n            Upload Files\r\n          {/if}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </header>\r\n\r\n  {#if uploadError}\r\n    <div\r\n      class=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 m-2\"\r\n      role=\"alert\"\r\n    >\r\n      <p class=\"font-bold\">Error</p>\r\n      <p>{uploadError}</p>\r\n    </div>\r\n  {/if}\r\n\r\n  <article class=\"flex flex-1 flex-row relative items-stretch\">\r\n    <SearchResults\r\n      bind:sidebarExpanded\r\n      bind:this={searchResultsElem}\r\n      {unsearched}\r\n      {preferences}\r\n      on:setPreference={(e) => setPreference(e.detail)}\r\n      on:navigate={(e) => jumpToResult(e.detail)}\r\n      {activeFile}\r\n      {filesByPath}\r\n      {searchResultSet}\r\n    />\r\n    <div class=\"flex flex-col flex-1\">\r\n      {#if activeFile != null}\r\n        <TabBar\r\n          disabled={updating}\r\n          bind:index={activeFileIndex}\r\n          {files}\r\n          onDelete={(filename) => deleteDocument(filename)}\r\n        />\r\n        {#if activeFile.filetype === \"text\"}\r\n          <TextView\r\n            bind:this={textView}\r\n            text={text == null ? \"Loading...\" : text}\r\n          />\r\n        {:else if activeFile.filetype === \"pdf\"}\r\n          <PdfView\r\n            bind:this={pdfView}\r\n            file={activeFile}\r\n            positions={pdfPositions}\r\n          />\r\n        {/if}\r\n      {:else if files.length === 0}\r\n        <div class=\"flex flex-col items-center justify-center h-full\">\r\n          <p class=\"text-xl font-semibold mb-4\">\r\n            No files available for search\r\n          </p>\r\n          <p class=\"text-gray-600 mb-6\">\r\n            Upload files using the button in the top right\r\n          </p>\r\n        </div>\r\n      {:else}\r\n        <div class=\"text-gray-600 ml-2 mt-2 text-sm\">Loading...</div>\r\n      {/if}\r\n    </div>\r\n  </article>\r\n  <footer class=\"bg-black text-white py-1 px-4 text-sm\">\r\n    <a\r\n      class=\"underline mr-4\"\r\n      href=\"https://github.com/freedmand/semantra/blob/main/docs/help.md\"\r\n      target=\"_blank\">Help</a\r\n    >\r\n    <a\r\n      class=\"underline mr-4\"\r\n      href=\"https://github.com/freedmand/semantra/blob/main/docs/tutorial.md\"\r\n      target=\"_blank\">Tutorial</a\r\n    >\r\n    <a\r\n      class=\"underline\"\r\n      href=\"https://github.com/freedmand/semantra\"\r\n      target=\"_blank\">Source code</a\r\n    >\r\n  </footer>\r\n</main>\r\n\r\n<style>\r\n  :global(html, body) {\r\n    @apply h-full;\r\n  }\r\n</style>\r\n",null],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","current_component","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","set_input_value","input","set_style","key","important","style","removeProperty","setProperty","toggle_class","toggle","classList","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","type","detail","cancelable","bubbles","e","createEvent","initCustomEvent","custom_event","slice","defaultPrevented","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","add_flush_callback","seen_callbacks","Set","flushidx","saved_component","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","bind","index","props","undefined","bound","create_component","mount_component","customElement","m","new_on_destroy","map","filter","on_destroy","destroy_component","filtered","targets","indexOf","flush_render_callbacks","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","Map","skip_bound","root","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","preferenceKey","file","searchResult","JSON","stringify","filename","defaultOptions","rootMargin","threshold","unobserveOnEnter","CustomEvent","inview","assign","prevPos","x","y","scrollDirection","vertical","horizontal","IntersectionObserver","observer","entries","_observer","singleEntry","boundingClientRect","inView","isIntersecting","entry","dispatchEvent","unobserve","observe","subscriber_queue","explainDictionary","start","stop","subscribers","set","new_value","run_queue","subscriber","invalidate","size","writable","explanationQueue","explaining","async","explain","body","existingResponse","get","request","fetch","method","headers","highlights","json","dict","span","t_value","t","create_if_block_1","create_if_block","isInView","inViewTimeout","params","offset","queries","preferences","$$invalidate","$explainDictionary","setTimeout","find","k","requestExplanation","clearTimeout","$$value","setInterval","sortedQueue","sort","e1","e2","rect1B","getBoundingClientRect","bottom","rect2B","shift","distance","toFixed","t0_value","basename","t2_value","div","t0","t2","searchresulttext_changes","previous_key","weight","li","button0","button1","showFilename","dispatch","jumpToResult","setPreference","prefKey","preference","constants_0","child_ctx","create_if_block_8","button","each_blocks","ul","details","summary","show_if","filterFilename","create_if_block_7","create_if_block_6","create_if_block_5","create_if_block_4","button2","disabled","button2_disabled_value","div0","div9","div6","div1","div3","div2","div5","button3","div4","button4","div8","div7","current","filenameFilter","toLowerCase","includes","getScore","searchResults","total","searchResultSet","filesByPath","activeFile","unsearched","sidebarExpanded","exportJSON","sanitizedResults","results","result","q","query","exportData","searchTerms","getSearchTerms","blob","Blob","link","URL","createObjectURL","download","generateFileName","click","revokeObjectURL","exportCSV","rows","join","scoredSearchResultSet","_a","_c","toString","trim","replace","_f","_e","_d","_j","_h","_g","_k","csv","row","cell","String","searchContainer","filterViewed","excerptView","detailReverse","filenameDetailClosed","handleToggle","open","showExportMenu","flatMap","extension","Date","toISOString","split","sortedSearchResults","flat","scrollTop","global","window","define","module","deps","payload","arguments","modules","payloads","original","apply","console","error","trace","ns","_require","parentId","lookup","prototype","dep","require","packagedModule","normalizeModule","moduleName","chunks","charAt","previous","exports","mod","id","uri","packaged","ace","defineProp","val","defineProperty","enumerable","configurable","startsWith","searchString","position","lastIndexOf","endsWith","subjectString","lastIndex","repeat","count","string","str","TypeError","output","source","values","predicate","len","thisArg","kValue","findIndex","item","O","relativeStart","Math","max","min","end","relativeEnd","final","of","last","stringReverse","reverse","stringRepeat","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","isArray","arrayToMap","arr","createMap","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","matches","deferredCall","fcn","timer","deferred","timeout","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","delay","inherits","ctor","superCtor","super_","constructor","mixin","implement","proto","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","MSStream","isMobile","strictCSP","useragent","buildDom","parent","refs","txt","els","ch","el","childIndex","n","className","cssText","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","removeChildren","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","toggleCssClass","setCssClass","include","hasCssString","sheets","querySelectorAll","removeElementById","getElementById","remove","cssCache","insertPendingStyles","cache","importCssString","container","getRootNode","firstChild","useStrictCSP","importCssStylsheet","rel","scrollbarWidth","inner","width","minWidth","height","display","outer","left","overflow","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","transform","animationName","translate","tx","ty","round","top","dom","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","send","loadScript","path","s","src","onload","isAbort","qualifyURL","EventEmitter","propagationStopped","preventDefault","_emit","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","_signal","once","on","newCallback","off","setDefaultHandler","handlers","_disabled_","old","removeDefaultHandler","capturing","removeListener","removeAllListeners","oop","optionsProvider","setOptions","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","isDark","cssClass","$id","lang","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","hasOwnProperty","all","$modes","moduleUrl","parts","sep","base","re","RegExp","setModuleUrl","subst","loader","cb","setLoader","dynamicModules","$loading","loadModule","onLoad","moduleType","load","afterLoad","err","reportErrorIfPathIsNotConfigured","default","setModuleLoader","version","config","scriptOptions","scriptUrl","currentScript","_currentScript","currentDocument","scripts","script","attributes","j","m1","toUpperCase","Keys","MODIFIER_KEYS","KEY_MODS","ctrl","alt","option","super","meta","command","cmd","control","FUNCTION_KEYS","PRINTABLE_KEYS","parseInt","enter","escape","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","passive","detectListenerOptionsSupport","EventListener","elem","addListener","destroyer","$toDestroy","stopEvent","getButton","ctrlKey","altKey","shiftKey","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","deltaX","deltaY","deltaMode","DOM_DELTA_PIXEL","wheelX","wheelY","DOM_DELTA_LINE","DOM_DELTA_PAGE","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","onMousedown","isNewClick","abs","clientX","clientY","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","$idleBlockId","blockIdle","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","column","isEqual","range","contains","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","$cancelT","lineMode","pasteCancelled","now","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","MAX_LINE_LENGTH","KEYS","MODS","valueResetRegex","TextInput","host","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","setAriaOptions","activeDescendant","inline","role","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","ancestors","parentElement","nodeType","blur","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","right","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","editor","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","ev","inSelection","pos","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","focusWait","ax","ay","bx","by","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","CLASSNAME","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","annotationClassName","showTooltip","$gutter","MouseEvent","$inSelection","selectionRange","DragdropHandler","dragImage","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","mode","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","selected","hasUndo","action","getUndoManager","replaceChild","class","readText","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","L","R","EN","AN","ON","B","S","AL","WS","CS","ES","ET","NSM","LRE","RLE","PDF","LRO","RLO","BN","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","charCodeAt","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","setAnchor","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","unicode","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","pairQuotesAfter","$pairQuotesAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","code","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","floor","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","autoOutdent","createWorker","createModeDelegates","delegations","scope","functionName","$delegator","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","setValue","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","cleanup","SearchHighlight","clazz","setRegexp","MAX_RANGES","markerLayer","renderedMarkerRanges","rangeToAddMarkerTo","rangeAsString","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","idx","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","outermostFolds","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","bracketsRegExp","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","getMatchingTags","$findTagName","$findClosingTag","$findOpeningTag","found","backward","prevToken","currentTag","openTagStart","openTagName","foundOpenTagEnd","openTagEnd","closeTagStart","closeTagName","closeTagEnd","openTag","closeTag","stepCount","tmpToken","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","bgTokenizer","onChangeFold","setMode","destroyed","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","description","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","openLink","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","updateFull","changedWidgets","fixedWidth","ceil","coverLine","gutterWidth","fullWidth","padding","scrollBar","__values","Symbol","done","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","$getDirectionForHighlight","tagNamesRanges","getMatching","markerType","getHighlightIndentGuides","$textLayer","$highlightIndentGuide","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setHighlightIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","setGhostText","removeGhostText","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","res","findLinkAt","e_1","columnPosition","previousPosition","currentPosition","wordParts_1","wordParts_1_1","e_1_1","return","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","tokenCount","matchType","bracketType","brackets","tagsRanges","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","customScrollbar","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","highlightIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","$undoDepth","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","undoStackLength","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","$padding","$computePadding","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$highlightIndentGuides","$tabStrings","tabStr","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$highlightIndentGuideMarker","indentLevel","initialIndent","elementIndentLevel","currentIndent","$renderHighlightIndentGuide","$clearActiveIndentGuide","$setIndentGuideActive","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$isAnimating","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","$isSmoothBlinking","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","MAX_SCROLL_H","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","VScrollWidth","HScrollHeight","eType","mousePageY","startTop","thumbTop","scrollTopFromThumbTop","thumbHeight","pageHeight","viewHeight","slideHeight","scrollWidth","mousePageX","startLeft","thumbLeft","scrollLeftFromThumbLeft","thumbWidth","pageWidth","viewWidth","slideWidth","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","CHAR_COUNT","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","solve","l1","l2","det","sub","mul","m2","ut","u","f","Decorator","canvas","pixelRatio","heightRatio","canvasWidth","minDecorationHeight","halfMinDecorationHeight","colors","dark","warning","info","light","$updateDecorators","getContext","clearRect","priorities","priority","compensateFold","compensateFoldRows","currentY","y1","y2","yCenter","fillStyle","fillRect","GutterLayer","MarkerLayer","TextLayer","CursorLayer","HScrollBarCustom","VScrollBarCustom","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$markerFront","$horizScroll","$vScroll","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","$updateCachedSize","$customScrollbar","$updateCustomScrollbar","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$scrollDecorator","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","newLeft","newTop","topMargin","bottomMargin","$stopAnimation","currentTop","currentLeft","twoCharsWidth","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","endAnimation","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","insertPosition","textLines","$ghostText","$ghostTextWidget","newToken","$themeId","$theme","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","webkitURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","emit","ex","attachToDocument","UIWorkerClient","main","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","env","tagName","oldNode","createEditSession","editorElement","Ace","startPos","endPos","t1","t1_value","getSearchKey","_reactiveArgs","preferenceValues","preferenceContainer","lastSearchKey","searchKey","searchOutdated","img","img_src_value","img_alt_value","pageNumber","scales","scaleIndex","scale","encodeURIComponent","exp","_maxEntries","_minEntries","minX","minY","maxX","maxY","leaf","_all","toBBox","collides","_build","_splitRoot","_insert","_condense","compareMinX","compareMinY","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","M","_allDistMargin","getAccessor","accessWithPad","getPad","char","switchDirection","reverseAccessor","accessor","most","seek","x0","lpad","x1","rpad","y0","tpad","bpad","consolidateHeight","c2","project","tree","projectAll","layout","RBush","createTree","baseFontSize","page_height","selectedOffset","scrollHighlights","containerElem","mWidth","mHeight","mBounds","response","processedChars","isSpace","wordIndexMap","currentWord","wordStart","wordEnd","pushChar","buildWord","getMin","getMax","pushWord","processChars","copyChars","page_width","highlightWordIndices","getHighlightWordIndices","char_index","scrollHighlightsIntoView","if_block","marginPx","isInViewForEnoughTime","br","pageContainer","positions","currentPage","pagesInView","adjustZoom","newZoom","oldZoom","updatePageNumber","updateCurrentPage","page","pageObjects","numPages","sortedPages","__","getPageNumber","files","onDelete","svg","circle","p0","filetype","textview_changes","header","h1","article","footer","parseQuery","parsedQueries","searchTerm","searchResultsElem","activeFileIndex","pdfPositions","updating","uploading","uploadError","textView","pdfView","searchBar","scrollSearchResultsToTop","scrollToTop","handleSearch","POSITIVE_RATIO","NEGATIVE_RATIO","totalPositiveCount","totalNegativeCount","ok","statusText","filesResponse","pendingNavigation","navigate","tokenOffsets","activeTab","querySelector","newFileIndex","fileIndicesByPath","scrollToBottomOfPreferences","deleteDocument","confirm","errorText","resultFilename","fromEntries","textResponse","pdfResponse","updateFile","reduce","acc","lastOffset","selectedFiles","formData","FormData","status"],"mappings":"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C,EAAY,CAAC,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,IAAK,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,KAAM,GAAI,MAAO,GAAI,KAAM,GAAI,GAAI,EAAG,IAA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","x_google_ignoreList":[0,2,3,8,12]}